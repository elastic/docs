# Debian builds the docs about 20% faster than alpine. The image is larger
# and takes longer to build but that is worth it.
FROM debian:9.6

LABEL MAINTAINERS="Nik Everett <nik@elastic.co>"

# Used by the docs build or asciidoctor
RUN \
apt-get update -qq && \
apt-get install -qq --no-install-recommends \
apt-utils \
bash \
build-essential \
curl \
cmake \
git \
libxml2-dev \
libxml2-utils \
make \
nginx \
openssh-client \
perl-base \
python \
ruby \
ruby-dev \
strace \
unzip \
xsltproc > /dev/null 2>&1

RUN gem install --no-document \
asciidoctor:1.5.8 \
asciidoctor-diagram:1.5.12 \
asciimath:1.0.8 \
thread_safe:0.3.6
