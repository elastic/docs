<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Configuration
        | APM Ruby Agent Reference [2.x]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="APM Ruby Agent Reference [2.x]" /><link rel="up" href="index.html" title="APM Ruby Agent Reference [2.x]" /><link rel="prev" href="getting-started-rack.html" title="Getting started with Rack" /><link rel="next" href="metrics.html" title="Metrics" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/APM Ruby Agent/Reference/2.x" /><meta name="DC.subject" content="APM" /><meta name="DC.identifier" content="2.x" />
    

    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
<meta name="apple-mobile-web-app-title" content="Elastic">
<meta name="application-name" content="Elastic">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">
<meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
<meta name="yandex-verification" content="d8a47e95d0972434" />
<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >



	



<!-- end DC tags -->


	<meta name="description" content="" />



	<meta name="localized" content="true" />


















		
			<meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
		

		

    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">

	 

    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    
    

    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

  <script type="text/javascript">
  // -------------------- set language based on browser language --------------------
  var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

  if($.cookie("is_lang_detected") == undefined){
    if(locales[lang] != undefined && locales[lang] != currentlocale){
      locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
      $.cookie("is_lang_detected",true ,{ path: '/'}); 
      window.location = locale_lang_url;
    } 
  }
        
  // --------------------- end of set language based on browser language -----------------
  </script>

  

	
	<link type="text/css" rel="stylesheet" href="/static/css/guide.css" />


  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
  <body >
  	<!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
                              height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
<script src="/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>


<script type="text/javascript">
  var active;
  
  active = Math.random() < 1 //0.9 
  
  elasticApm.init({
    active: active,
    serviceName: "elastic-co-frontend",
    serverUrl: "https://elastic-co-apm-server.app.elstc.co"
  })

  var pageLoadName
  var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
  var parts = pathname.split('/');

  if (parts.length && parts[1] === 'blog') {
    if (parts.length === 2) {
      pageLoadName =  '/blog';
    }
    else if (parts[2] === 'category') {
      pageLoadName =  '/blog/category';
    }
    else if (parts[2] === 'archive') {
      pageLoadName =  '/blog/archive';
    }
    else {
      pageLoadName =  '/blog/detail';
    }
  }
  else if (parts.length && parts[1] === 'elasticon') {
    if (parts.length === 2) {
      pageLoadName =  '/elasticon';
    }
    else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
      pageLoadName =  '/elasticon/overview';
    }
    else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
      pageLoadName =  '/elasticon/video';
    }
  }
  else if (parts.length && parts[1] === 'guide') {
    pageLoadName =  '/guide';
  }
  else if (parts.length === 2 && parts[1] === 'videos') {
    pageLoadName =  '/videos';
  }
  else if (parts.length > 2 && parts[1] === 'videos') {
    pageLoadName =  '/videos/detail';
  }
  else if (parts.length > 2 && parts[1] === 'webinars') {
    pageLoadName =  '/webinars/detail';
  }
  else {
    pageLoadName =  window.location.pathname;
  }

  console.log('apm pageLoadName:', pageLoadName, parts)
  elasticApm.setTags({env:"production"});
  elasticApm.setInitialPageLoadName(pageLoadName);
</script>

<!-- Elastic APM -->


    <!-- Header Section -->
    
<header class="header-wrapper">
  



  




<div class="navigation-wrapper">
  <div class="container">
    <nav class="navbar">
    <!-- Brand and toggle get grouped for better mobile display -->

    <div class="navbar-mobile-header navbar-header mr-20 mr-xs-0">
      <div class="row hidden-sm hidden-md hidden-lg">
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg">
          <div class="navbar-mobile-header-icon navbar-mobile-header-icon-out">
            <span></span>
            <span></span>
            <span></span>
          </div>
          
        </div>
        <div class="col-xs-2 text-center">
          <div class="navbar-brand" id="elastic">
            <div id="logo">
              <a class="logo-m hidden-sm hidden-md hidden-lg" href="/">
                <img src="/assets/blta09706b1c5cc1e99/elastic-logo-mobile.svg" alt="elastic-logo-mobile">
              </a>
            </div>
          </div>
        </div>
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg text-right">
          <ul class="menu-m hidden-sm hidden-md hidden-lg">
            <li class=""><a class="icon-contact" href="/contact"></a></li>

            <li id="searchbar"><a class="button icon" href="#" alt="Search"></a></li>
            <li class="lang global-language">
                
                  
                
                  
                    <a href="#">EN</a>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              <ul class="language-list">
                
                  
                    
                  
                  
                  <li><a href="/de/" data-value="/de/" id="locale-select">Deutsch</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="#" data-value="/" id="locale-select">English</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/es/" data-value="/es/" id="locale-select">Español</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/fr/" data-value="/fr/" id="locale-select">Français</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/jp/" data-value="/jp/" id="locale-select">日本語</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/kr/" data-value="/kr/" id="locale-select">한국어</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/cn/" data-value="/cn/" id="locale-select">简体中文</a></li>
                  
                
              </ul>
            </li>
          </ul>
        </div>
      </div>

      <div class="navbar-brand hidden-xs" id="elastic">
        <div id="logo">
          <a class="hidden-xs" id="elastic-logo" href="/">
            <img src="/assets/blt244a845f141977c3/elastic-logo.svg" alt="elastic-logo">
          </a>
        </div>
      </div>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse mobile-inner-nav">
      <nav class="nav navbar-nav primary-nav-hover" id="nav">
        <ul>
        
          
            
              
            
            <li>
              <a class=" " href="/products">Products</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/cloud">Cloud</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/services">Services</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/use-cases">Customers</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/learn">Learn</a>
            </li>
          
        
          
        
        </ul>
      </nav>
      <nav class="nav navbar-nav navbar-right hidden-xs">
        <ul>
          <li class="hidden-xs hidden-sm"><a href="/downloads">downloads</a></li>
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-download" href="/downloads"></a></li>
          <!-- To set parameters to contact button -->
          
           
            
          

          
            
            
          
          <li class="hidden-xs hidden-sm"><a class="btn btn-secondary btn-contact" href="/contact?storm=global-header-en">contact</a></li>
          <!-- ////////////////ends here///////////////-->          
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-contact" href="/contact?storm=global-header-en"></a></li>
          <li class="hidden-xs" id="searchbar"><a class="button icon" href="#" alt="Search"></a></li>

          <li class="hidden-xs lang global-language">
                
                  
                
                  
                    <a href="#">EN</a>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
               <ul class="language-list">
              
                
                  
                
              
              <li><a class="" href="/de/" data-value="/de/">Deutsch</a></li>
              
              
                
                  
                
              
              <li><a class="" href="#" data-value="/">English</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/es/" data-value="/es/">Español</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/fr/" data-value="/fr/">Français</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/jp/" data-value="/jp/">日本語</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/kr/" data-value="/kr/">한국어</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/cn/" data-value="/cn/">简体中文</a></li>
              
              
            </ul>
          </li>
        </ul>
      </nav>
    </div><!-- /.navbar-collapse -->
  </nav>
  </div>
</div>

<div class="header-search-wrapper open-search"> 
  <div class="container">
    <div class="big-search">
      <i class="big-search-icon"></i>
      <form id="searchfrm" name="searchForm" autocomplete="on" action="/search" method="get">
        <ul class="tags-wrapper">
          <li class="search-field"><input type="text" name="q" id="autocomplete" class="form-control global-input" autocomplete="off"></li>
        </ul>
      </form>
      <a class="header-search-cancel" href="#"></a>
    </div>
    <div class="nav-auto-complete"></div>
  </div>
</div>
</header>
<link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">
<style> 
    
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
    
</style>
<script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>
<script type="text/javascript">
  $(document).ready( function(){
    // if($('#scrollable-pane li').length > 3){
      $('.horizon-swiper').horizonSwiper({
        showItems: 3,
        arrows: true
      }); 
    // }
    
    $('.navbar-toggle').on('click', function(){
      $('.mobile-navigation, .menu-open').hide();
      $('.navigation-wrapper').addClass('mobile-navigation');
      $('.navbar').addClass('menu-open');
      $('.menu-close').show();
    });
    $('.menu-close').on('click', function(){
      $('.navigation-wrapper').removeClass('mobile-navigation');
      $('.navbar').removeClass('menu-open');
      $('.menu-close').hide();
    });

    var active_url = "";

    $(".navbar-mobile-header-icon").click(function(index){
      $('.navigation-wrapper').toggleClass('menu-overlay');
      $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
      $(".mobile-inner-nav").slideToggle(500);
      $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
        $(this).css({'animation-delay': (index/25)+'0.4s'});
      });
    });

    $('.dropdown-btn').on('click', function(e){
      e.preventDefault();
      setDropdown();
    });
    
    function setDropdown() {
      $('#myDropdown').slideToggle();
    }

    $('body').on('click', function(event){
      if (!event.target.matches('.dropdown-btn')) {

        var dropdowns = $(".dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    });

    // if($(window).width() < 769){
    //   var $item = $('.scrollable-panel li'), 
    //       visible = 3, //Set the number of items that will be visible
    //       index = 0, //Starting index
    //       endIndex = ( $item.length / visible ) - 1; //End index (NOTE:: Requires visible to be a factor of $item.length... You can improve this by rounding...)

    //   $('#right-arrow').click(function(){
    //     if(index < endIndex ){
    //       index++;
    //       $item.animate({'left':'-=300px'});
    //     }
    //   });

    //   $('#left-arrow').click(function(){
    //     if(index > 0){
    //       index--;            
    //       $item.animate({'left':'+=300px'});
    //     }
    //   });
    // }
  });
  $(window).resize(function () {
    $('.horizon-swiper').horizonSwiper({
      showItems: 3,
      arrows: true
    });
  });
</script>
    
      


  





  
  
  
  
    <div class="tertiary-nav bdr-btm-e0e0e0">
      <div class="container">
        <div class="p-t-b-15 clearfix">
          <div class="breadcrum-wrapper pull-left text-left">
          
            <a href="/guide">Docs</a> 
          
          </div>
          
          
          
        </div>
      </div>
    </div>

    <div class="nav-mobile-dropdown hidden-sm hidden-md hidden-lg bdr-btm-e0e0e0 clearfix">
      <div class="container text-right">
        <div class="breadcrum-wrapper pull-left text-left">
          
              <a href="/guide">Docs</a>
          
        </div>
        
        
      </div>
    </div>
  


<style type="text/css">

  
</style>
    
    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   
          
            
        			<!-- <div class="pageheader">
	<div class="common-container">
		
			<h2 class="page-title">Guide template</h2>
		
	</div>
</div> -->


        		
          

          
	<section id="guide" lang="en">
		<div class="container">
			<div class="row">
			  <!-- start body -->
				
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">APM Ruby Agent Reference
      [2.x]
    </a></span> » <span class="breadcrumb-node">Configuration</span></div><div class="navheader"><span class="prev"><a href="getting-started-rack.html">
              « 
              Getting started with Rack</a>
           
        </span><span class="next">
           
          <a href="metrics.html">Metrics
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="configuration"></a>Configuration<a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h1></div></div></div><p>There are several ways to configure how Elastic APM behaves.</p><p>The recommended way to configure Elastic APM is to create a file
<code class="literal">config/elastic_apm.yml</code> and specify options in there:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">---
server_url: 'http://localhost:8200'
secret_token: &lt;%= ENV["VERY_SECRET_TOKEN"] %&gt;</pre></div><p>Options are applied in the following order (last one wins):</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Defaults
</li><li class="listitem">
Arguments to <code class="literal">ElasticAPM.start</code> / <code class="literal">Config.new</code>
</li><li class="listitem">
Config file eg. <code class="literal">config/elastic_apm.yml</code>
</li><li class="listitem">
Environment variables
</li></ol></div><h3><a id="_ruby_on_rails"></a>Ruby on Rails<a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>When using Rails it’s also possible to specify options inside
<code class="literal">config/application.rb</code>:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ruby"># config/application.rb
config.elastic_apm.service_name = 'MyApp'</pre></div><h3><a id="_sinatra_and_rack"></a>Sinatra and Rack<a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>When using APM with Sinatra and Rack you can configure it when starting
the agent:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ruby"># config.ru or similar
ElasticAPM.start(
  app: MyApp,
  service_name: 'SomeOtherName'
)</pre></div><p>See <a class="xref" href="getting-started-rack.html" title="Getting started with Rack"><em>Getting started with Rack</em></a>.</p><h3><a id="_options"></a>Options<a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Some options can be set with <code class="literal">ENV</code> variables and all of them may be set in
your source code.</p><p>When setting values for lists using <code class="literal">ENV</code> variables, strings are split by comma
eg <code class="literal">ELASTIC_APM_ENABLED_ENVIRONMENTS=development,production</code>.</p><h4><a id="config-config-file"></a><code class="literal">config_file</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top"> Environment               </th><th align="left" valign="top"> <code class="literal">Config</code> key  </th><th align="left" valign="top"> Default</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_CONFIG_FILE</code></p></td><td align="left" valign="top"><p><code class="literal">config_file</code></p></td><td align="left" valign="top"><p><code class="literal">config/elastic_apm.yml</code></p></td></tr></tbody></table></div><p>Path to the configuration YAML-file.
Elastic APM will load config options from this if the file exists.
The file will be evaluated as ERB, so you can include <code class="literal">ENV</code> variables like in
your <code class="literal">database.yml</code>, eg:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ruby">secret_token: &lt;%= ENV['VERY_SECRET_TOKEN'] %&gt;</pre></div><h4><a id="config-server-url"></a><code class="literal">server_url</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top"> Environment              </th><th align="left" valign="top"> <code class="literal">Config</code> key   </th><th align="left" valign="top"> Default</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SERVER_URL</code></p></td><td align="left" valign="top"><p><code class="literal">server_url</code></p></td><td align="left" valign="top"><p><code class="literal">'http://localhost:8200'</code></p></td></tr></tbody></table></div><p>The URL for your APM Server.
The URL must be fully qualified, including protocol (<code class="literal">http</code> or <code class="literal">https</code>)
and port.</p><h4><a id="config-secret-token"></a><code class="literal">secret_token</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="left" valign="top"> Environment                </th><th align="left" valign="top"> <code class="literal">Config</code> key    </th><th align="left" valign="top"> Default </th><th align="left" valign="top"> Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SECRET_TOKEN</code></p></td><td align="left" valign="top"><p><code class="literal">secret_token</code></p></td><td align="left" valign="top"><p><code class="literal">nil</code></p></td><td align="left" valign="top"><p>A random string</p></td></tr></tbody></table></div><p>This string is used to ensure that only your agents can send data to your APM server.
Both the agents and the APM server have to be configured with the same secret token.
One example to generate a secure secret token is:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-bash">ruby -r securerandom -e 'print SecureRandom.uuid'</pre></div><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>Secret tokens only provide any real security if your APM server use TLS.</p></div></div><h4><a id="config-api-buffer-size"></a><code class="literal">api_buffer_size</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p>Environment</p></td><td align="left" valign="top"><p><code class="literal">Config</code> key</p></td><td align="left" valign="top"><p>Default</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_API_BUFFER_SIZE</code></p></td><td align="left" valign="top"><p><code class="literal">api_buffer_size</code></p></td><td align="left" valign="top"><p><code class="literal">256</code></p></td></tr></tbody></table></div><p>Maximum amount of objects kept in queue, before sending to APM Server.</p><p>If you hit this limit you either have to increase the agent’s
<a class="link" href="configuration.html#config-pool-size" title="pool_sizeedit">worker pool size</a> or it could mean the agent has trouble
connecting to APM Server. The <a class="link" href="configuration.html#config-log-path" title="log_pathedit">logs</a> should tell you what
went wrong.</p><h4><a id="config-api-request-size"></a><code class="literal">api_request_size</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p>Environment</p></td><td align="left" valign="top"><p><code class="literal">Config</code> key</p></td><td align="left" valign="top"><p>Default</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_API_REQUEST_SIZE</code></p></td><td align="left" valign="top"><p><code class="literal">api_request_size</code></p></td><td align="left" valign="top"><p><code class="literal">"750kb"</code></p></td></tr></tbody></table></div><p>Maximum amount of bytes sent over one request to APM Server. When reached the agent
will open a new request.</p><p>It has to be provided in <span class="strong strong"><strong><a class="link" href="configuration.html#config-format-size" title="Size formatedit">size format</a></strong></span>.</p><h4><a id="config-api-request-time"></a><code class="literal">api_request_time</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p>Environment</p></td><td align="left" valign="top"><p><code class="literal">Config</code> key</p></td><td align="left" valign="top"><p>Default</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_API_REQUEST_TIME</code></p></td><td align="left" valign="top"><p><code class="literal">api_request_time</code></p></td><td align="left" valign="top"><p><code class="literal">"10s"</code></p></td></tr></tbody></table></div><p>Maximum duration of a single streaming request to APM Server before opening
a new one.</p><p>APM Server has its own limit of 30 seconds before it will close requests.</p><p>It has to be provided in <span class="strong strong"><strong><a class="link" href="configuration.html#config-format-duration" title="Duration formatedit">duration format</a></strong></span>.</p><h4><a id="config-capture-body"></a><code class="literal">capture_body</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p>Environment</p></td><td align="left" valign="top"><p><code class="literal">Config</code> key</p></td><td align="left" valign="top"><p>Default</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_CAPTURE_BODY</code></p></td><td align="left" valign="top"><p><code class="literal">capture_body</code></p></td><td align="left" valign="top"><p><code class="literal">true</code></p></td></tr></tbody></table></div><p>Whether or not to attach the request body to transactions and errors.</p><h4><a id="config-capture-headers"></a><code class="literal">capture_headers</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p>Environment</p></td><td align="left" valign="top"><p><code class="literal">Config</code> key</p></td><td align="left" valign="top"><p>Default</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_CAPTURE_HEADERS</code></p></td><td align="left" valign="top"><p><code class="literal">capture_headers</code></p></td><td align="left" valign="top"><p><code class="literal">true</code></p></td></tr></tbody></table></div><p>Whether or not to attach the request headers to transactions and errors.</p><h4><a id="config-capture-env"></a><code class="literal">capture_env</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p>Environment</p></td><td align="left" valign="top"><p><code class="literal">Config</code> key</p></td><td align="left" valign="top"><p>Default</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_CAPTURE_ENV</code></p></td><td align="left" valign="top"><p><code class="literal">capture_env</code></p></td><td align="left" valign="top"><p><code class="literal">true</code></p></td></tr></tbody></table></div><p>Whether or not to attach <code class="literal">ENV</code> from Rack to transactions and errors.</p><h4><a id="config-custom-key-filters"></a><code class="literal">custom_key_filters</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="left" valign="top"> Environment                      </th><th align="left" valign="top"> <code class="literal">Config</code> key         </th><th align="left" valign="top"> Default </th><th align="left" valign="top"> Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_CUSTOM_KEY_FILTERS</code></p></td><td align="left" valign="top"><p><code class="literal">custom_key_filters</code></p></td><td align="left" valign="top"><p><code class="literal">[]</code></p></td><td align="left" valign="top"><p><code class="literal">['MyAuthHeader']</code></p></td></tr></tbody></table></div><p>Elastic APM strips
<a class="ulink" href="https://github.com/elastic/apm-agent-ruby/blob/1.x/lib/elastic_apm/filters/secrets_filter.rb" target="_top">
what looks like confidential information</a> from the request/response headers.
Use this option to add your own custom header keys to the list of filtered keys.</p><p>When setting this option via <code class="literal">ENV</code>, use a comma separated string.
Eg. <code class="literal">ELASTIC_APM_CUSTOM_KEY_FILTERS="a,b" # =&gt; [/a/, /b/]</code></p><h4><a id="config-default-tags"></a><code class="literal">default_tags</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="left" valign="top"> Environment                </th><th align="left" valign="top"> <code class="literal">Config</code> key   </th><th align="left" valign="top"> Default </th><th align="left" valign="top"> Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_DEFAULT_TAGS</code></p></td><td align="left" valign="top"><p><code class="literal">default_tags</code></p></td><td align="left" valign="top"><p><code class="literal">{}</code></p></td><td align="left" valign="top"><p><code class="literal">region=us1</code></p></td></tr></tbody></table></div><p>Add default tags to add to every transaction.</p><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>Be aware that tags are indexed in Elasticsearch. Using too many unique keys will result in <span class="strong strong"><strong><a class="ulink" href="https://www.elastic.co/blog/found-crash-elasticsearch#mapping-explosion" target="_top">Mapping explosion</a></strong></span>.</p></div></div><h4><a id="config-disable-send"></a><code class="literal">disable_send</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p>Environment</p></td><td align="left" valign="top"><p><code class="literal">Config</code> key</p></td><td align="left" valign="top"><p>Default</p></td></tr><tr><td align="left" valign="top"><p>N/A</p></td><td align="left" valign="top"><p><code class="literal">disable_send</code></p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td></tr></tbody></table></div><p>Disables sending payloads to APM Server.</p><h4><a id="config-disabled-spies"></a><code class="literal">disabled_spies</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top"> Environment                  </th><th align="left" valign="top"> <code class="literal">Config</code> key     </th><th align="left" valign="top"> Default</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_DISABLED_SPIES</code></p></td><td align="left" valign="top"><p><code class="literal">disabled_spies</code></p></td><td align="left" valign="top"><p><code class="literal">['json']</code></p></td></tr></tbody></table></div><p>Elastic APM automatically instruments select third party libraries.
Use this option to disable any of these.</p><p>Get an array of enabled spies with <code class="literal">ElasticAPM.agent.config.enabled_spies</code>.</p><h4><a id="config-environment"></a><code class="literal">environment</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="left" valign="top"> Environment               </th><th align="left" valign="top"> <code class="literal">Config</code> key   </th><th align="left" valign="top"> Default    </th><th align="left" valign="top"> Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_ENVIRONMENT</code></p></td><td align="left" valign="top"><p><code class="literal">environment</code></p></td><td align="left" valign="top"><p>From <code class="literal">ENV</code></p></td><td align="left" valign="top"><p><code class="literal">"production"</code></p></td></tr></tbody></table></div><p>The name of the environment this service is deployed in,
e.g. "production" or "staging".</p><p>Defaults to <code class="literal">ENV['RAILS_ENV'] || ENV['RACK_ENV']</code>.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>Kibana will not differentiate between different environments. To avoid
mixing data from multiple environments, consider appending the environment to
<code class="literal">service_name</code>.</p></div></div><h4><a id="config-filter-exception-types"></a><code class="literal">filter_exception_types</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><tbody><tr><td align="left" valign="top"><p>Environment</p></td><td align="left" valign="top"><p><code class="literal">Config</code> key</p></td><td align="left" valign="top"><p>Default</p></td><td align="left" valign="top"><p>Example</p></td></tr><tr><td align="left" valign="top"><p>N/A</p></td><td align="left" valign="top"><p><code class="literal">filter_exception_types</code></p></td><td align="left" valign="top"><p><code class="literal">[]</code></p></td><td align="left" valign="top"><p><code class="literal">[MyApp::Errors::IgnoredError]</code></p></td></tr></tbody></table></div><p>Use this to filter error tracking for specific error constants.</p><h4><a id="config-framework-name"></a><code class="literal">framework_name</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top"> Environment                  </th><th align="left" valign="top"> <code class="literal">Config</code> key     </th><th align="left" valign="top"> Default</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_FRAMEWORK_NAME</code></p></td><td align="left" valign="top"><p><code class="literal">framework_name</code></p></td><td align="left" valign="top"><p>Depending on framework</p></td></tr></tbody></table></div><p>Name of the used framework.
For Rails or Sinatra, this defaults to <code class="literal">Ruby on Rails</code> and <code class="literal">Sinatra</code> respectively,
otherwise defaults to <code class="literal">nil</code>.</p><h4><a id="config-framework-version"></a><code class="literal">framework_version</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top"> Environment                     </th><th align="left" valign="top"> <code class="literal">Config</code> key        </th><th align="left" valign="top"> Default</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_FRAMEWORK_VERSION</code></p></td><td align="left" valign="top"><p><code class="literal">framework_version</code></p></td><td align="left" valign="top"><p>Depending on framework</p></td></tr></tbody></table></div><p>Version number of the used framework.
For Ruby on Rails and Sinatra, this defaults to the used version of the framework,
otherwise, the default is <code class="literal">nil</code>.</p><h4><a id="config-hostname"></a><code class="literal">hostname</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="left" valign="top"> Environment                </th><th align="left" valign="top"> <code class="literal">Config</code> key  </th><th align="left" valign="top"> Default    </th><th align="left" valign="top"> Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_HOSTNAME</code></p></td><td align="left" valign="top"><p><code class="literal">hostname</code></p></td><td align="left" valign="top"><p><code class="literal">hostname</code></p></td><td align="left" valign="top"><p><code class="literal">app-server01.example.com</code></p></td></tr></tbody></table></div><p>The host name to use when sending error and transaction data to the APM server.</p><h4><a id="config-custom-ignore-url-patterns"></a><code class="literal">ignore_url_patterns</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="left" valign="top"> Environment                       </th><th align="left" valign="top"> <code class="literal">Config</code> key          </th><th align="left" valign="top"> Default </th><th align="left" valign="top"> Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_IGNORE_URL_PATTERNS</code></p></td><td align="left" valign="top"><p><code class="literal">ignore_url_patterns</code></p></td><td align="left" valign="top"><p><code class="literal">[]</code></p></td><td align="left" valign="top"><p><code class="literal">['^/ping', %r{^/admin}]</code></p></td></tr></tbody></table></div><p>Use this option to ignore certain URL patterns eg. healthchecks or admin sections.</p><p><span class="emphasis"><em>Ignoring</em></span> in this context means <span class="emphasis"><em>don’t wrap in a <a class="link" href="api.html#api-transaction" title="Transactionedit">Transaction</a></em></span>.
Errors will still be reported.</p><p>When setting this option via <code class="literal">ENV</code>, use a comma separated string.
Eg. <code class="literal">ELASTIC_APM_IGNORE_URL_PATTERNS="a,b" # =&gt; [/a/, /b/]</code></p><h4><a id="config-instrument"></a><code class="literal">instrument</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="left" valign="top"> Environment              </th><th align="left" valign="top"> <code class="literal">Config</code> key </th><th align="left" valign="top"> Default </th><th align="left" valign="top"> Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_INSTRUMENT</code></p></td><td align="left" valign="top"><p><code class="literal">instrument</code></p></td><td align="left" valign="top"><p><code class="literal">true</code></p></td><td align="left" valign="top"><p><code class="literal">0</code></p></td></tr></tbody></table></div><p>Use this option to ignore certain URL patterns eg. healthchecks or admin sections.</p><h4><a id="config-instrumented-rake-tasks"></a><code class="literal">instrumented_rake_tasks</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="left" valign="top"> Environment                           </th><th align="left" valign="top"> <code class="literal">Config</code> key              </th><th align="left" valign="top"> Default </th><th align="left" valign="top"> Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_INSTRUMENTED_RAKE_TASKS</code></p></td><td align="left" valign="top"><p><code class="literal">instrumented_rake_tasks</code></p></td><td align="left" valign="top"><p><code class="literal">[]</code></p></td><td align="left" valign="top"><p><code class="literal">['my_task']</code></p></td></tr></tbody></table></div><p>Elastic APM can instrument your Rake tasks but given that they are used for a multitude of sometimes very different and not always relevant things, this is opt in.</p><h4><a id="config-log-level"></a><code class="literal">log_level</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top"> Environment             </th><th align="left" valign="top"> <code class="literal">Config</code> key </th><th align="left" valign="top"> Default</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_LOG_LEVEL</code></p></td><td align="left" valign="top"><p><code class="literal">log_level</code></p></td><td align="left" valign="top"><p><code class="literal">Logger::INFO # =&gt; 1</code></p></td></tr></tbody></table></div><p>By default Elastic APM logs to <code class="literal">stdout</code> or uses <code class="literal">Rails.log</code> when used with Rails.</p><h4><a id="config-log-path"></a><code class="literal">log_path</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="left" valign="top"> Environment            </th><th align="left" valign="top"> <code class="literal">Config</code> key </th><th align="left" valign="top"> Default </th><th align="left" valign="top"> Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_LOG_PATH</code></p></td><td align="left" valign="top"><p><code class="literal">log_path</code></p></td><td align="left" valign="top"><p><code class="literal">nil</code></p></td><td align="left" valign="top"><p><code class="literal">log/elastic_apm.log</code></p></td></tr></tbody></table></div><p>A path to a log file.</p><p>By default Elastic APM logs to <code class="literal">stdout</code> or uses <code class="literal">Rails.log</code> when used with Rails.</p><p>Should support both absolute and relative paths. Just make sure the directory exists.</p><h4><a id="config-logger"></a><code class="literal">logger</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="left" valign="top"> Environment </th><th align="left" valign="top"> <code class="literal">Config</code> key </th><th align="left" valign="top"> Default </th><th align="left" valign="top"> Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p>N/A</p></td><td align="left" valign="top"><p><code class="literal">logger</code></p></td><td align="left" valign="top"><p>Depends</p></td><td align="left" valign="top"><p><code class="literal">Logger.new('path/to_file.log')</code></p></td></tr></tbody></table></div><p>By default Elastic APM logs to <code class="literal">stdout</code> or uses <code class="literal">Rails.log</code> when used with Rails.</p><p>Use this to provide another logger. Expected to have the same API as Ruby’s built-in <code class="literal">Logger</code>.</p><h4><a id="config-metrics-interval"></a><code class="literal">metrics_interval</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top"> Environment                    </th><th align="left" valign="top"> <code class="literal">Config</code> key       </th><th align="left" valign="top"> Default</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_METRICS_INTERVAL</code></p></td><td align="left" valign="top"><p><code class="literal">metrics_interval</code></p></td><td align="left" valign="top"><p><code class="literal">'30s'</code></p></td></tr></tbody></table></div><p>Specify the interval for reporting metrics to APM Server.
The interval should be in seconds,
or should include a time suffix.</p><p>To disable metrics reporting,
set the interval to <code class="literal">0</code>.</p><h4><a id="config-pool-size"></a><code class="literal">pool_size</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="left" valign="top"> Environment             </th><th align="left" valign="top"> <code class="literal">Config</code> key </th><th align="left" valign="top"> Default </th><th align="left" valign="top"> Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_POOL_SIZE</code></p></td><td align="left" valign="top"><p><code class="literal">pool_size</code></p></td><td align="left" valign="top"><p><code class="literal">1</code></p></td><td align="left" valign="top"><p><code class="literal">2</code></p></td></tr></tbody></table></div><p>Elastic APM uses a thread pool to send its data to APM Server.</p><p>This makes sure the agent doesn’t block the main thread any more than necessary.</p><p>If you have high load and get warnings about the buffer being full, increasing
the worker pool size might help.</p><h4><a id="config-service-name"></a><code class="literal">service_name</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="left" valign="top"> Environment                </th><th align="left" valign="top"> <code class="literal">Config</code> key   </th><th align="left" valign="top"> Default    </th><th align="left" valign="top"> Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SERVICE_NAME</code></p></td><td align="left" valign="top"><p><code class="literal">service_name</code></p></td><td align="left" valign="top"><p>App’s name</p></td><td align="left" valign="top"><p><code class="literal">MyApp</code></p></td></tr></tbody></table></div><p>The name of your service.
This is used to keep all the errors and transactions of your service together and is
the primary filter in the Elastic APM user interface.</p><p>If you’re using Ruby on Rails this will default to your app’s name.
If you’re using Sinatra it will default to the name of your app’s class.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>The service name must conform to this regular expression: <code class="literal">^[a-zA-Z0-9 _-]+$</code>.
In layman’s terms: Your service name must only contain characters from the ASCII
alphabet, numbers, dashes, underscores and spaces.</p></div></div><h4><a id="config-service-version"></a><code class="literal">service_version</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="left" valign="top"> Environment                    </th><th align="left" valign="top"> <code class="literal">Config</code> key      </th><th align="left" valign="top"> Default   </th><th align="left" valign="top"> Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SERVICE_VERSION</code></p></td><td align="left" valign="top"><p><code class="literal">service_version</code></p></td><td align="left" valign="top"><p><code class="literal">git</code> sha</p></td><td align="left" valign="top"><p>A string indicating the version of the deployed service</p></td></tr></tbody></table></div><p>Deployed version of your service.
Defaults to <code class="literal">git rev-parse --verify HEAD</code>.</p><h4><a id="config-source-lines-error-app-frames"></a><code class="literal">source_lines_error_app_frames</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><h4><a id="config-source-lines-error-library-frames"></a><code class="literal">source_lines_error_library_frames</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><h4><a id="config-source-lines-span-app-frames"></a><code class="literal">source_lines_span_app_frames</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><h4><a id="config-source-lines-span-library-frames"></a><code class="literal">source_lines_span_library_frames</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p>Environment</p></td><td align="left" valign="top"><p><code class="literal">Config</code> key</p></td><td align="left" valign="top"><p>Default</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SOURCE_LINES_ERROR_APP_FRAMES</code></p></td><td align="left" valign="top"><p><code class="literal">source_lines_error_app_frames</code></p></td><td align="left" valign="top"><p><code class="literal">5</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SOURCE_LINES_ERROR_LIBRARY_FRAMES</code></p></td><td align="left" valign="top"><p><code class="literal">source_lines_error_library_frames</code></p></td><td align="left" valign="top"><p><code class="literal">5</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SOURCE_LINES_SPAN_APP_FRAMES</code></p></td><td align="left" valign="top"><p><code class="literal">source_lines_span_app_frames</code></p></td><td align="left" valign="top"><p><code class="literal">0</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SOURCE_LINES_SPAN_LIBRARY_FRAMES</code></p></td><td align="left" valign="top"><p><code class="literal">source_lines_span_library_frames</code></p></td><td align="left" valign="top"><p><code class="literal">0</code></p></td></tr></tbody></table></div><p>By default, the APM agent collects source code snippets for errors.
With the above settings, you can modify how many lines of source code is collected.</p><p>We differ between errors and spans, as well as library frames and app frames.</p><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>Especially for spans, collecting source code can have a large impact on
storage use in your Elasticsearch cluster.</p></div></div><h4><a id="config-span-frames-min-duration-ms"></a><code class="literal">span_frames_min_duration</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p>Environment</p></td><td align="left" valign="top"><p><code class="literal">Config</code> key</p></td><td align="left" valign="top"><p>Default</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SPAN_FRAMES_MIN_DURATION</code></p></td><td align="left" valign="top"><p><code class="literal">span_frames_min_duration</code></p></td><td align="left" valign="top"><p><code class="literal">"5ms"</code></p></td></tr></tbody></table></div><p>Use this to disable stacktrace frame collection for spans with a duration shorter
than or equal to the given amount of milleseconds.</p><p>The default is <code class="literal">"5ms"</code>.</p><p>Set it to <code class="literal">-1</code> to collect stack traces for all spans.
Set it to <code class="literal">0</code> to disable stack trace collection for all spans.</p><p>It has to be provided in <span class="strong strong"><strong><a class="link" href="configuration.html#config-format-duration" title="Duration formatedit">duration format</a></strong></span>.</p><h4><a id="config-transaction-max-spans"></a><code class="literal">transaction_max_spans</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p>Environment</p></td><td align="left" valign="top"><p><code class="literal">Config</code> key</p></td><td align="left" valign="top"><p>Default</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_TRANSACTION_MAX_SPANS</code></p></td><td align="left" valign="top"><p><code class="literal">transaction_max_spans</code></p></td><td align="left" valign="top"><p><code class="literal">500</code></p></td></tr></tbody></table></div><p>Limits the amount of spans that are recorded per transaction.
This is helpful in cases where a transaction creates a very high amount of spans
(e.g. thousands of SQL queries).
Setting an upper limit will prevent overloading the agent and the APM server with
too much work for such edge cases.</p><h4><a id="config-transaction-sample-rate"></a><code class="literal">transaction_sample_rate</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p>Environment</p></td><td align="left" valign="top"><p><code class="literal">Config</code> key</p></td><td align="left" valign="top"><p>Default</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_TRANSACTION_SAMPLE_RATE</code></p></td><td align="left" valign="top"><p><code class="literal">transaction_sample_rate</code></p></td><td align="left" valign="top"><p><code class="literal">1.0</code></p></td></tr></tbody></table></div><p>By default, the agent will sample every transaction (e.g. request to your service).
To reduce overhead and storage requirements, you can set the sample rate to a value
between <code class="literal">0.0</code> and <code class="literal">1.0</code>.
We still record overall time and the result for unsampled transactions, but no
context information, tags, or spans.</p><h4><a id="config-verify-server-cert"></a><code class="literal">verify_server_cert</code><a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p>Environment</p></td><td align="left" valign="top"><p><code class="literal">Config</code> key</p></td><td align="left" valign="top"><p>Default</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_VERIFY_SERVER_CERT</code></p></td><td align="left" valign="top"><p><code class="literal">verify_server_cert</code></p></td><td align="left" valign="top"><p><code class="literal">true</code></p></td></tr></tbody></table></div><p>By default, the agent verifies the SSL certificate if you use an HTTPS connection to
the APM server.
Verification can be disabled by changing this setting to <code class="literal">false</code>.</p><h3><a id="config-formats"></a>Configuration formats<a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Some options require a unit, either duration or size.
These need to be provided in a specific format.</p><h4><a id="config-format-duration"></a>Duration format<a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The <span class="emphasis"><em>duration</em></span> format is used for options like timeouts.
The unit is provided as suffix directly after the number, without any separation by whitespace.</p><p><span class="strong strong"><strong>Example</strong></span>: <code class="literal">"5ms"</code></p><p><span class="strong strong"><strong>Supported units</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<code class="literal">ms</code> (milliseconds)
</li><li class="listitem">
<code class="literal">s</code> (seconds)
</li><li class="listitem">
<code class="literal">m</code> (minutes)
</li></ul></div><h4><a id="config-format-size"></a>Size format<a href="https://github.com/elastic/apm-agent-ruby/edit/2.x/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The <span class="emphasis"><em>size</em></span> format is used for options like maximum buffer sizes.
The unit is provided as suffix directly after the number, without any separation by whitespace.</p><p><span class="strong strong"><strong>Example</strong></span>: <code class="literal">10kb</code></p><p><span class="strong strong"><strong>Supported units</strong></span>:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<code class="literal">b</code> (bytes)
</li><li class="listitem">
<code class="literal">kb</code> (kilobytes)
</li><li class="listitem">
<code class="literal">mb</code> (megabytes)
</li><li class="listitem">
<code class="literal">gb</code> (gigabytes)
</li></ul></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>we use the power-of-two sizing convention, e.g. <code class="literal">1 kilobyte == 1024 bytes</code></p></div></div></div><div class="navfooter"><span class="prev"><a href="getting-started-rack.html">
              « 
              Getting started with Rack</a>
           
        </span><span class="next">
           
          <a href="metrics.html">Metrics
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
					<div id="rtpcontainer" style="display: block;">
						<div class="mktg-promo">
						<h3>Getting Started Videos</h3>
						<ul class="icons">
							<li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
							<li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
							<li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
						</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

        </div>
      	


<div id="footer-subscribe" class="home-footer-subscribe">
  <div class="subscribe-wrapper">
    <div class="container">
      <div class="subscribe-form-container">
        <div class="subscribe-title col-md-12 col-lg-6">
            <h5>Be in the know with the latest and greatest from Elastic.</h5>
        </div>
        <div class="subscribe-form col-md-12 col-lg-6">
          <form class="mktoForm sb-form"></form>
        </div>
      </div>
      <div class="form_thanks hide">
        
          <p>Thanks for subscribing! We'll keep you updated with new releases.</p>
        
      </div>
    </div>
  </div>
</div>
<!--subscribe newsletter end-->

<!-- Footer Section -->
<footer class="footer-wrapper">
  <div class="container">
    <div class="row footer-content">
        
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/products">Products ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/products/elasticsearch">Elasticsearch</a></li>
                  
                
              
                
                  
                    <li><a href="/products/kibana">Kibana</a></li>
                  
                
              
                
                  
                    <li><a href="/products/beats">Beats</a></li>
                  
                
              
                
                  
                    <li><a href="/products/logstash">Logstash</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack">Stack Features (formerly X-Pack)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/security">Security</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/alerting">Alerting</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/canvas">Canvas</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/monitoring">Monitoring</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/graph">Graph</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/reporting">Reporting</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/machine-learning">Machine Learning</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/elasticsearch-sql">Elasticsearch SQL</a></li>
                  
                
              
                
                  
                    <li><a href="/products/hadoop">Elasticsearch-Hadoop</a></li>
                  
                
              
                
                  
                    <li><a href="/products/ece">Elastic Cloud Enterprise</a></li>
                  
                
              
              </ul>
              
                <h3><a href=""></a></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/solutions">Solutions ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/solutions/logging">Logging</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/metrics">Metrics</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/site-search">Site Search</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/security-analytics">Security Analytics</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/apm">APM</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/app-search">App Search</a></li>
                  
                
              
              </ul>
              
                <h3><a href="/cloud">Elastic Cloud ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/cloud/elasticsearch-service">Elasticsearch Service</a></li>
                  
                
              
                
                  
                    <li><a href="/aws-elasticsearch-service">AWS Elasticsearch Service Comparison</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud/app-search-service">Elastic App Search Service</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud/site-search-service">Elastic Site Search Service</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3>Resources</h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/blog">Blog</a></li>
                  
                
              
                
                  
                    <li><a href="https://cloud-status.elastic.co">Cloud Status</a></li>
                  
                
              
                
                  
                    <li><a href="/community">Community</a></li>
                  
                
              
                
                  
                    <li><a href="/use-cases">Customers & Use Cases</a></li>
                  
                
              
                
                  
                    <li><a href="/guide">Documentation</a></li>
                  
                
              
                
                  
                    <li><a href="/elasticon">Elastic{ON} Events</a></li>
                  
                
              
                
                  
                    <li><a href="https://discuss.elastic.co/">Forums</a></li>
                  
                
              
                
                  
                    <li><a href="/community/meetups">Meetups</a></li>
                  
                
              
                
                  
                    <li><a href="/subscriptions">Subscriptions</a></li>
                  
                
              
                
                  
                    <li><a href="https://support.elastic.co">Support Portal</a></li>
                  
                
              
                
                  
                    <li><a href="/videos">Videos & Webinars</a></li>
                  
                
              
                
                  
                    <li><a href="/training">Training</a></li>
                  
                
              
              </ul>
              
                <h3></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/about">About ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/about/careers">Careers/Jobs</a></li>
                  
                
              
                
                  
                    <li><a href="/about/our-source-code">Our Source Code</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams">Teams</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams/board">Board of Directors</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams/leadership">Leadership</a></li>
                  
                
              
                
                  
                    <li><a href="/contact">Contact</a></li>
                  
                
              
                
                  
                    <li><a href="/about/history-of-elasticsearch">Our Story</a></li>
                  
                
              
                
                  
                    <li><a href="/about/why-open-source">Why Open Source</a></li>
                  
                
              
                
                  
                    <li><a href="/about/distributed">Distributed by Intention</a></li>
                  
                
              
                
                  
                    <li><a href="/about/partners">Partners</a></li>
                  
                
              
                
                  
                    <li><a href="/about/press">Media</a></li>
                  
                
              
                
                  
                    <li><a href="https://ir.elastic.co">Investor Relations</a></li>
                  
                
              
                
                  
                    <li><a href="https://www.elastic.shop">Elastic Store</a></li>
                  
                
              
              </ul>
              
                <h3><a href=""></a></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
       
    </div>
     <!-- Social Media Section -->
    <div class="row social-icon">
      <div class="col-xs-12 col-sm-12 col-md-6 col-md-offset-3">
	    <div class="row">
		     <div class="follow-us col-xs-12 col-sm-12 col-md-12">
			    <div class="social-label">FOLLOW US</div>
			    <ul class="social-icon-list">
          
          		 	<li class="Facebook"><a id="footer_facebook" href="https://www.facebook.com/elastic.co">Facebook</a></li>
          
          		 	<li class="Twitter"><a id="footer_twitter" href="https://www.twitter.com/elastic">Twitter</a></li>
          
          		 	<li class="LinkedIn"><a id="footer_linkedin" href="https://www.linkedin.com/company/elastic-co">LinkedIn</a></li>
          
          		 	<li class="Xing"><a id="footer_xing" href="https://www.xing.com/companies/elastic.co">Xing</a></li>
          
          		 	<li class="YouTube"><a id="footer_youtube" href="https://www.youtube.com/user/elasticsearch">YouTube</a></li>
          
		  		</ul>
		     </div>
	    </div>
      </div>
    </div>
    <!-- Social Media Section end-->
    <div class="row">
	<div class="col-xs-12 col-sm-12 col-md-11">
		<div class="copyright">
			<ul>
				<li><a href="/legal/trademarks">Trademarks</a></li>
				<li><a href="/legal/terms-of-use">Terms of Use</a></li>
				<li><a href="/legal/privacy-statement">Privacy</a></li>
				<li><a href="/brand">Brand</a></li>
			</ul>
			<div class="copyright-content">
				<div class="footer-text">
					<p>© 2019. Elasticsearch B.V. All Rights Reserved
					</p>
					<p>Elasticsearch is a trademark of Elasticsearch B.V., registered in the U.S. and in other countries.
					</p>
					<p>Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a> in the United States and/or other countries.
					</p>
				</div>
			</div>
		</div>
	</div>
	<div class="col-xs-2 col-xs-offset-5 col-sm-1 col-sm-offset-5 col-md-1 col-md-offset-0">
		<div class="footer-logo"><a href="/"><img src="/static/images/svg/logo-elastic-footer-stacked-999.svg" class="img-responsive"></a>
		</div>
	</div>
</div>
  </div>
</footer>
<!-- Footer Section end-->

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>
 
     
<script type="text/javascript">
$(document).ready(function(){
	if (window.location.hash.length) {
	      var target = $(window.location.hash);
	      target = target.length ? target : $(window.location.hash);
	      if (target.length) {
	        setTimeout(function(){ $(window).scrollTop(target.offset().top - 60); }, 1200);        
	      }
	}
	$('#guide').on('click','a[href*=#]:not([href=#])',function(e) {
			var flag=true;
		      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		          var target = $(this.hash);
		          target = target.length ? target :$(this.hash);
		          if (target.length) {
		            if(flag){
		              flag=false;
		              var heightScroll=($('.tertiary-nav.navbar-fixed-top').height())?60:110;
		              $('html,body').animate({
		                  scrollTop: target.offset().top - heightScroll
		                }, 2000, function(){
		                  flag=true;
		                });
		            }                    
		          }
		      }
		    
	});

})

</script>

     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>