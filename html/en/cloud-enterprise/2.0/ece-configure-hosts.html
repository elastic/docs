<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Your Own Hosts
        | Elastic Cloud Enterprise Reference [2.0]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [2.0]" /><link rel="up" href="ece-configuring.html" title="Prepare Your Environment" /><link rel="prev" href="ece-configuring.html" title="Prepare Your Environment" /><link rel="next" href="ece-configure-ami.html" title="Amazon Machine Images (AMIs)" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/2.0" /><meta name="DC.subject" content="ECE" /><meta name="DC.identifier" content="2.0" />
    

    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
<meta name="apple-mobile-web-app-title" content="Elastic">
<meta name="application-name" content="Elastic">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">
<meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
<meta name="yandex-verification" content="d8a47e95d0972434" />
<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >



	



<!-- end DC tags -->


	<meta name="description" content="" />



	<meta name="localized" content="true" />


















		
			<meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
		

		

    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">

	 

    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    
    

    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

  <script type="text/javascript">
  // -------------------- set language based on browser language --------------------
  var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

  if($.cookie("is_lang_detected") == undefined){
    if(locales[lang] != undefined && locales[lang] != currentlocale){
      locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
      $.cookie("is_lang_detected",true ,{ path: '/'}); 
      window.location = locale_lang_url;
    } 
  }
        
  // --------------------- end of set language based on browser language -----------------
  </script>

  

	
	<link type="text/css" rel="stylesheet" href="/static/css/guide.css" />


  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
  <body >
  	<!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
                              height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
<script src="/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>


<script type="text/javascript">
  var active;
  
  active = Math.random() < 1 //0.9 
  
  elasticApm.init({
    active: active,
    serviceName: "elastic-co-frontend",
    serverUrl: "https://elastic-co-apm-server.app.elstc.co"
  })

  var pageLoadName
  var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
  var parts = pathname.split('/');

  if (parts.length && parts[1] === 'blog') {
    if (parts.length === 2) {
      pageLoadName =  '/blog';
    }
    else if (parts[2] === 'category') {
      pageLoadName =  '/blog/category';
    }
    else if (parts[2] === 'archive') {
      pageLoadName =  '/blog/archive';
    }
    else {
      pageLoadName =  '/blog/detail';
    }
  }
  else if (parts.length && parts[1] === 'elasticon') {
    if (parts.length === 2) {
      pageLoadName =  '/elasticon';
    }
    else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
      pageLoadName =  '/elasticon/overview';
    }
    else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
      pageLoadName =  '/elasticon/video';
    }
  }
  else if (parts.length && parts[1] === 'guide') {
    pageLoadName =  '/guide';
  }
  else if (parts.length === 2 && parts[1] === 'videos') {
    pageLoadName =  '/videos';
  }
  else if (parts.length > 2 && parts[1] === 'videos') {
    pageLoadName =  '/videos/detail';
  }
  else if (parts.length > 2 && parts[1] === 'webinars') {
    pageLoadName =  '/webinars/detail';
  }
  else {
    pageLoadName =  window.location.pathname;
  }

  console.log('apm pageLoadName:', pageLoadName, parts)
  elasticApm.setTags({env:"production"});
  elasticApm.setInitialPageLoadName(pageLoadName);
</script>

<!-- Elastic APM -->


    <!-- Header Section -->
    
<header class="header-wrapper">
  



  




<div class="navigation-wrapper">
  <div class="container">
    <nav class="navbar">
    <!-- Brand and toggle get grouped for better mobile display -->

    <div class="navbar-mobile-header navbar-header mr-20 mr-xs-0">
      <div class="row hidden-sm hidden-md hidden-lg">
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg">
          <div class="navbar-mobile-header-icon navbar-mobile-header-icon-out">
            <span></span>
            <span></span>
            <span></span>
          </div>
          
        </div>
        <div class="col-xs-2 text-center">
          <div class="navbar-brand" id="elastic">
            <div id="logo">
              <a class="logo-m hidden-sm hidden-md hidden-lg" href="/">
                <img src="/assets/blta09706b1c5cc1e99/elastic-logo-mobile.svg" alt="elastic-logo-mobile">
              </a>
            </div>
          </div>
        </div>
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg text-right">
          <ul class="menu-m hidden-sm hidden-md hidden-lg">
            <li class=""><a class="icon-contact" href="/contact"></a></li>

            <li id="searchbar"><a class="button icon" href="#" alt="Search"></a></li>
            <li class="lang global-language">
                
                  
                
                  
                    <a href="#">EN</a>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              <ul class="language-list">
                
                  
                    
                  
                  
                  <li><a href="/de/" data-value="/de/" id="locale-select">Deutsch</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="#" data-value="/" id="locale-select">English</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/es/" data-value="/es/" id="locale-select">Español</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/fr/" data-value="/fr/" id="locale-select">Français</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/jp/" data-value="/jp/" id="locale-select">日本語</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/kr/" data-value="/kr/" id="locale-select">한국어</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/cn/" data-value="/cn/" id="locale-select">简体中文</a></li>
                  
                
              </ul>
            </li>
          </ul>
        </div>
      </div>

      <div class="navbar-brand hidden-xs" id="elastic">
        <div id="logo">
          <a class="hidden-xs" id="elastic-logo" href="/">
            <img src="/assets/blt244a845f141977c3/elastic-logo.svg" alt="elastic-logo">
          </a>
        </div>
      </div>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse mobile-inner-nav">
      <nav class="nav navbar-nav primary-nav-hover" id="nav">
        <ul>
        
          
            
              
            
            <li>
              <a class=" " href="/products">Products</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/cloud">Cloud</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/services">Services</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/use-cases">Customers</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/learn">Learn</a>
            </li>
          
        
          
        
        </ul>
      </nav>
      <nav class="nav navbar-nav navbar-right hidden-xs">
        <ul>
          <li class="hidden-xs hidden-sm"><a href="/downloads">downloads</a></li>
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-download" href="/downloads"></a></li>
          <!-- To set parameters to contact button -->
          
           
            
          

          
            
            
          
          <li class="hidden-xs hidden-sm"><a class="btn btn-secondary btn-contact" href="/contact?storm=global-header-en">contact</a></li>
          <!-- ////////////////ends here///////////////-->          
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-contact" href="/contact?storm=global-header-en"></a></li>
          <li class="hidden-xs" id="searchbar"><a class="button icon" href="#" alt="Search"></a></li>

          <li class="hidden-xs lang global-language">
                
                  
                
                  
                    <a href="#">EN</a>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
               <ul class="language-list">
              
                
                  
                
              
              <li><a class="" href="/de/" data-value="/de/">Deutsch</a></li>
              
              
                
                  
                
              
              <li><a class="" href="#" data-value="/">English</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/es/" data-value="/es/">Español</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/fr/" data-value="/fr/">Français</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/jp/" data-value="/jp/">日本語</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/kr/" data-value="/kr/">한국어</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/cn/" data-value="/cn/">简体中文</a></li>
              
              
            </ul>
          </li>
        </ul>
      </nav>
    </div><!-- /.navbar-collapse -->
  </nav>
  </div>
</div>

<div class="header-search-wrapper open-search"> 
  <div class="container">
    <div class="big-search">
      <i class="big-search-icon"></i>
      <form id="searchfrm" name="searchForm" autocomplete="on" action="/search" method="get">
        <ul class="tags-wrapper">
          <li class="search-field"><input type="text" name="q" id="autocomplete" class="form-control global-input" autocomplete="off"></li>
        </ul>
      </form>
      <a class="header-search-cancel" href="#"></a>
    </div>
    <div class="nav-auto-complete"></div>
  </div>
</div>
</header>
<link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">
<style> 
    
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
    
</style>
<script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>
<script type="text/javascript">
  $(document).ready( function(){
    // if($('#scrollable-pane li').length > 3){
      $('.horizon-swiper').horizonSwiper({
        showItems: 3,
        arrows: true
      }); 
    // }
    
    $('.navbar-toggle').on('click', function(){
      $('.mobile-navigation, .menu-open').hide();
      $('.navigation-wrapper').addClass('mobile-navigation');
      $('.navbar').addClass('menu-open');
      $('.menu-close').show();
    });
    $('.menu-close').on('click', function(){
      $('.navigation-wrapper').removeClass('mobile-navigation');
      $('.navbar').removeClass('menu-open');
      $('.menu-close').hide();
    });

    var active_url = "";

    $(".navbar-mobile-header-icon").click(function(index){
      $('.navigation-wrapper').toggleClass('menu-overlay');
      $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
      $(".mobile-inner-nav").slideToggle(500);
      $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
        $(this).css({'animation-delay': (index/25)+'0.4s'});
      });
    });

    $('.dropdown-btn').on('click', function(e){
      e.preventDefault();
      setDropdown();
    });
    
    function setDropdown() {
      $('#myDropdown').slideToggle();
    }

    $('body').on('click', function(event){
      if (!event.target.matches('.dropdown-btn')) {

        var dropdowns = $(".dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    });

    // if($(window).width() < 769){
    //   var $item = $('.scrollable-panel li'), 
    //       visible = 3, //Set the number of items that will be visible
    //       index = 0, //Starting index
    //       endIndex = ( $item.length / visible ) - 1; //End index (NOTE:: Requires visible to be a factor of $item.length... You can improve this by rounding...)

    //   $('#right-arrow').click(function(){
    //     if(index < endIndex ){
    //       index++;
    //       $item.animate({'left':'-=300px'});
    //     }
    //   });

    //   $('#left-arrow').click(function(){
    //     if(index > 0){
    //       index--;            
    //       $item.animate({'left':'+=300px'});
    //     }
    //   });
    // }
  });
  $(window).resize(function () {
    $('.horizon-swiper').horizonSwiper({
      showItems: 3,
      arrows: true
    });
  });
</script>
    
      


  





  
  
  
  
    <div class="tertiary-nav bdr-btm-e0e0e0">
      <div class="container">
        <div class="p-t-b-15 clearfix">
          <div class="breadcrum-wrapper pull-left text-left">
          
            <a href="/guide">Docs</a> 
          
          </div>
          
          
          
        </div>
      </div>
    </div>

    <div class="nav-mobile-dropdown hidden-sm hidden-md hidden-lg bdr-btm-e0e0e0 clearfix">
      <div class="container text-right">
        <div class="breadcrum-wrapper pull-left text-left">
          
              <a href="/guide">Docs</a>
          
        </div>
        
        
      </div>
    </div>
  


<style type="text/css">

  
</style>
    
    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   
          
            
        			<!-- <div class="pageheader">
	<div class="common-container">
		
			<h2 class="page-title">Guide template</h2>
		
	</div>
</div> -->


        		
          

          
	<section id="guide" lang="en">
		<div class="container">
			<div class="row">
			  <!-- start body -->
				
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference
      [2.0]
    </a></span> » <span class="breadcrumb-link"><a href="ece-getting-started.html">Getting Started</a></span> » <span class="breadcrumb-link"><a href="ece-configuring.html">Prepare Your Environment</a></span> » <span class="breadcrumb-node">Your Own Hosts</span></div><div class="navheader"><span class="prev"><a href="ece-configuring.html">
              « 
              Prepare Your Environment</a>
           
        </span><span class="next">
           
          <a href="ece-configure-ami.html">Amazon Machine Images (AMIs)
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="ece-configure-hosts"></a>Your Own Hosts</h2></div></div></div><p>If you want to install Elastic Cloud Enterprise on your own hosts, the steps for preparing your hosts can take a bit of time. There are two ways you can approach this:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong strong"><strong>Think like a minimalist</strong></span>: Install the correct version of Docker on hosts that meet the <a class="link" href="ece-prereqs.html" title="Prerequisites">prerequisites</a> for Elastic Cloud Enterprise, then skip ahead and <a class="link" href="ece-installing.html" title="Install ECE With Internet Access">install Elastic Cloud Enterprise</a>. This approach is similar to the <a class="link" href="ece-quick-start.html" title="Quick Start Guide">Quick Start Guide</a>. Be aware that some checks during the installation can fail with this approach, which will mean doing further host preparation work before retrying the installation.
</li><li class="listitem">
<span class="strong strong"><strong>Cover your bases</strong></span>: If you want to make absolutely sure that your installation of Elastic Cloud Enterprise can succeed on hosts that meet the <a class="link" href="ece-prereqs.html" title="Prerequisites">prerequisites</a>, or if any of the checks during the installation failed previously, run through the full preparation steps in this section and then and <a class="link" href="ece-installing.html" title="Install ECE With Internet Access">install Elastic Cloud Enterprise</a>. You’ll do a bit more work now, but life will be simpler later on.
</li></ul></div><p>Regardless of which approach you take, the steps in this section need to be performed on every host that you want to use with Elastic Cloud Enterprise.</p><p>We currently provide instructions for preparing your own hosts on the following Linux distributions:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<a class="link" href="ece-configure-hosts.html#ece-configure-hosts-trusty" title="Ubuntu 14.04 LTS (Trusty Tahr)">Ubuntu 14.04 LTS (Trusty Tahr)</a>
</li><li class="listitem">
<a class="link" href="ece-configure-hosts.html#ece-configure-hosts-xenial" title="Ubuntu 16.04 LTS (Xenial Xerus)">Ubuntu 16.04 LTS (Xenial Xerus)</a>
</li><li class="listitem">
<a class="link" href="ece-configure-hosts.html#ece-configure-hosts-rhel-centos" title="Red Hat Enterprise Linux (RHEL) 7 and CentOS 7">Red Hat Enterprise Linux (RHEL) 7 and CentOS 7</a>
</li><li class="listitem">
<a class="link" href="ece-configure-hosts.html#ece-configure-hosts-sles12" title="SUSE Linux Enterprise Server (SLES) 12">SUSE Linux Enterprise Server (SLES) 12</a>
</li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ece-configure-hosts-trusty"></a>Ubuntu 14.04 LTS (Trusty Tahr)</h3></div></div></div><p>The following instructions show you how to prepare your hosts on Ubuntu Trusty.</p><h4><a id="ece-install_a_supported_linux_kernel"></a>Install a Supported Linux Kernel</h4><p>Elastic Cloud Enterprise requires 3.10 or higher. The steps shown here install kernel 4.4.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Refresh the package index files from their sources:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo apt-get update</pre></div></li><li class="listitem"><p class="simpara">
Install the Linux kernel and the <code class="literal">xfsprogs</code> package available on your system. You can omit the <code class="literal">xfsprogs</code> package if you don’t plan to use XFS.
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo apt-get install -y linux-generic-lts-xenial xfsprogs</pre></div></li></ol></div><h4><a id="ece-install-docker-trusty"></a>Install Docker</h4><p>We recommend that you install Docker version 1.11, but Elastic Cloud Enterprise also supports Docker version 18.03.</p><p>To install Docker version 1.11:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Add the Docker repository:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo apt-key adv --keyserver keyserver.ubuntu.com --recv 58118E89F3A912897C070ADBF76221572C52609D
echo deb https://apt.dockerproject.org/repo ubuntu-trusty main | sudo tee /etc/apt/sources.list.d/docker.list
sudo apt-get update</pre></div></li><li class="listitem"><p class="simpara">
Install the correct version of the <code class="literal">docker-engine</code> package:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo apt-get install docker-engine=1.11*</pre></div></li></ol></div><p>To install Docker version 18.03:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Add the Docker repository:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo \
     apt-key add -
sudo apt-get update</pre></div></li><li class="listitem"><p class="simpara">
Verify that you have the key with the <code class="literal">9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88</code> fingerprint:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo apt-key fingerprint 0EBFCD88
...
pub   4096R/0EBFCD88 2017-02-22
      Key fingerprint = 9DC8 5822 9FC7 DD38 854A  E2D8 8D81 803C 0EBF CD88
uid                  Docker Release (CE deb) &lt;docker@docker.com&gt;
sub   4096R/F273FCD8 2017-02-22
...</pre></div></li><li class="listitem"><p class="simpara">
Add the stable docker repository:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo add-apt-repository \
   "deb [arch=amd64] https://download.docker.com/linux/ubuntu \
   $(lsb_release -cs) \
   stable"</pre></div></li><li class="listitem"><p class="simpara">
Install the correct version of the <code class="literal">docker-ce</code> package:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo apt-get install docker-ce=18.03*</pre></div></li></ol></div><h4><a id="ece-xfs-setup-trusty"></a>Recommended: Set Up XFS on Ubuntu</h4><p>Elastic Cloud Enterprise can run without XFS, but XFS is required to support disk space quotas for Elasticsearch data directories. Some Linux distributions such as RHEL and CentOS already provide XFS as the default file system. On Ubuntu, we recommend that you set up an XFS file system first.</p><p>Disk space quotas set a limit on the amount of disk space an Elasticsearch cluster node can use. Currently, quotas are calculated by
a static ratio of 1:32, which means that for every 1 GB of RAM a cluster is given, a cluster node is allowed to consume 32 GB of disk space.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>Using LVM, <code class="literal">mdadm</code>, or a combination of the two for block device management is possible, but the
configuration is not covered here, nor is it provided as part of supporting Elastic Cloud Enterprise.</p></div></div><p><span class="strong strong"><strong>Example:</strong></span> Set up XFS on a single, pre-partitioned block device named <code class="literal">/dev/xvdg1</code>.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Format the partition:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo mkfs.xfs /dev/xvdg1</pre></div></li><li class="listitem"><p class="simpara">
Create the <code class="literal">/mnt/data/</code> directory as a mount point:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo install -o $USER -g $USER -d -m 700 /mnt/data</pre></div></li><li class="listitem"><p class="simpara">
Add an entry to the <code class="literal">/etc/fstab</code> file for the new XFS volume. The
default filesystem path used by Elastic Cloud Enterprise is <code class="literal">/mnt/data</code>.
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">/dev/xvdg1 /mnt/data xfs  defaults,nofail,pquota,prjquota  0 2</pre></div></li></ol></div><h4><a id="ece-update_the_configurations_settings"></a>Update the Configurations Settings</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Stop the Docker service:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo service docker stop</pre></div></li><li class="listitem"><p class="simpara">
Enable cgroup accounting for memory and swap space.
</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
In the <code class="literal">/etc/default/grub</code> file, ensure that the <code class="literal">GRUB_CMDLINE_LINUX=</code> variable includes these values:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">cgroup_enable=memory swapaccount=1 cgroup.memory=nokmem</pre></div></li><li class="listitem"><p class="simpara">
Update your Grub configuration:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo update-grub</pre></div></li></ol></div></li><li class="listitem"><p class="simpara">
If you plan to run Elasticsearch 5.0 and later: Update the <code class="literal">/etc/sysctl.conf</code> file to set the maximum number of mapped memory areas a process can have:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">echo "vm.max_map_count=262144" | sudo tee -a /etc/sysctl.conf</pre></div></li><li class="listitem"><p class="simpara">
Verify that IPv4 forwarding is enabled:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">cat /proc/sys/net/ipv4/ip_forward</pre></div><p class="simpara">If the output of this command is not <code class="literal">1</code>, you must enable IPv4 forwarding so that Docker can work as expected:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
Update the <code class="literal">/etc/sysctl.conf</code> file to include this line:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">net.ipv4.ip_forward = 1</pre></div></li><li class="listitem"><p class="simpara">
Restart the network service:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo sysctl -p</pre></div></li><li class="listitem"><p class="simpara">
Verify that the change is applied:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">cat /proc/sys/net/ipv4/ip_forward</pre></div><p class="simpara">The output <code class="literal">1</code> indicates that IPv4 forwarding is turned on.</p></li></ol></div></li><li class="listitem"><p class="simpara">
Adjust the system limits.
</p><p class="simpara">Add the following configuration values to the <code class="literal">/etc/security/limits.conf</code> file. These values are derived from our experience with the Elastic Cloud hosted offering and should be used for Elastic Cloud Enterprise as well.</p><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>If you are using a user name other than <code class="literal">elastic</code>, adjust the configuration values accordingly.</p></div></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">*                soft    nofile         1024000
*                hard    nofile         1024000
*                soft    memlock        unlimited
*                hard    memlock        unlimited
elastic          soft    nofile         1024000
elastic          hard    nofile         1024000
elastic          soft    memlock        unlimited
elastic          hard    memlock        unlimited
root             soft    nofile         1024000
root             hard    nofile         1024000
root             soft    memlock        unlimited</pre></div></li><li class="listitem"><p class="simpara">
If you did not create the mount point earlier (if you did not set up XFS), create the <code class="literal">/mnt/data/</code> directory as a mount point:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo install -o $USER -g $USER -d -m 700 /mnt/data</pre></div></li><li class="listitem"><p class="simpara">
If you <a class="link" href="ece-configure-hosts.html#ece-xfs-setup-trusty" title="Recommended: Set Up XFS on Ubuntu">set up a new device with XFS</a> earlier:
</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
Mount the block device (change the device name if you use a different device than <code class="literal">/dev/xvdg1</code>):
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo mount /dev/xvdg1</pre></div></li><li class="listitem"><p class="simpara">
Set the permissions on the newly mounted device:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo chown $USER:$USER /mnt/data</pre></div></li></ol></div></li><li class="listitem"><p class="simpara">
Create the <code class="literal">/mnt/data/docker</code> directory for the Docker service storage:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo install -o $USER -g $USER -d -m 700 /mnt/data/docker</pre></div></li></ol></div><h5><a id="ece-configure-docker-daemon-trusty"></a>Configure the Docker Daemon Options</h5><p>Depending on the installed Docker version, you need to perform slightly different system configurations.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Set the new data path, storage driver, and specify the bridge IP address:
</p><p class="simpara">For the bridge IP address, use the <code class="literal">--bip</code> parameter if there is a conflict, or omit the parameter.
Update <code class="literal">/etc/default/docker</code>:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
If you are using Docker version 1.11:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">DOCKER_OPTS="-g /mnt/data/docker --storage-driver=aufs --bip=172.17.42.1/16"</pre></div></li><li class="listitem"><p class="simpara">
If you are using Docker version 18.03:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">DOCKER_OPTS="--data-root /mnt/data/docker --storage-driver=aufs --bip=172.17.42.1/16"</pre></div></li></ul></div></li><li class="listitem"><p class="simpara">
Apply the updated Docker daemon configuration by restarting the Docker service:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo service docker restart</pre></div></li><li class="listitem"><p class="simpara">
Enable your user to communicate with the Docker subsystem by adding it to the <code class="literal">docker</code> group:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo usermod -aG docker $USER</pre></div></li><li class="listitem"><p class="simpara">
Recommended: Tune your network settings.
</p><p class="simpara">Create a <code class="literal">70-cloudenterprise.conf</code> file in the <code class="literal">/etc/sysctl.d/</code> file path that includes these network settings:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">cat &lt;&lt; SETTINGS | sudo tee /etc/sysctl.d/70-cloudenterprise.conf
net.ipv4.tcp_max_syn_backlog=65536
net.core.somaxconn=32768
net.core.netdev_max_backlog=32768
SETTINGS</pre></div></li><li class="listitem"><p class="simpara">
Pin the Docker version to ensure that the <code class="literal">docker-engine</code> package does not get upgraded:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
If you are using Docker version 1.11:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">echo "docker-engine hold" | sudo dpkg --set-selections</pre></div></li><li class="listitem"><p class="simpara">
If you are using Docker version 18.03:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">echo "docker-ce hold" | sudo dpkg --set-selections</pre></div></li></ul></div></li><li class="listitem"><p class="simpara">
Reboot your system to ensure that all configuration changes take effect:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-literal">sudo reboot</pre></div></li><li class="listitem"><p class="simpara">
After rebooting, verify that your Docker settings persist as expected:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-literal">sudo docker info | grep Root</pre></div><p class="simpara">If the command returns <code class="literal">Docker Root Dir: /mnt/data/docker</code>, then your changes were applied successfully and persist as expected.</p><p class="simpara">If the command returns <code class="literal">Docker Root Dir: /var/lib/docker</code>, then you need to troubleshoot the previous configuration steps until the Docker settings are applied successfully before continuing with the installation process. For more information, see <a class="ulink" href="https://docs.docker.com/engine/admin/systemd/#/custom-docker-daemon-options" target="_top">Custom Docker daemon options</a> in the Docker documentation.</p></li><li class="listitem">
Repeat these steps on other hosts that you want to use with Elastic Cloud Enterprise or follow the steps in the next section to start installing Elastic Cloud Enterprise.
</li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ece-configure-hosts-xenial"></a>Ubuntu 16.04 LTS (Xenial Xerus)</h3></div></div></div><p>The following instructions show you how to prepare your hosts on Ubuntu Xenial.</p><h4><a id="ece-install_a_supported_linux_kernel_2"></a>Install A Supported Linux Kernel</h4><p>Elastic Cloud Enterprise requires 3.10 or higher. The steps shown here install kernel 4.4.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Refresh the package index files from their sources:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo apt-get update</pre></div></li><li class="listitem"><p class="simpara">
Install the Linux kernel and the <code class="literal">xfsprogs</code> package available on your system. You can omit the <code class="literal">xfsprogs</code> package if you don’t plan to use XFS.
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo apt-get install -y linux-generic-lts-xenial xfsprogs</pre></div></li></ol></div><h4><a id="ece-install-docker-xenial"></a>Install Docker</h4><p>We recommend that you install Docker version 1.11, but Elastic Cloud Enterprise also supports Docker version 18.03.</p><p>To install Docker version 1.11:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Add the Docker repository:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo apt-key adv --keyserver keyserver.ubuntu.com --recv 58118E89F3A912897C070ADBF76221572C52609D
echo deb https://apt.dockerproject.org/repo ubuntu-xenial main | sudo tee /etc/apt/sources.list.d/docker.list
sudo apt-get update</pre></div></li><li class="listitem"><p class="simpara">
Install the correct version of the <code class="literal">docker-engine</code> package:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo apt-get install docker-engine=1.11*</pre></div></li></ol></div><p>To install Docker version 18.03:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Add the Docker repository:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo \
     apt-key add -
sudo apt-get update</pre></div></li><li class="listitem"><p class="simpara">
Verify that you have the key with the <code class="literal">9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88</code> fingerprint.
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo apt-key fingerprint 0EBFCD88
...
pub   4096R/0EBFCD88 2017-02-22
      Key fingerprint = 9DC8 5822 9FC7 DD38 854A  E2D8 8D81 803C 0EBF CD88
uid                  Docker Release (CE deb) &lt;docker@docker.com&gt;
sub   4096R/F273FCD8 2017-02-22
...</pre></div></li><li class="listitem"><p class="simpara">
Add the stable docker repository:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo add-apt-repository \
   "deb [arch=amd64] https://download.docker.com/linux/ubuntu \
   $(lsb_release -cs) \
   stable"</pre></div></li><li class="listitem"><p class="simpara">
Install the correct version of the <code class="literal">docker-ce</code> package:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo apt-get install docker-ce=18.03*</pre></div></li></ol></div><h4><a id="ece-xfs-setup-xenial"></a>Recommended: Set Up XFS on Ubuntu</h4><p>Elastic Cloud Enterprise can run without XFS, but XFS is required to support disk space quotas for Elasticsearch data directories. Some Linux distributions such as RHEL and CentOS already provide XFS as the default file system. On Ubuntu, we recommend that you set up an XFS file system first.</p><p>Disk space quotas set a limit on the amount of disk space an Elasticsearch cluster node can use. Currently, quotas are calculated by
a static ratio of 1:32, which means that for every 1 GB of RAM a cluster is given, a cluster node is allowed to consume 32 GB of disk space.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>Using LVM, <code class="literal">mdadm</code>, or a combination of the two for block device management is possible, but the
configuration is not covered here, nor is it provided as part of supporting Elastic Cloud Enterprise.</p></div></div><p><span class="strong strong"><strong>Example:</strong></span> Set up XFS on a single, pre-partitioned block device named <code class="literal">/dev/xvdg1</code>.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Format the partition:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo mkfs.xfs /dev/xvdg1</pre></div></li><li class="listitem"><p class="simpara">
Create the <code class="literal">/mnt/data/</code> directory as a mount point:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo install -o $USER -g $USER -d -m 700 /mnt/data</pre></div></li><li class="listitem"><p class="simpara">
Add an entry to the <code class="literal">/etc/fstab</code> file for the new XFS volume. The
default filesystem path used by Elastic Cloud Enterprise is <code class="literal">/mnt/data</code>.
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">/dev/xvdg1      /mnt/data       xfs     defaults,nofail,x-systemd.automount,prjquota,pquota  0 2</pre></div></li><li class="listitem"><p class="simpara">
Regenerate the mount files:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo systemctl daemon-reload
sudo systemctl restart local-fs.target</pre></div></li></ol></div><h4><a id="ece-update_the_configurations_settings_2"></a>Update the Configurations Settings</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Stop the Docker service:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo systemctl stop docker</pre></div></li><li class="listitem"><p class="simpara">
Enable cgroup accounting for memory and swap space.
</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
In the <code class="literal">/etc/default/grub</code> file, ensure that the <code class="literal">GRUB_CMDLINE_LINUX=</code> variable includes these values:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">cgroup_enable=memory swapaccount=1 cgroup.memory=nokmem</pre></div></li><li class="listitem"><p class="simpara">
Update your Grub configuration:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo update-grub</pre></div></li></ol></div></li><li class="listitem"><p class="simpara">
If you plan to run Elasticsearch 5.0 and later: Update the <code class="literal">/etc/sysctl.conf</code> file to set the maximum number of mapped memory areas a process can have:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">echo "vm.max_map_count=262144" | sudo tee -a /etc/sysctl.conf</pre></div></li><li class="listitem"><p class="simpara">
Verify that IPv4 forwarding is enabled:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">cat /proc/sys/net/ipv4/ip_forward</pre></div><p class="simpara">If the output of this command is not <code class="literal">1</code>, you must enable IPv4 forwarding so that Docker can work as expected:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
Update the <code class="literal">/etc/sysctl.conf</code> file to include this line:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">net.ipv4.ip_forward = 1</pre></div></li><li class="listitem"><p class="simpara">
Restart the network service:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo sysctl -p</pre></div></li><li class="listitem"><p class="simpara">
Verify that the change is applied:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">cat /proc/sys/net/ipv4/ip_forward</pre></div><p class="simpara">The output <code class="literal">1</code> indicates that IPv4 forwarding is turned on.</p></li></ol></div></li><li class="listitem"><p class="simpara">
Adjust the system limits.
</p><p class="simpara">Add the following configuration values to the <code class="literal">/etc/security/limits.conf</code> file. These values are derived from our experience with the Elastic Cloud hosted offering and should be used for Elastic Cloud Enterprise as well.</p><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>If you are using a user name other than <code class="literal">elastic</code>, adjust the configuration values accordingly.</p></div></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">*                soft    nofile         1024000
*                hard    nofile         1024000
*                soft    memlock        unlimited
*                hard    memlock        unlimited
elastic          soft    nofile         1024000
elastic          hard    nofile         1024000
elastic          soft    memlock        unlimited
elastic          hard    memlock        unlimited
root             soft    nofile         1024000
root             hard    nofile         1024000
root             soft    memlock        unlimited</pre></div></li><li class="listitem"><p class="simpara">
If you did not create the mount point earlier (if you did not set up XFS), create the <code class="literal">/mnt/data/</code> directory as a mount point:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo install -o $USER -g $USER -d -m 700 /mnt/data</pre></div></li><li class="listitem"><p class="simpara">
If you <a class="link" href="ece-configure-hosts.html#ece-xfs-setup-xenial" title="Recommended: Set Up XFS on Ubuntu">set up a new device with XFS</a> earlier:
</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
Mount the block device (change the device name if you use a different device than <code class="literal">/dev/xvdg1</code>):
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo mount /dev/xvdg1</pre></div></li><li class="listitem"><p class="simpara">
Set the permissions on the newly mounted device:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo chown $USER:$USER /mnt/data</pre></div></li></ol></div></li><li class="listitem"><p class="simpara">
Create the <code class="literal">/mnt/data/docker</code> directory for the Docker service storage:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo install -o $USER -g $USER -d -m 700 /mnt/data/docker</pre></div></li></ol></div><h5><a id="ece-configure-docker-daemon-xenial"></a>Configure the Docker Daemon Options</h5><p>Depending on the installed Docker version, you need to perform slightly different system configurations.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Update <code class="literal">/etc/systemd/system/docker.service.d/docker.conf</code>. If the file path and file do not exist, create them first.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
If you are using Docker version 1.11:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">[Unit]
Description=Docker Service
After=multi-user.target

[Service]
Environment="DOCKER_OPTS=-H unix:///run/docker.sock -g /mnt/data/docker --storage-driver=aufs --bip=172.17.42.1/16 --raw-logs"
ExecStart=
ExecStart=/usr/bin/docker daemon $DOCKER_OPTS</pre></div></li><li class="listitem"><p class="simpara">
If you are using Docker version 18.03:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">[Unit]
Description=Docker Service
After=multi-user.target

[Service]
Environment="DOCKER_OPTS=-H unix:///run/docker.sock --data-root /mnt/data/docker --storage-driver=aufs --bip=172.17.42.1/16 --raw-logs"
ExecStart=
ExecStart=/usr/bin/dockerd $DOCKER_OPTS</pre></div></li></ul></div></li><li class="listitem"><p class="simpara">
Apply the updated Docker daemon configuration:
</p><p class="simpara">Reload the Docker daemon configuration:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo systemctl daemon-reload</pre></div><p class="simpara">Restart the Docker service:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo systemctl restart docker</pre></div><p class="simpara">Enable Docker to start on boot:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo systemctl enable docker</pre></div></li><li class="listitem"><p class="simpara">
Enable your user to communicate with the Docker subsystem by adding it to the <code class="literal">docker</code> group:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo usermod -aG docker $USER</pre></div></li><li class="listitem"><p class="simpara">
Recommended: Tune your network settings.
</p><p class="simpara">Create a <code class="literal">70-cloudenterprise.conf</code> file in the <code class="literal">/etc/sysctl.d/</code> file path that includes these network settings:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">cat &lt;&lt; SETTINGS | sudo tee /etc/sysctl.d/70-cloudenterprise.conf
net.ipv4.tcp_max_syn_backlog=65536
net.core.somaxconn=32768
net.core.netdev_max_backlog=32768
SETTINGS</pre></div></li><li class="listitem"><p class="simpara">
Pin the Docker version to ensure that the package does not get upgraded:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
If you are using Docker version 1.11:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">echo "docker-engine hold" | sudo dpkg --set-selections</pre></div></li><li class="listitem"><p class="simpara">
If you are using Docker version 18.03:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">echo "docker-ce hold" | sudo dpkg --set-selections</pre></div></li></ul></div></li><li class="listitem"><p class="simpara">
Reboot your system to ensure that all configuration changes take effect:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-literal">sudo reboot</pre></div></li><li class="listitem"><p class="simpara">
After rebooting, verify that your Docker settings persist as expected:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-literal">sudo docker info | grep Root</pre></div><p class="simpara">If the command returns <code class="literal">Docker Root Dir: /mnt/data/docker</code>, then your changes were applied successfully and persist as expected.</p><p class="simpara">If the command returns <code class="literal">Docker Root Dir: /var/lib/docker</code>, then you need to troubleshoot the previous configuration steps until the Docker settings are applied successfully before continuing with the installation process. For more information, see <a class="ulink" href="https://docs.docker.com/engine/admin/systemd/#/custom-docker-daemon-options" target="_top">Custom Docker daemon options</a> in the Docker documentation.</p></li><li class="listitem">
Repeat these steps on other hosts that you want to use with Elastic Cloud Enterprise or follow the steps in the next section to start installing Elastic Cloud Enterprise.
</li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ece-configure-hosts-rhel-centos"></a>Red Hat Enterprise Linux (RHEL) 7 and CentOS 7</h3></div></div></div><p>The following instructions show you how to prepare your hosts on Red Hat Enterprise Linux (RHEL) 7 or later and on CentOS 7 or later.</p><h4><a id="ece-install_a_supported_linux_kernel_3"></a>Install a Supported Linux Kernel</h4><p>Elastic Cloud Enterprise requires 3.10 or higher. The steps shown here install kernel 4.4.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>Kernel-LT has a regression on 4.4.156. From the archive repository, install 4.4.155.</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Add the repository required to obtain the kernel:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo yum install -y yum-plugin-fastestmirror http://elrepo.org/linux/kernel/el7/x86_64/RPMS/elrepo-release-7.0-3.el7.elrepo.noarch.rpm
sudo yum makecache fast</pre></div></li><li class="listitem"><p class="simpara">
Install kernel version 3.10 or higher from the repository:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo yum --enablerepo=elrepo-kernel install -y kernel-lt</pre></div></li><li class="listitem"><p class="simpara">
Update the <code class="literal">/etc/default/grub</code> file with the required options:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo sed -i -e 's|^GRUB_CMDLINE_LINUX=\(.*\)|GRUB_CMDLINE_LINUX=\"crashkernel=auto rhgb quiet console=ttyS0 cgroup_enable=memory swapaccount=1 cgroup.memory=nokmem\"|g' /etc/default/grub</pre></div></li><li class="listitem"><p class="simpara">
Enable the <code class="literal">overlay</code> kernel module:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">echo "overlay" | sudo tee -a /etc/modules-load.d/overlay.conf</pre></div></li><li class="listitem"><p class="simpara">
Refresh the dynamically generated grub2 configuration and configure grub to boot the newly installed kernel 3.10 or higher:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo grub2-set-default 0
sudo grub2-mkconfig -o /etc/grub2.cfg</pre></div></li></ol></div><h4><a id="ece-install-docker-rhel-centos"></a>Install Docker</h4><p>We recommend that you install Docker version 1.11, but Elastic Cloud Enterprise also supports Docker version 18.03.</p><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>If you are using RHEL 7.5 or later, use the provided Docker version, skip the package installation instructions, and then follow the <a class="link" href="ece-configure-hosts.html#ece-update-configuration-settings-rhel" title="Update the Configurations Settings">Docker configuration steps</a>.</p></div></div><p>To install Docker version 1.11:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Add the Docker repository:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo tee /etc/yum.repos.d/docker.repo &lt;&lt;-'EOF'
[dockerrepo]
name=Docker Repository
baseurl=https://yum.dockerproject.org/repo/main/centos/7/
enabled=1
gpgcheck=1
gpgkey=https://yum.dockerproject.org/gpg
EOF

sudo yum makecache fast</pre></div></li><li class="listitem"><p class="simpara">
Install the correct version of the <code class="literal">docker-engine</code> package:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo yum install docker-engine-1.11*</pre></div></li></ol></div><p>To install Docker version 18.03:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Add the Docker repository:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo tee /etc/yum.repos.d/docker.repo &lt;&lt;-'EOF'
[dockerrepo]
name=Docker Repository
baseurl=https://download.docker.com/linux/centos/7/x86_64/stable
enabled=1
gpgcheck=1
gpgkey=https://download.docker.com/linux/centos/gpg
EOF

sudo yum makecache fast</pre></div></li><li class="listitem"><p class="simpara">
Install the latest version of docker-ce:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo yum install docker-ce-18.03.0.ce</pre></div></li></ol></div><h4><a id="ece-update-configuration-settings-rhel"></a>Update the Configurations Settings</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Stop the Docker service:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo systemctl stop docker</pre></div></li><li class="listitem"><p class="simpara">
If you plan to run Elasticsearch 5.0 and later: Update the <code class="literal">/etc/sysctl.conf</code> file to set the maximum number of mapped memory areas a process can have:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">echo "vm.max_map_count=262144" | sudo tee -a /etc/sysctl.conf</pre></div></li><li class="listitem"><p class="simpara">
For RHEL only: Verify that <code class="literal">fs.may_detach_mounts</code> is enabled:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">cat /proc/sys/fs/may_detach_mounts</pre></div><p class="simpara">If the output of this command is not <code class="literal">1</code>, you must enable the setting in order for Docker to cleanly remove containers:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
Update the <code class="literal">/etc/sysctl.conf</code> file to include this line:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">fs.may_detach_mounts = 1</pre></div></li></ol></div></li><li class="listitem"><p class="simpara">
Verify that IPv4 forwarding is enabled:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">cat /proc/sys/net/ipv4/ip_forward</pre></div><p class="simpara">If the output of this command is not <code class="literal">1</code>, you must enable IPv4 forwarding so that Docker can work as expected:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
Update the <code class="literal">/etc/sysctl.conf</code> file to include this line:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">net.ipv4.ip_forward = 1</pre></div></li><li class="listitem"><p class="simpara">
Restart the network service:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo service network restart</pre></div></li><li class="listitem"><p class="simpara">
Verify that the change is applied:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">cat /proc/sys/net/ipv4/ip_forward</pre></div><p class="simpara">The output <code class="literal">1</code> indicates that IPv4 forwarding is turned on.</p></li></ol></div></li><li class="listitem"><p class="simpara">
Adjust the system limits.
</p><p class="simpara">Add the following configuration values to the <code class="literal">/etc/security/limits.conf</code> file. These values are derived from our experience with the Elastic Cloud hosted offering and should be used for Elastic Cloud Enterprise as well.</p><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>If you are using a user name other than <code class="literal">elastic</code>, adjust the configuration values accordingly.</p></div></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">*                soft    nofile         1024000
*                hard    nofile         1024000
*                soft    memlock        unlimited
*                hard    memlock        unlimited
elastic          soft    nofile         1024000
elastic          hard    nofile         1024000
elastic          soft    memlock        unlimited
elastic          hard    memlock        unlimited
root             soft    nofile         1024000
root             hard    nofile         1024000
root             soft    memlock        unlimited</pre></div></li><li class="listitem"><p class="simpara">
Create the <code class="literal">/mnt/data/</code> directory as a mount point:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo install -o $USER -g $USER -d -m 700 /mnt/data</pre></div></li><li class="listitem"><p class="simpara">
Create the <code class="literal">/mnt/data/docker</code> directory for the Docker service storage:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo install -o $USER -g $USER -d -m 700 /mnt/data/docker</pre></div></li><li class="listitem"><p class="simpara">
Disable the firewalld service. The service is not compatible with Docker and interferes with the installation of ECE. You must disable firewalld before installing or reinstalling ECE.
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo systemctl disable firewalld</pre></div></li></ol></div><h4><a id="ece-configure-docker-daemon-rhel-centos"></a>Configure the Docker Daemon Options</h4><p>Depending on the installed Docker version, you need to perform slightly different system configurations.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Update the <code class="literal">/etc/systemd/system/docker.service.d/docker.conf</code> file. If the file path and file do not exist, create them.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
If you are using Docker version 1.11:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">[Unit]
Description=Docker Service
After=multi-user.target

[Service]
ExecStart=
ExecStart=/usr/bin/docker daemon -g /mnt/data/docker --storage-driver=overlay --bip=172.17.42.1/16</pre></div></li><li class="listitem"><p class="simpara">
If you are using Docker version 18.03:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">[Unit]
Description=Docker Service
After=multi-user.target

[Service]
ExecStart=
ExecStart=/usr/bin/dockerd --data-root /mnt/data/docker --storage-driver=overlay --bip=172.17.42.1/16</pre></div></li></ul></div></li><li class="listitem"><p class="simpara">
Apply the updated Docker daemon configuration:
</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
Reload the Docker daemon configuration:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo systemctl daemon-reload</pre></div></li><li class="listitem"><p class="simpara">
Restart the Docker service:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo systemctl restart docker</pre></div></li><li class="listitem"><p class="simpara">
Enable Docker to start on boot:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo systemctl enable docker</pre></div></li></ol></div></li><li class="listitem"><p class="simpara">
Enable your user to communicate with the Docker subsystem by adding it to the <code class="literal">docker</code> group:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo usermod -aG docker $USER</pre></div></li><li class="listitem"><p class="simpara">
Recommended: Tune your network settings.
</p><p class="simpara">Create a <code class="literal">70-cloudenterprise.conf</code> file in the <code class="literal">/etc/sysctl.d/</code> file path that includes these network settings:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">cat &lt;&lt; SETTINGS | sudo tee /etc/sysctl.d/70-cloudenterprise.conf
net.ipv4.tcp_max_syn_backlog=65536
net.core.somaxconn=32768
net.core.netdev_max_backlog=32768
SETTINGS</pre></div></li><li class="listitem"><p class="simpara">
Pin the Docker version to ensure that the <code class="literal">docker-engine</code> package does not get upgraded:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">echo "exclude=docker-engine" | sudo tee -a /etc/yum.conf</pre></div></li><li class="listitem"><p class="simpara">
Reboot your system to ensure that all configuration changes take effect:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-literal">sudo reboot</pre></div></li><li class="listitem"><p class="simpara">
After rebooting, verify that your Docker settings persist as expected:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-literal">sudo docker info | grep Root</pre></div><p class="simpara">If the command returns <code class="literal">Docker Root Dir: /mnt/data/docker</code>, then your changes were applied successfully and persist as expected.</p><p class="simpara">If the command returns <code class="literal">Docker Root Dir: /var/lib/docker</code>, then you need to troubleshoot the previous configuration steps until the Docker settings are applied successfully before continuing with the installation process. For more information, see <a class="ulink" href="https://docs.docker.com/engine/admin/systemd/#/custom-docker-daemon-options" target="_top">Custom Docker daemon options</a> in the Docker documentation.</p></li><li class="listitem">
Repeat these steps on other hosts that you want to use with Elastic Cloud Enterprise or follow the steps in the next section to start installing Elastic Cloud Enterprise.
</li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ece-configure-hosts-sles12"></a>SUSE Linux Enterprise Server (SLES) 12</h3></div></div></div><p>The following instructions show you how to prepare your hosts on SLES 12.</p><p>If you want to install Elastic Cloud Enterprise on your own hosts, the steps for preparing your hosts can take a bit of time. There are two ways you can approach this:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong strong"><strong>Think like a minimalist</strong></span>: <a class="link" href="ece-configure-hosts.html#ece-install-docker-sles12" title="Install Docker Version 1.11">Install the correct version of Docker</a> on hosts that meet the <a class="link" href="ece-prereqs.html" title="Prerequisites">prerequisites</a> for Elastic Cloud Enterprise, then skip ahead and <a class="link" href="ece-installing.html" title="Install ECE With Internet Access">install Elastic Cloud Enterprise</a>. This approach is similar to the <a class="link" href="ece-quick-start.html" title="Quick Start Guide">Quick Start Guide</a>. Be aware that some checks during the installation can fail with this approach, which will mean doing further host preparation work before retrying the installation.
</li><li class="listitem">
<span class="strong strong"><strong>Cover your bases</strong></span>: If you want to make absolutely sure that your installation of Elastic Cloud Enterprise can succeed on hosts that meet the <a class="link" href="ece-prereqs.html" title="Prerequisites">prerequisites</a>, or if any of the checks during the installation failed previously, run through the full preparation steps in this section and then and <a class="link" href="ece-installing.html" title="Install ECE With Internet Access">install Elastic Cloud Enterprise</a>. You’ll do a bit more work now, but life will be simpler later on.
</li></ul></div><p>Regardless of which approach you take, the steps in this section need to be performed on every host that you want to use with Elastic Cloud Enterprise.</p><h4><a id="ece-install-docker-sles12"></a>Install Docker Version 1.11</h4><p>We recommend that you install Elastic Cloud Enterprise with 1.11.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Remove the preinstalled version of Docker to avoid any conflicts:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo zypper rm -y docker docker-runc</pre></div></li><li class="listitem"><p class="simpara">
Recommended: Add the Docker repository to make installing the correct version of Docker easier:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo zypper ar -t YUM https://packages.docker.com/1.11/yum/repo/main/opensuse/12.3 docker-1.11
sudo rpm --import 'https://sks-keyservers.net/pks/lookup?op=get&amp;search=0xee6d536cf7dc86e2d7d56f59a178ac6c6238f52e'
sudo zypper refresh</pre></div></li><li class="listitem"><p class="simpara">
Install the correct version of the <code class="literal">docker-engine</code> package:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo zypper install -y docker-engine-1.11.2.cs8-1</pre></div></li></ol></div><h4><a id="ece-install-docker-latest-sles12"></a>Install Docker Version 18.09</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Add the SLES Virtualization:containers repository:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo zypper ar -t https://download.opensuse.org/repositories/Virtualization:containers/SLE_12_SP3/Virtualization:containers.repo
sudo zypper refresh</pre></div></li><li class="listitem"><p class="simpara">
Install the correct version of the <code class="literal">docker</code> package:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo zypper install -y docker-18.09.0_ce-310.1</pre></div></li></ol></div><h4><a id="ece-xfs-setup-sles12"></a>Recommended: Set Up XFS on SLES</h4><p>Elastic Cloud Enterprise can run without XFS, but XFS is required to support disk space quotas for Elasticsearch data directories. Some Linux distributions such as RHEL and CentOS already provide XFS as the default file system. On SLES 12, we recommend that you set up an XFS file system first.</p><p>Disk space quotas set a limit on the amount of disk space an Elasticsearch cluster node can use. Currently, quotas are calculated by
a static ratio of 1:32, which means that for every 1 GB of RAM a cluster is given, a cluster node is allowed to consume 32 GB of disk space.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>Using LVM, <code class="literal">mdadm</code>, or a combination of the two for block device management is possible, but the
configuration is not covered here, nor is it provided as part of supporting Elastic Cloud Enterprise.</p></div></div><p><span class="strong strong"><strong>Example:</strong></span> Set up XFS on a single, pre-partitioned block device named <code class="literal">/dev/xvdg1</code>.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Format the partition:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo mkfs.xfs /dev/xvdg1</pre></div></li><li class="listitem"><p class="simpara">
Create the <code class="literal">/mnt/data/</code> directory as a mount point:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo install -o $USER -g $USER -d -m 700 /mnt/data</pre></div></li><li class="listitem"><p class="simpara">
Add an entry to the <code class="literal">/etc/fstab</code> file for the new XFS volume. The
default filesystem path used by Elastic Cloud Enterprise is <code class="literal">/mnt/data</code>.
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">/dev/xvdg1      /mnt/data       xfs     defaults,pquota,prjquota,x-systemd.automount  0 0</pre></div></li><li class="listitem"><p class="simpara">
Regenerate the mount files:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo mount -a</pre></div></li></ol></div><h4><a id="ece-update_the_configurations_settings_3"></a>Update the Configurations Settings</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Stop the Docker service:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo systemctl stop docker</pre></div></li><li class="listitem"><p class="simpara">
Enable cgroup accounting for memory and swap space.
</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
In the <code class="literal">/etc/default/grub</code> file, ensure that the <code class="literal">GRUB_CMDLINE_LINUX=</code> variable includes these values:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">cgroup_enable=memory swapaccount=1 cgroup.memory=nokmem</pre></div></li><li class="listitem"><p class="simpara">
Update your Grub configuration:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo update-bootloader</pre></div></li></ol></div></li><li class="listitem"><p class="simpara">
If you plan to run Elasticsearch 5.0 and later: Update the <code class="literal">/etc/sysctl.conf</code> file to set the maximum number of mapped memory areas a process can have:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">echo "vm.max_map_count=262144" | sudo tee -a /etc/sysctl.conf</pre></div></li><li class="listitem"><p class="simpara">
Verify that IPv4 forwarding is enabled:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">cat /proc/sys/net/ipv4/ip_forward</pre></div><p class="simpara">If the output of this command is not <code class="literal">1</code>, you must enable IPv4 forwarding so that Docker can work as expected:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
Update the <code class="literal">/etc/sysctl.conf</code> file to include this line:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">net.ipv4.ip_forward = 1</pre></div></li><li class="listitem"><p class="simpara">
Restart the network service:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo sysctl -p</pre></div></li><li class="listitem"><p class="simpara">
Verify that the change is applied:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">cat /proc/sys/net/ipv4/ip_forward</pre></div><p class="simpara">The output <code class="literal">1</code> indicates that IPv4 forwarding is turned on.</p></li></ol></div></li><li class="listitem"><p class="simpara">
Adjust the system limits.
</p><p class="simpara">Add the following configuration values to the <code class="literal">/etc/security/limits.conf</code> file. These values are derived from our experience with the Elastic Cloud hosted offering and should be used for Elastic Cloud Enterprise as well.</p><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>If you are using a user name other than <code class="literal">elastic</code>, adjust the configuration values accordingly.</p></div></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">*                soft    nofile         1024000
*                hard    nofile         1024000
*                soft    memlock        unlimited
*                hard    memlock        unlimited
elastic          soft    nofile         1024000
elastic          hard    nofile         1024000
elastic          soft    memlock        unlimited
elastic          hard    memlock        unlimited
root             soft    nofile         1024000
root             hard    nofile         1024000
root             soft    memlock        unlimited</pre></div></li><li class="listitem"><p class="simpara">
If you did not create the mount point earlier (if you did not set up XFS), create the <code class="literal">/mnt/data/</code> directory as a mount point:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo install -o $USER -g $USER -d -m 700 /mnt/data</pre></div></li><li class="listitem"><p class="simpara">
If you <a class="link" href="ece-configure-hosts.html#ece-xfs-setup-sles12" title="Recommended: Set Up XFS on SLES">set up a new device with XFS</a> earlier:
</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
Mount the block device (change the device name if you use a different device than <code class="literal">/dev/xvdg1</code>):
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo mount /dev/xvdg1</pre></div></li><li class="listitem"><p class="simpara">
Set the permissions on the newly mounted device:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo chown $USER:$USER /mnt/data</pre></div></li></ol></div></li><li class="listitem"><p class="simpara">
Create the <code class="literal">/mnt/data/docker</code> directory for the Docker service storage:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo install -o $USER -g $USER -d -m 700 /mnt/data/docker</pre></div></li></ol></div><h5><a id="ece-configure-docker-daemon-sles12"></a>Configure the Docker Daemon Options</h5><p>Depending on the installed Docker version, you need to perform slightly different system configurations.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Update <code class="literal">/etc/systemd/system/docker.service.d/docker.conf</code>. If the file path and file do not exist, create them first.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
Docker version 1.11
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">[Unit]
Description=Docker Service
After=network.target docker.socket

[Service]
Environment="DOCKER_OPTS=-H unix:///run/docker.sock -g /mnt/data/docker --storage-driver=overlay --bip=172.17.42.1/16"
ExecStart=
ExecStart=/usr/bin/docker daemon $DOCKER_OPTS
Restart=on-failure
RestartSec=1s
TimeoutSec=20</pre></div></li><li class="listitem"><p class="simpara">
Docker version 18.09
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">[[Unit]
 Description=Docker Service
 After=network.target docker.socket

 [Service]
 Environment="DOCKER_OPTS=-H unix:///run/docker.sock -g /mnt/data/docker --storage-driver=overlay --bip=172.17.42.1/16"
 ExecStart=
 ExecStart=/usr/bin/dockerd $DOCKER_OPTS
 Restart=on-failure
 RestartSec=1s
 TimeoutSec=20</pre></div></li></ul></div></li><li class="listitem"><p class="simpara">
Apply the updated Docker daemon configuration:
</p><p class="simpara">Reload the Docker daemon configuration:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo systemctl daemon-reload</pre></div><p class="simpara">Restart the Docker service:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo systemctl restart docker</pre></div><p class="simpara">Enable Docker to start on boot:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo systemctl enable docker</pre></div></li><li class="listitem"><p class="simpara">
Enable your user to communicate with the Docker subsystem by adding it to the <code class="literal">docker</code> group:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">sudo usermod -aG docker $USER</pre></div></li><li class="listitem"><p class="simpara">
Recommended: Tune your network settings.
</p><p class="simpara">Create a <code class="literal">70-cloudenterprise.conf</code> file in the <code class="literal">/etc/sysctl.d/</code> file path that includes these network settings:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">cat &lt;&lt; SETTINGS | sudo tee /etc/sysctl.d/70-cloudenterprise.conf
net.ipv4.tcp_max_syn_backlog=65536
net.core.somaxconn=32768
net.core.netdev_max_backlog=32768
net.ipv4.tcp_keepalive_time=1800
net.netfilter.nf_conntrack_tcp_timeout_established=7200
net.netfilter.nf_conntrack_max=262140
SETTINGS</pre></div><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
Ensure settings in /etc/sysctl.d/*.conf are applied on boot
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">SCRIPT_LOCATION="/var/lib/cloud/scripts/per-boot/00-load-sysctl-settings"
sudo sh -c "cat &lt;&lt; EOF &gt; ${SCRIPT_LOCATION}
#!/bin/bash

set -x

lsmod | grep ip_conntrack || modprobe ip_conntrack

sysctl --system
EOF
"
sudo chmod +x ${SCRIPT_LOCATION}</pre></div></li></ol></div></li><li class="listitem"><p class="simpara">
Reboot your system to ensure that all configuration changes take effect:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-literal">sudo reboot</pre></div></li><li class="listitem"><p class="simpara">
After rebooting, verify that your Docker settings persist as expected:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-literal">sudo docker info | grep Root</pre></div><p class="simpara">If the command returns <code class="literal">Docker Root Dir: /mnt/data/docker</code>, then your changes were applied successfully and persist as expected.</p><p class="simpara">If the command returns <code class="literal">Docker Root Dir: /var/lib/docker</code>, then you need to troubleshoot the previous configuration steps until the Docker settings are applied successfully before continuing with the installation process. For more information, see <a class="ulink" href="https://docs.docker.com/engine/admin/systemd/#/custom-docker-daemon-options" target="_top">Custom Docker daemon options</a> in the Docker documentation.</p></li><li class="listitem">
Repeat these steps on other hosts that you want to use with Elastic Cloud Enterprise or follow the steps in the next section to start installing Elastic Cloud Enterprise.
</li></ol></div></div></div><div class="navfooter"><span class="prev"><a href="ece-configuring.html">
              « 
              Prepare Your Environment</a>
           
        </span><span class="next">
           
          <a href="ece-configure-ami.html">Amazon Machine Images (AMIs)
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
					<div id="rtpcontainer" style="display: block;">
						<div class="mktg-promo">
						<h3>Getting Started Videos</h3>
						<ul class="icons">
							<li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
							<li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
							<li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
						</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

        </div>
      	


<div id="footer-subscribe" class="home-footer-subscribe">
  <div class="subscribe-wrapper">
    <div class="container">
      <div class="subscribe-form-container">
        <div class="subscribe-title col-md-12 col-lg-6">
            <h5>Be in the know with the latest and greatest from Elastic.</h5>
        </div>
        <div class="subscribe-form col-md-12 col-lg-6">
          <form class="mktoForm sb-form"></form>
        </div>
      </div>
      <div class="form_thanks hide">
        
          <p>Thanks for subscribing! We'll keep you updated with new releases.</p>
        
      </div>
    </div>
  </div>
</div>
<!--subscribe newsletter end-->

<!-- Footer Section -->
<footer class="footer-wrapper">
  <div class="container">
    <div class="row footer-content">
        
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/products">Products ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/products/elasticsearch">Elasticsearch</a></li>
                  
                
              
                
                  
                    <li><a href="/products/kibana">Kibana</a></li>
                  
                
              
                
                  
                    <li><a href="/products/beats">Beats</a></li>
                  
                
              
                
                  
                    <li><a href="/products/logstash">Logstash</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack">Stack Features (formerly X-Pack)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/security">Security</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/alerting">Alerting</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/canvas">Canvas</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/monitoring">Monitoring</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/graph">Graph</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/reporting">Reporting</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/machine-learning">Machine Learning</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/elasticsearch-sql">Elasticsearch SQL</a></li>
                  
                
              
                
                  
                    <li><a href="/products/hadoop">Elasticsearch-Hadoop</a></li>
                  
                
              
                
                  
                    <li><a href="/products/ece">Elastic Cloud Enterprise</a></li>
                  
                
              
              </ul>
              
                <h3><a href=""></a></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/solutions">Solutions ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/solutions/logging">Logging</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/metrics">Metrics</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/site-search">Site Search</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/security-analytics">Security Analytics</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/apm">APM</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/app-search">App Search</a></li>
                  
                
              
              </ul>
              
                <h3><a href="/cloud">Elastic Cloud ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/cloud/elasticsearch-service">Elasticsearch Service</a></li>
                  
                
              
                
                  
                    <li><a href="/aws-elasticsearch-service">AWS Elasticsearch Service Comparison</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud/app-search-service">Elastic App Search Service</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud/site-search-service">Elastic Site Search Service</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3>Resources</h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/blog">Blog</a></li>
                  
                
              
                
                  
                    <li><a href="https://cloud-status.elastic.co">Cloud Status</a></li>
                  
                
              
                
                  
                    <li><a href="/community">Community</a></li>
                  
                
              
                
                  
                    <li><a href="/use-cases">Customers & Use Cases</a></li>
                  
                
              
                
                  
                    <li><a href="/guide">Documentation</a></li>
                  
                
              
                
                  
                    <li><a href="/elasticon">Elastic{ON} Events</a></li>
                  
                
              
                
                  
                    <li><a href="https://discuss.elastic.co/">Forums</a></li>
                  
                
              
                
                  
                    <li><a href="/community/meetups">Meetups</a></li>
                  
                
              
                
                  
                    <li><a href="/subscriptions">Subscriptions</a></li>
                  
                
              
                
                  
                    <li><a href="https://support.elastic.co">Support Portal</a></li>
                  
                
              
                
                  
                    <li><a href="/videos">Videos & Webinars</a></li>
                  
                
              
                
                  
                    <li><a href="/training">Training</a></li>
                  
                
              
              </ul>
              
                <h3></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/about">About ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/about/careers">Careers/Jobs</a></li>
                  
                
              
                
                  
                    <li><a href="/about/our-source-code">Our Source Code</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams">Teams</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams/board">Board of Directors</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams/leadership">Leadership</a></li>
                  
                
              
                
                  
                    <li><a href="/contact">Contact</a></li>
                  
                
              
                
                  
                    <li><a href="/about/history-of-elasticsearch">Our Story</a></li>
                  
                
              
                
                  
                    <li><a href="/about/why-open-source">Why Open Source</a></li>
                  
                
              
                
                  
                    <li><a href="/about/distributed">Distributed by Intention</a></li>
                  
                
              
                
                  
                    <li><a href="/about/partners">Partners</a></li>
                  
                
              
                
                  
                    <li><a href="/about/press">Media</a></li>
                  
                
              
                
                  
                    <li><a href="https://ir.elastic.co">Investor Relations</a></li>
                  
                
              
                
                  
                    <li><a href="https://www.elastic.shop">Elastic Store</a></li>
                  
                
              
              </ul>
              
                <h3><a href=""></a></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
       
    </div>
     <!-- Social Media Section -->
    <div class="row social-icon">
      <div class="col-xs-12 col-sm-12 col-md-6 col-md-offset-3">
	    <div class="row">
		     <div class="follow-us col-xs-12 col-sm-12 col-md-12">
			    <div class="social-label">FOLLOW US</div>
			    <ul class="social-icon-list">
          
          		 	<li class="Facebook"><a id="footer_facebook" href="https://www.facebook.com/elastic.co">Facebook</a></li>
          
          		 	<li class="Twitter"><a id="footer_twitter" href="https://www.twitter.com/elastic">Twitter</a></li>
          
          		 	<li class="LinkedIn"><a id="footer_linkedin" href="https://www.linkedin.com/company/elastic-co">LinkedIn</a></li>
          
          		 	<li class="Xing"><a id="footer_xing" href="https://www.xing.com/companies/elastic.co">Xing</a></li>
          
          		 	<li class="YouTube"><a id="footer_youtube" href="https://www.youtube.com/user/elasticsearch">YouTube</a></li>
          
		  		</ul>
		     </div>
	    </div>
      </div>
    </div>
    <!-- Social Media Section end-->
    <div class="row">
	<div class="col-xs-12 col-sm-12 col-md-11">
		<div class="copyright">
			<ul>
				<li><a href="/legal/trademarks">Trademarks</a></li>
				<li><a href="/legal/terms-of-use">Terms of Use</a></li>
				<li><a href="/legal/privacy-statement">Privacy</a></li>
				<li><a href="/brand">Brand</a></li>
			</ul>
			<div class="copyright-content">
				<div class="footer-text">
					<p>© 2019. Elasticsearch B.V. All Rights Reserved
					</p>
					<p>Elasticsearch is a trademark of Elasticsearch B.V., registered in the U.S. and in other countries.
					</p>
					<p>Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a> in the United States and/or other countries.
					</p>
				</div>
			</div>
		</div>
	</div>
	<div class="col-xs-2 col-xs-offset-5 col-sm-1 col-sm-offset-5 col-md-1 col-md-offset-0">
		<div class="footer-logo"><a href="/"><img src="/static/images/svg/logo-elastic-footer-stacked-999.svg" class="img-responsive"></a>
		</div>
	</div>
</div>
  </div>
</footer>
<!-- Footer Section end-->

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>
 
     
<script type="text/javascript">
$(document).ready(function(){
	if (window.location.hash.length) {
	      var target = $(window.location.hash);
	      target = target.length ? target : $(window.location.hash);
	      if (target.length) {
	        setTimeout(function(){ $(window).scrollTop(target.offset().top - 60); }, 1200);        
	      }
	}
	$('#guide').on('click','a[href*=#]:not([href=#])',function(e) {
			var flag=true;
		      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		          var target = $(this.hash);
		          target = target.length ? target :$(this.hash);
		          if (target.length) {
		            if(flag){
		              flag=false;
		              var heightScroll=($('.tertiary-nav.navbar-fixed-top').height())?60:110;
		              $('html,body').animate({
		                  scrollTop: target.offset().top - heightScroll
		                }, 2000, function(){
		                  flag=true;
		                });
		            }                    
		          }
		      }
		    
	});

})

</script>

     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>