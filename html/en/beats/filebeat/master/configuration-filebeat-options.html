<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Filebeat Prospectors Configuration
        | Filebeat Reference [master]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Filebeat Reference [master]" /><link rel="up" href="filebeat-configuration-details.html" title="Configuration Options (Reference)" /><link rel="prev" href="filebeat-configuration-details.html" title="Configuration Options (Reference)" /><link rel="next" href="configuration-global-options.html" title="Filebeat Global Configuration" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Docs/Filebeat/Reference/master" />
  	
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- RTP tag -->
    <script type='text/javascript' async>
    (function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
     c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";
     g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);
     })(window,document,"rtp","//sjrtp2-cdn.marketo.com/rtp-api/v1/rtp.js","elasticco");

    rtp('send','view');
    rtp('get', 'campaign',true);
    </script>
    <!-- End of RTP tag -->
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
<meta name="apple-mobile-web-app-title" content="Elastic">
<meta name="application-name" content="Elastic">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">
<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >


<!-- end DC tags -->


	<meta name="description" content="" />





	<meta property="og:image" content="/static/img/cluster-small.png" />

		

    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">

	   

    <!-- css -->
    <link href="https://static-www.elastic.co/static/css/main.css?q=802" rel="stylesheet">
    
    

    <script src="https://static-www.elastic.co/static/js/jquery.min.js?q=802"></script>
    <script src="https://static-www.elastic.co/static/js/bootstrap.min.js?q=802"></script>
    <script src="https://static-www.elastic.co/static/js/jquery.cookie.js?q=802"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // ---------------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
        locales = {
          '/en/': '/',
          '/de/': '/de/',
          '/fr/': '/fr/',
          '/ja/':'/jp/',
          '/ko/':'/kr/'
        }
        localepages = ['/','/de/','/fr/','/jp/','/kr/','/products','/de/products','/fr/products','/jp/products','/kr/products'],
        locationpath = window.location.pathname,
        localeUrl = '{"relative_url_prefix":"/","code":"en-us","url":"/guide_template"}',
        currentlocale = JSON.parse(localeUrl);
    
      if(localepages.indexOf(locationpath) != -1){
        if($.cookie("c_lang")){
          if($.cookie("c_lang") != currentlocale.relative_url_prefix){
            var cookieurl = $.cookie("c_lang") + currentlocale.url.slice(1,currentlocale.url.length);
            window.location = cookieurl;
          }
        }
        else{
          var locale_lang = "/";
          if(locales[lang] != undefined){
            locale_lang = locales[lang];
          }
          $.cookie("c_lang",locale_lang ,{ expires: 365, path: '/'}); 
          window.location = localepages[localepages.indexOf(locationpath)];
        }
      }
      
      // --------------------- end of set language based on browser language -----------------
      </script>


	
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/guide.css?q=802" />


  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
  <body >
  	<!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
                              height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- begin olark code -->
    <script data-cfasync="false" type='text/javascript'>/*<![CDATA[*/window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){
    f[z]=function(){
    (a.s=a.s||[]).push(arguments)};var a=f[z]._={
    },q=c.methods.length;while(q--){(function(n){f[z][n]=function(){
    f[z]("call",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={
    0:+new Date};a.P=function(u){
    a.p[u]=new Date-a.p[0]};function s(){
    a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){
    hd="head";return["<",hd,"></",hd,"><",i,' onl' + 'oad="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){
    return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){
    b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{
    b.contentWindow[g].open()}catch(w){
    c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{
    var t=b.contentWindow[g];t.write(p());t.close()}catch(x){
    b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({
    loader: "static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});
    /* custom configuration goes here (www.olark.com/documentation) */
    olark.identify('1356-750-10-5709');/*]]>*/</script><noscript><a href="https://www.olark.com/site/1356-750-10-5709/contact" title="Contact us">Questions? Feedback?</a> powered by <a href="http://www.olark.com?welcome" title="Olark live chat software">Olark live chat software</a></noscript>
    <!-- end olark code -->

    <script> 
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ 
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), 
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) 
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); 
      ga('create', 'UA-12395217-16', 'auto'); 
      ga('send', 'pageview'); 
    </script>

    <!-- Header Section -->
    
<header class="header-wrapper">
   

  




<div class="navigation-wrapper">
  <div class="container">
    <nav class="navbar">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-mobile-header navbar-header mr-20 mr-xs-0">
      <div class="row hidden-sm hidden-md hidden-lg">
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg">
          <div class="navbar-mobile-header-icon navbar-mobile-header-icon-out">
            <span></span>
            <span></span>
            <span></span>
          </div>
          
            <a href="/learn" class="nav-title hidden-sm hidden-md hidden-lg m-l-8">Learn</a>
          
        </div>
        <div class="col-xs-2 text-center">
          <div class="navbar-brand" id="elastic">
            <h1>
              <a class="logo-m hidden-sm hidden-md hidden-lg" href="/">
                <img src="https://static-www.elastic.co/assets/bltd5ac38b4549d53de/elastic-logo-mobile (1).svg?q=802" alt="elastic-logo-mobile">
              </a>
            </h1>
          </div>
        </div>
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg text-right">
          <ul class="menu-m hidden-sm hidden-md hidden-lg">
            <li class=""><a class="icon-contact" href="/contact"></a></li>
            <li id="searchbar"><a class="button icon" href="#"></a></li>
            <li class="lang global-language">
                
                  <a href="#">EN</a>
                
              <ul class="language-list">
                
                  
                    
                  
                <li><a href="/" data-value="/" id="locale-select">English</a></li>
                
                  
                    
                  
                <li><a href="/fr/" data-value="/fr/" id="locale-select">Français</a></li>
                
                  
                    
                  
                <li><a href="/de/" data-value="/de/" id="locale-select">Deutsch</a></li>
                
                  
                    
                  
                <li><a href="/jp/" data-value="/jp/" id="locale-select">日本語</a></li>
                
                  
                    
                  
                <li><a href="/kr/" data-value="/kr/" id="locale-select">한국어</a></li>
                
              </ul>
            </li>
          </ul>
        </div>
      </div>

      <div class="navbar-brand hidden-xs" id="elastic">
        <h1>
          <a class="hidden-xs" id="elastic-logo" href="/">
            <img src="https://static-www.elastic.co/assets/blt6050efb80ceabd47/elastic-logo (2).svg?q=802" alt="elastic-logo">
          </a>
        </h1>
      </div>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse mobile-inner-nav">
      <nav class="nav navbar-nav primary-nav-hover" id="nav">
        <ul>
        
          
            
              
            
            <li>
              <a id="nav_products" class=" " href="/products">Products</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_cloud" class=" " href="/cloud">Cloud</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_services" class=" " href="/services">Services</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_customers" class=" " href="/use-cases">Customers</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_learn" class="active" href="/learn">Learn</a>
            </li>
          
        
          
        
        </ul>
      </nav>
      <nav class="nav navbar-nav navbar-right hidden-xs">
        <ul>
          <li class="hidden-xs hidden-sm"><a href="/downloads">downloads</a></li>
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-download" href="/downloads"></a></li>
          <!-- To set parameters to contact button -->
          
           
            
          

          
            
            
          
          <li class="hidden-xs hidden-sm"><a class="btn btn-secondary btn-contact" href="/contact?storm=global-header-en">contact</a></li>
          <!-- ////////////////ends here///////////////-->          
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-contact" href="/contact?storm=global-header-en"></a></li>
          <li class="hidden-xs" id="searchbar"><a class="button icon" href="#"></a></li>
          <li class="hidden-xs lang global-language">
                
                  <a href="#">EN</a>
                
               <ul class="language-list">
              
                
                  
                
              <li><a class="" href="/" data-value="/">English</a></li>
              
                
                  
                
              <li><a class="" href="/fr/" data-value="/fr/">Français</a></li>
              
                
                  
                
              <li><a class="" href="/de/" data-value="/de/">Deutsch</a></li>
              
                
                  
                
              <li><a class="" href="/jp/" data-value="/jp/">日本語</a></li>
              
                
                  
                
              <li><a class="" href="/kr/" data-value="/kr/">한국어</a></li>
              
            </ul>
          </li>
        </ul>
      </nav>
    </div><!-- /.navbar-collapse -->
  </nav>
  </div>
</div>

<div class="header-search-wrapper open-search"> 
  <div class="container">
    <div class="big-search">
      <i class="big-search-icon"></i>
      <form id="searchfrm" name="searchForm" autocomplete="on" action="/search" method="get">
        <ul class="tags-wrapper">
          <li class="search-field"><input type="text" name="q" id="autocomplete" class="form-control global-input" autocomplete="off"></li>
        </ul>
      </form>
      <a class="header-search-cancel" href="#"></a>
    </div>
    <div class="nav-auto-complete"></div>
  </div>
</div>
</header>
<link rel="stylesheet" type="text/css" href="https://static-www.elastic.co/static/css/horizon-swiper.min.css?q=802">
<style> 
    
      .m-shortcuts li a.m-search {
        background: url("https://static-www.elastic.co/assets/blt7b9c4fe6528dc4ef/m-search-icon.png?q=802") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-docs {
        background: url("https://static-www.elastic.co/assets/blt44d8b7530a76d01c/m-guide-icon.png?q=802") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-contact {
        background: url("https://static-www.elastic.co/assets/blt878040795c9d083b/m-contact-icon.png?q=802") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
    
</style>
<script type="text/javascript" src="https://static-www.elastic.co/static/js/horizon-swiper.min.js?q=802"></script>
<script type="text/javascript">
  $(document).ready( function(){
    // if($('#scrollable-pane li').length > 3){
      $('.horizon-swiper').horizonSwiper({
        showItems: 3,
        arrows: true
      }); 
    // }
    
    $('.navbar-toggle').on('click', function(){
      $('.mobile-navigation, .menu-open').hide();
      $('.navigation-wrapper').addClass('mobile-navigation');
      $('.navbar').addClass('menu-open');
      $('.menu-close').show();
    });
    $('.menu-close').on('click', function(){
      $('.navigation-wrapper').removeClass('mobile-navigation');
      $('.navbar').removeClass('menu-open');
      $('.menu-close').hide();
    });

    var active_url = "";

    $(".navbar-mobile-header-icon").click(function(index){
      $('.navigation-wrapper').toggleClass('menu-overlay');
      $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
      $(".mobile-inner-nav").slideToggle(500);
      $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
        $(this).css({'animation-delay': (index/25)+'0.4s'});
      });
    });

    $('.dropdown-arrow').on('click', function(e){
      e.preventDefault();
      setDropdown();
    });
    
    function setDropdown() {
      $('#myDropdown').toggleClass('show');
    }

    $('body').on('click', function(event){
      if (!event.target.matches('.dropdown-arrow')) {

        var dropdowns = $(".dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    });

    // if($(window).width() < 769){
    //   var $item = $('.scrollable-panel li'), 
    //       visible = 3, //Set the number of items that will be visible
    //       index = 0, //Starting index
    //       endIndex = ( $item.length / visible ) - 1; //End index (NOTE:: Requires visible to be a factor of $item.length... You can improve this by rounding...)

    //   $('#right-arrow').click(function(){
    //     if(index < endIndex ){
    //       index++;
    //       $item.animate({'left':'-=300px'});
    //     }
    //   });

    //   $('#left-arrow').click(function(){
    //     if(index > 0){
    //       index--;            
    //       $item.animate({'left':'+=300px'});
    //     }
    //   });
    // }
  });
  $(window).resize(function () {
    $('.horizon-swiper').horizonSwiper({
      showItems: 3,
      arrows: true
    });
  });
</script>
    


  





  
  
  
  
    <div class="tertiary-nav">
      <div class="container">
        <div class="p-t-b-15 bdr-btm-e0e0e0 clearfix">
          <div class="breadcrum-wrapper pull-left text-left">
          
            <a href="/guide">Docs</a> 
          
          </div>
          
          
          
        </div>
      </div>
    </div>

    <div class="nav-mobile-dropdown hidden-sm hidden-md hidden-lg bdr-btm-e0e0e0 clearfix">
      <div class="container text-right">
        <div class="breadcrum-wrapper pull-left text-left">
          
              <a href="/guide">Docs</a>
          
        </div>
        
        
      </div>
    </div>
  


<style type="text/css">

  

</style>
    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   
          
            
        			<!-- <div class="pageheader">
	<div class="common-container">
		
			<h2 class="page-title">Guide template</h2>
		
	</div>
</div> -->


        		
          

          
	<section id="guide">
		<div class="container">
			<div class="row">
			  <!-- start body -->
				
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Filebeat Reference
      [master]
    </a></span> » <span class="breadcrumb-link"><a href="configuring-howto-filebeat.html">Configuring Filebeat </a></span> » <span class="breadcrumb-link"><a href="filebeat-configuration-details.html">Configuration Options (Reference)</a></span> » <span class="breadcrumb-node">Filebeat Prospectors Configuration</span></div><div class="navheader"><span class="prev"><a href="filebeat-configuration-details.html">
              « 
              Configuration Options (Reference)</a>
           
        </span><span class="next">
           
          <a href="configuration-global-options.html">Filebeat Global Configuration
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configuration-filebeat-options"></a>Filebeat Prospectors Configuration<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>The <code class="literal">filebeat</code> section of the <code class="literal">filebeat.yml</code> config file specifies a list of <code class="literal">prospectors</code> that Filebeat
uses to locate and process log files. Each prospector item begins with a dash (-)
and specifies prospector-specific configuration options, including
the list of paths that are crawled to locate log files.</p><p>Here is a sample configuration:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">filebeat.prospectors:
- input_type: log
  paths:
    - /var/log/apache/httpd-*.log
  document_type: apache

- input_type: log
  paths:
    - /var/log/messages
    - /var/log/*.log</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_options"></a>Options<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_input_type"></a>input_type<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>One of the following input types:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
log: Reads every line of the log file (default)
</li><li class="listitem">
stdin: Reads the standard in
</li></ul></div><p>The value that you specify here is used as the <code class="literal">input_type</code> for each event published to Logstash and Elasticsearch.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_paths"></a>paths<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>A list of glob-based paths that should be crawled and fetched. Filebeat supports all glob patterns that are supported by <a class="ulink" href="https://golang.org/pkg/path/filepath/#Glob" target="_top">Golang Glob</a>.</p><p>Filebeat starts a harvester for
each file that it finds under the specified paths. You can specify one path per line. Each line begins with a dash (-).</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_encoding"></a>encoding<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The file encoding to use for reading files that contain international characters.
See the encoding names <a class="ulink" href="http://www.w3.org/TR/encoding/" target="_top">recommended by the W3C for use in HTML5</a>.</p><p>Here are some sample encodings from W3C recommendation:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
plain, latin1, utf-8, utf-16be-bom, utf-16be, utf-16le, big5, gb18030, gbk, hz-gb-2312,
</li><li class="listitem">
euc-kr, euc-jp, iso-2022-jp, shift-jis, and so on
</li></ul></div><p>The <code class="literal">plain</code> encoding is special, because it does not validate or transform any input.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="exclude-lines"></a>exclude_lines<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>A list of regular expressions to match the lines that you want Filebeat to exclude. Filebeat drops any lines that match a regular expression in the list. By default, no lines are dropped.</p><p>If <a class="xref" href="configuration-filebeat-options.html#multiline" title="multiline">multiline</a> is also specified, each multiline message is combined into a single line before the lines are filtered by <code class="literal">exclude_lines</code>.</p><p>The following example configures Filebeat to drop any lines that start with "DBG".</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">filebeat.prospectors:
- paths:
    - /var/log/myapp/*.log
  exclude_lines: ['^DBG']</pre></div><p>See <a class="xref" href="regexp-support.html" title="Regular Expression Support"><em>Regular Expression Support</em></a> for a list of supported regexp patterns.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="include-lines"></a>include_lines<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>A list of regular expressions to match the lines that you want Filebeat to include. Filebeat exports only the lines that match a regular expression in the list. By default, all lines are exported.</p><p>If <a class="xref" href="configuration-filebeat-options.html#multiline" title="multiline">multiline</a> is also specified, each multiline message is combined into a single line before the lines are filtered by <code class="literal">include_lines</code>.</p><p>The following example configures Filebeat to export any lines that start with "ERR" or "WARN":</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">filebeat.prospectors:
- paths:
    - /var/log/myapp/*.log
  include_lines: ['^ERR', '^WARN']</pre></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>If both <code class="literal">include_lines</code> and <code class="literal">exclude_lines</code> are defined, Filebeat executes <code class="literal">include_lines</code> first and then executes <code class="literal">exclude_lines</code>.
The order in which the two options are defined doesn’t matter. The <code class="literal">include_lines</code> option will always be executed
before the <code class="literal">exclude_lines</code> option, even if <code class="literal">exclude_lines</code> appears before <code class="literal">include_lines</code> in the config file.</p></div></div><p>The following example exports all Apache log lines except the debugging messages (DBGs):</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml"> include_lines: ['apache']
 exclude_lines: ['^DBG']</pre></div><p>See <a class="xref" href="regexp-support.html" title="Regular Expression Support"><em>Regular Expression Support</em></a> for a list of supported regexp patterns.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="exclude-files"></a>exclude_files<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>A list of regular expressions to match the files that you want Filebeat to ignore. By default no files are excluded.</p><p>The following example configures Filebeat to ignore all the files that have a <code class="literal">gz</code> extension:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">  exclude_files: ['\.gz$']</pre></div><p>See <a class="xref" href="regexp-support.html" title="Regular Expression Support"><em>Regular Expression Support</em></a> for a list of supported regexp patterns.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_tags"></a>tags<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>A list of tags that the Beat includes in the <code class="literal">tags</code> field of each published
event. Tags make it easy to select specific events in Kibana or apply
conditional filtering in Logstash. These tags will be appended to the list of
tags specified in the general configuration.</p><p>Example:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">filebeat.prospectors:
- paths: ["/var/log/app/*.json"]
  tags: ["json"]</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="configuration-fields"></a>fields<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Optional fields that you can specify to add additional information to the
output. For example, you might add fields that you can use for filtering log
data. Fields can be scalar values, arrays, dictionaries, or any nested
combination of these. By default, the fields that you specify here will be
grouped under a <code class="literal">fields</code> sub-dictionary in the output document. To store the
custom fields as top-level fields, set the <code class="literal">fields_under_root</code> option to true.
If a duplicate field is declared in the general configuration, then its value
will be overwritten by the value declared here.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">filebeat.prospectors:
- paths: ["/var/log/app/*.log"]
  fields:
    app_id: query_engine_12</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="fields-under-root"></a>fields_under_root<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>If this option is set to true, the custom <a class="xref" href="configuration-filebeat-options.html#configuration-fields" title="fields">fields</a> are stored as
top-level fields in the output document instead of being grouped under a
<code class="literal">fields</code> sub-dictionary. If the custom field names conflict with other field
names added by Filebeat, then the custom fields overwrite the other fields.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="ignore-older"></a>ignore_older<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>If this option is enabled, Filebeat ignores any files that were modified before the specified timespan. Configuring <code class="literal">ignore_older</code> can be especially useful if you keep log files for a long time. For example, if you want to start Filebeat, but only want to send the newest files and files from last week, you can configure this option.</p><p>You can use time strings like 2h (2 hours) and 5m (5 minutes). The default is 0, which disables the setting.
Commenting out the config has the same effect as setting it to 0.</p><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>You must set <code class="literal">ignore_older</code> to be greater than <code class="literal">close_inactive</code>.</p></div></div><p>The files affected by this setting fall into two categories:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Files that were never harvested
</li><li class="listitem">
Files that were harvested but weren’t updated for longer than <code class="literal">ignore_older</code>
</li></ul></div><p>When a file that has never been harvested is updated, the reading starts from the beginning of the file because no state has been persisted. For a file that has been harvested previously, the state still exists, so when the file is updated, reading continues at the last position.</p><p>The <code class="literal">ignore_older</code> setting relies on the modification time of the file to determine if a file is ignored. If the modification time of the file is not updated when lines are written to a file (which can happen on Windows), the <code class="literal">ignore_older</code> setting may cause Filebeat to ignore files even though content was added at a later time.</p><p>To remove the state of previously harvested files from the registry file, use the <code class="literal">clean_inactive</code> configuration option.</p><p>Before a file can be ignored by the prospector, it must be closed. To ensure a file is no longer being harvested when it is ignored, you must set <code class="literal">ignore_older</code> to a longer duration than <code class="literal">close_inactive</code>.</p><p>If a file that’s currently being harvested falls under <code class="literal">ignore_older</code>, the harvester will first finish reading the file and close it after <code class="literal">close_inactive</code> is reached. Then, after that, the file will be ignored.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="close-options"></a>close_*<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The <code class="literal">close_*</code> configuration options are used to close the harvester after a certain criteria or time. Closing the harvester means closing the file handler. If a file is updated after the harvester is closed, the file will be picked up again after <code class="literal">scan_frequency</code> has elapsed. However, if the file is moved or deleted while the harvester is closed, Filebeat will not be able to pick up the file again, and any data that the harvester hasn’t read will be lost.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="close-inactive"></a>close_inactive<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>When this option is enabled, Filebeat closes the file handle if a file has not been harvested for the specified duration. The counter for the defined period starts when the last log line was read by the harvester. It is not based on the modification time of the file. If the closed file changes again, a new harvester is started and the latest changes will be picked up after <code class="literal">scan_frequency</code> has elapsed.</p><p>We recommended that you set <code class="literal">close_inactive</code> to a value that is larger than the least frequent updates to your log files. For example, if your log files get updated every few seconds, you can safely set <code class="literal">close_inactive</code> to <code class="literal">1m</code>. If there are log files with very different update rates, you can use multiple prospector configurations with different values.</p><p>Setting <code class="literal">close_inactive</code> to a lower value means that file handles are closed sooner. However this has the side effect that new log lines are not sent in near real time if the harvester is closed.</p><p>The timestamp for closing a file does not depend on the modification time of the file. Instead, Filebeat uses an internal timestamp that reflects when the file was last harvested. For example, if <code class="literal">close_inactive</code> is set to 5 minutes, the countdown for the 5 minutes starts after the harvester reads the last line of the file.</p><p>You can use time strings like 2h (2 hours) and 5m (5 minutes). The default is 5m.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="close-renamed"></a>close_renamed<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>Only use this option if you understand that data loss is a potential side effect.</p></div></div><p>When this option is enabled, Filebeat closes the file handler when a file is renamed. This happens, for example, when rotating files. By default, the harvester stays open and keeps reading the file because the file handler does not depend on the file name. If the <code class="literal">close_renamed</code> option is enabled and the file is renamed or moved in such a way that it’s no longer matched by the file patterns specified for the prospector, the file will not be picked up again. Filebeat will not finish reading the file.</p><p>WINDOWS: If your Windows log rotation system shows errors because it can’t rotate the files, you should enable this option.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="close-removed"></a>close_removed<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>When this option is enabled, Filebeat closes the harvester when a file is removed. Normally a file should only be removed after it’s inactive for the duration specified by <code class="literal">close_inactive</code>. However, if a file is removed early and you don’t enable <code class="literal">close_removed</code>, Filebeat keeps the file open to make sure the harvester has completed. If this setting results in files that are not completely read because they are removed from disk too early, disable this option.</p><p>This option is enabled by default. If you disable this option, you must also disable <code class="literal">clean_removed</code>.</p><p>WINDOWS:  If your Windows log rotation system shows errors because it can’t rotate files, make sure this option is enabled.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="close-eof"></a>close_eof<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>Only use this option if you understand that data loss is a potential side effect.</p></div></div><p>When this option is enabled, Filebeat closes a file as soon as the end of a file is reached. This is useful when your files are only written once and not updated from time to time. For example, this happens when you are writing every single log event to a new file.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="close-timeout"></a>close_timeout<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>Only use this option if you understand that data loss is a potential side effect. Another side effect is that multiline events might not be completely sent before the timeout expires.</p></div></div><p>When this option is enabled, Filebeat gives every harvester a predefined lifetime. Regardless of where the reader is in the file, reading will stop after the <code class="literal">close_timeout</code> period has elapsed. This option can be useful for older log files when you want to spend only a predefined amount of time on the files.  If you set <code class="literal">close_timeout</code> to equal <code class="literal">ignore_older</code>, the file will not be picked up if it’s modified while the harvester is closed. This combination of settings normally leads to data loss, and the complete file is not sent.</p><p>When you use <code class="literal">close_timeout</code> for logs that contain multiline events, the harvester might stop in the middle of a multiline event, which means that only parts of the event will be sent. If the harvester is started again and the file still exists, only the second part of the event will be sent.</p><p>The <code class="literal">close_timeout</code> setting won’t apply if your output is stalled and no further events can be sent. At least one event must be sent after <code class="literal">close_timeout</code> elapses so the harvester can be closed after sending the event.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="clean-options"></a>clean_*<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The <code class="literal">clean_*</code> options are used to clean up the state entries in the registry file. These settings help to reduce the size of the registry file and can prevent a potential <a class="link" href="faq.html#inode-reuse-issue" title="Inode reuse causes Filebeat to skip lines?edit">inode reuse issue</a>.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="clean-inactive"></a>clean_inactive<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>Only use this option if you understand that data loss is a potential side effect.</p></div></div><p>When this option is enabled, Filebeat removes the state of a file after the specified period of inactivity has elapsed. The  state can only be removed if the file is already ignored by Filebeat (the file is older than <code class="literal">ignore_older</code>). The <code class="literal">clean_inactive</code> setting must be greater than <code class="literal">ignore_older + scan_frequency</code> to make sure that no states are removed while a file is still being harvested. Otherwise, the setting could result in Filebeat resending the full content constantly because  <code class="literal">clean_inactive</code> removes state for files that are still detected by the prospector. If a file is updated or appears again, the file is read from the beginning.</p><p>The <code class="literal">clean_inactive</code> configuration option is useful to reduce the size of the registry file, especially if a large amount of new files are generated every day.</p><p>This config option is also useful to prevent Filebeat problems resulting from inode reuse on Linux. For more information, see <a class="xref" href="faq.html#inode-reuse-issue" title="Inode reuse causes Filebeat to skip lines?edit">the section called “Inode reuse causes Filebeat to skip lines?<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/faq.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a>”</a>.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>Every time a file is renamed, the file state is updated and the counter for <code class="literal">clean_inactive</code> starts at 0 again.</p></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="clean-removed"></a>clean_removed<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>When this option is enabled, Filebeat cleans files from the registry if they cannot be found on disk anymore. This setting does not apply to renamed files or files that were moved to another directory that is still visible to Filebeat. This option is enabled by default.</p><p>If a shared drive disappears for a short period and appears again, all files will be read again from the beginning because the states were removed from the registry file. In such cases, we recommend that you disable the <code class="literal">clean_removed</code> option.</p><p>You must disable this option if you also disable <code class="literal">close_removed</code>.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="scan-frequency"></a>scan_frequency<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>How often the prospector checks for new files in the paths that are specified
for harvesting. For example, if you specify a glob like <code class="literal">/var/log/*</code>, the
directory is scanned for files using the frequency specified by
<code class="literal">scan_frequency</code>. Specify 1s to scan the directory as frequently as possible
without causing Filebeat to scan too frequently. We do not recommend to set this value <code class="literal">&lt;1s</code>.</p><p>If you require log lines to be sent in near real time do not use a very low <code class="literal">scan_frequency</code> but adjust <code class="literal">close_inactive</code> so the file handler stays open and constantly polls your files.</p><p>The default setting is 10s.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_document_type"></a>document_type<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The event type to use for published lines read by harvesters. For Elasticsearch
output, the value that you specify here is used to set the <code class="literal">type</code> field in the output
document. The default value is <code class="literal">log</code>.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_harvester_buffer_size"></a>harvester_buffer_size<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The size in bytes of the buffer that each harvester uses when fetching a file. The default is 16384.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_max_bytes"></a>max_bytes<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The maximum number of bytes that a single log message can have. All bytes after <code class="literal">max_bytes</code> are discarded and not sent.
This setting is especially useful for multiline log messages, which can get large. The default is 10MB (10485760).</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="config-json"></a>json<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>These options make it possible for Filebeat to decode logs structured as JSON messages. Filebeat
processes the logs line by line, so the JSON decoding only works if there is one JSON object per
line.</p><p>The decoding happens before line filtering and multiline. You can combine JSON decoding with filtering
and multiline if you set the <code class="literal">message_key</code> option. This can be helpful in situations where the application
logs are wrapped in JSON objects, like it happens for example with Docker.</p><p>Example configuration:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">json.message_key: log
json.keys_under_root: true
json.add_error_key: true</pre></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong><code class="literal">message_key</code></strong></span>
</span></dt><dd>
JSON key on which to apply the line filtering and multiline settings. This key must be top level
and its value must be string, otherwise it is ignored. If no text key is defined, the line
filtering and multiline features cannot be used.
</dd><dt><span class="term">
<span class="strong"><strong><code class="literal">keys_under_root</code></strong></span>
</span></dt><dd>
By default, the decoded JSON is placed under a "json" key in the output document.
If you enable this setting, the keys are copied top level in the output document. The default is false.
</dd><dt><span class="term">
<span class="strong"><strong><code class="literal">overwrite_keys</code></strong></span>
</span></dt><dd>
If <code class="literal">keys_under_root</code> and this setting are enabled, then the values from the decoded
JSON object overwrite the fields that Filebeat normally adds (type, source, offset, etc.) in case of conflicts.
</dd><dt><span class="term">
<span class="strong"><strong><code class="literal">add_error_key</code></strong></span>
</span></dt><dd>
If this setting is enabled, Filebeat adds a "json_error" key in case of JSON
unmarshaling errors or when a text key is defined in the configuration but cannot be used.
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="multiline"></a>multiline<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Options that control how Filebeat deals with log messages that span multiple lines. Multiline messages are common in files that contain Java stack traces.</p><p>The following example shows how to configure Filebeat to handle a multiline message where the first line of the message begins with a bracket (<code class="literal">[</code>).</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">multiline.pattern: '^\['
multiline.negate: true
multiline.match: after</pre></div><p>Filebeat takes all the lines that do not start with <code class="literal">[</code> and combines them with the previous line that does. For example, you could use this configuration to join the following lines of a multiline message into a single event:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">[beat-logstash-some-name-832-2015.11.28] IndexNotFoundException[no such index]
    at org.elasticsearch.cluster.metadata.IndexNameExpressionResolver$WildcardExpressionResolver.resolve(IndexNameExpressionResolver.java:566)
    at org.elasticsearch.cluster.metadata.IndexNameExpressionResolver.concreteIndices(IndexNameExpressionResolver.java:133)
    at org.elasticsearch.cluster.metadata.IndexNameExpressionResolver.concreteIndices(IndexNameExpressionResolver.java:77)
    at org.elasticsearch.action.admin.indices.delete.TransportDeleteIndexAction.checkBlock(TransportDeleteIndexAction.java:75)</pre></div><p>See <a class="xref" href="multiline-examples.html" title="Managing Multiline Messages"><em>Managing Multiline Messages</em></a> for more configuration examples.</p><p>You specify the following settings under <code class="literal">multiline</code> to control how Filebeat combines the lines in the message:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong><code class="literal">pattern</code></strong></span>
</span></dt><dd>
Specifies the regular expression pattern to match. See <a class="xref" href="regexp-support.html" title="Regular Expression Support"><em>Regular Expression Support</em></a> for a list of supported regexp patterns.
</dd><dt><span class="term">
<span class="strong"><strong><code class="literal">negate</code></strong></span>
</span></dt><dd>
Defines whether the pattern is negated. The default is <code class="literal">false</code>.
</dd><dt><span class="term">
<span class="strong"><strong><code class="literal">match</code></strong></span>
</span></dt><dd><p class="simpara">
Specifies how Filebeat combines matching lines into an event. The settings are <code class="literal">after</code> or <code class="literal">before</code>. The behavior of these settings depends on what you specify for <code class="literal">negate</code>:
</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top">Setting for <code class="literal">negate</code> </th><th align="left" valign="top"> Setting for <code class="literal">match</code> </th><th align="left" valign="top"> Result</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">after</code></p></td><td align="left" valign="top"><p>Consecutive lines that match the pattern are appended to the previous line that doesn’t match.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">before</code></p></td><td align="left" valign="top"><p>Consecutive lines that match the pattern are prepended to the next line that doesn’t match.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">true</code></p></td><td align="left" valign="top"><p><code class="literal">after</code></p></td><td align="left" valign="top"><p>Consecutive lines that don’t match the pattern are appended to the previous line that does match.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">true</code></p></td><td align="left" valign="top"><p><code class="literal">before</code></p></td><td align="left" valign="top"><p>Consecutive lines that don’t match the pattern are prepended to the next line that does match.</p></td></tr></tbody></table></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>The <code class="literal">after</code> setting is equivalent to <code class="literal">previous</code> in <a class="ulink" href="https://www.elastic.co/guide/en/logstash/current/plugins-codecs-multiline.html" target="_top">Logstash</a>, and <code class="literal">before</code> is equivalent to <code class="literal">next</code>.</p></div></div></dd><dt><span class="term">
<span class="strong"><strong><code class="literal">max_lines</code></strong></span>
</span></dt><dd>
The maximum number of lines that can be combined into one event. If
the multiline message contains more than <code class="literal">max_lines</code>, any additional
lines are discarded. The default is 500.
</dd><dt><span class="term">
<span class="strong"><strong><code class="literal">timeout</code></strong></span>
</span></dt><dd>
After the specified timeout, Filebeat sends the multiline event even if no new pattern is found to start a new event. The default is 5s.
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_tail_files"></a>tail_files<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>If this option is set to true, Filebeat starts reading new files at the end of each file instead of the beginning. When this option is used in combination with log rotation, it’s possible that the first log entries in a new file might be skipped. The default setting is false.</p><p>This option applies to files that Filebeat has not already processed. If you ran Filebeat previously and the state of the file was already persisted, <code class="literal">tail_files</code> will not apply. Harvesting will continue at the previous offset. To apply <code class="literal">tail_files</code> to all files, you must stop Filebeat and remove the registry file. Be aware that doing this removes ALL previous states.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>You can use this setting to avoid indexing old log lines when you run Filebeat on a set of log files for the first time. After the first run, we recommend disabling this option, or you risk losing lines during file rotation.</p></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_symlinks"></a>symlinks<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>This functionality is experimental and may be changed or removed completely in a future release.</p></div></div><p>The <code class="literal">symlinks</code> option allows Filebeat to harvest symlinks in addition to regular files. When harvesting symlinks, Filebeat opens and reads the original file even though it reports the path of the symlink.</p><p>When you configure a symlink for harvesting, make sure the original path is excluded. If a single prospector is configured to harvest both the symlink and the original file, the prospector will detect the problem and only process the first file it finds. However, if two different prospectors are configured (one to read the symlink and the other the original path), both paths will be harvested, causing Filebeat to send duplicate data and the prospectors to overwrite each other’s state.</p><p>The <code class="literal">symlinks</code> option can be useful if symlinks to the log files have additional metadata in the file name, and you want to process the metadata in Logstash. This is, for example, the case for Kubernetes log files.</p><p>Because this option may lead to data loss, it is disabled by default.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_backoff"></a>backoff<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The backoff options specify how aggressively Filebeat crawls new files for updates.
You can use the default values in most cases.</p><p>The <code class="literal">backoff</code> option defines how long Filebeat
waits before checking a file again after EOF is reached. The default is 1s, which means
the file is checked every second if new lines were added. This enables near real-time crawling. Every time a new line appears in the file, the <code class="literal">backoff</code> value is reset to the initial
value. The default is 1s.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_max_backoff"></a>max_backoff<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The maximum time for Filebeat to wait before checking a file again after EOF is
reached. After having backed off multiple times from checking the file, the wait time
will never exceed <code class="literal">max_backoff</code> regardless of what is specified for  <code class="literal">backoff_factor</code>.
Because it takes a maximum of 10s to read a new line, specifying 10s for <code class="literal">max_backoff</code> means that, at the worst, a new line could be added to the log file if Filebeat has
backed off multiple times. The default is 10s.</p><p>Requirement: max_backoff should always be set to <code class="literal">max_backoff &lt;= scan_frequency</code>. In case <code class="literal">max_backoff</code> should be bigger, it is recommended to close the file handler instead let the prospector pick up the file again.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_backoff_factor"></a>backoff_factor<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>This option specifies how fast the waiting time is increased. The bigger the
backoff factor, the faster the <code class="literal">max_backoff</code> value is reached. The backoff factor
increments exponentially. The minimum value allowed is 1. If this value is set to 1,
the backoff algorithm is disabled, and the <code class="literal">backoff</code> value is used for waiting for new
lines. The <code class="literal">backoff</code> value will be multiplied each time with the <code class="literal">backoff_factor</code> until
<code class="literal">max_backoff</code> is reached. The default is 2.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="harvester-limit"></a>harvester_limit<a href="https://github.com/elastic/beats/edit/master/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>This functionality is experimental and may be changed or removed completely in a future release.</p></div></div><p>The <code class="literal">harvester_limit</code> option limits the number of harvesters that are started in parallel for one prospector. This directly relates
to the maximum number of file handlers that are opened. The default for <code class="literal">harvester_limit</code> is 0, which means there is no limit. This
configuration is useful if the number of files to be harvested exceeds the open file handler limit of the operating system.</p><p>Setting a limit on the number of harvesters means that potentially not all files are opened in parallel. Therefore we recommended that you use
this option in combination with the <code class="literal">close_*</code> options to make sure harvesters are stopped more often so that new files can be
picked up.</p><p>Currently if a new harvester can be started again, the harvester is picked randomly. This means it’s possible that the harvester for a file that was just closed and then updated again might be started instead of the harvester for a file that hasn’t been harvested for a longer period of time.</p><p>This configuration option applies per prospector. You can use this option to indirectly set higher priorities on certain prospectors
by assigning a higher limit of harvesters.</p></div></div></div><div class="navfooter"><span class="prev"><a href="filebeat-configuration-details.html">
              « 
              Configuration Options (Reference)</a>
           
        </span><span class="next">
           
          <a href="configuration-global-options.html">Filebeat Global Configuration
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
					<div id="rtpcontainer" style="display: block;">
						<h3>Top Videos</h3>
						<ul>
							<li><a href="https://www.elastic.co/webinars/elasticsearch-2-0-overview?baymax=default&elektra=docs&storm=top-video">Getting Started</a></li>
							<li><a href="http://www.elastic.co/webinars/elasticsearch-performance-optimization-tale-two-tickets/?elektra=docs">Scaling</a></li>
							<li><a href="http://www.elastic.co/webinars/shield-securing-your-data-in-elasticsearch/?elektra=docs">Security</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</section>

        </div>
      	


<div id="footer-subscribe">
  <div class="subscribe-wrapper">
    <div class="container">
      <div class="subscribe-form-container">
        <div class="subscribe-title">
            <h5>Be in the know with the latest and greatest from Elastic.</h5>
        </div>
        <div class="subscribe-form">
          <form id="mktoForm_1398" class="mktoForm sb-form"></form>
        </div>
      </div>
      <div class="form_thanks hide">
        
          <p>Thanks for subscribing! We'll keep you updated with new releases.</p>
        
      </div>
    </div>
  </div>
</div>
<!--subscribe newsletter end-->

<!-- Footer Section -->
<footer class="footer-wrapper">
  <div class="container">
    <div class="row footer-content">
        
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/products">Products ></a></h3>
              
              <ul>
              
                
                  
                    <li><a href="/products/elasticsearch">Elasticsearch</a></li>
                  
                
              
                
                  
                    <li><a href="/products/kibana">Kibana</a></li>
                  
                
              
                
                  
                    <li><a href="/products/logstash">Logstash</a></li>
                  
                
              
                
                  
                    <li><a href="/products/beats">Beats</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud">Elastic Cloud</a></li>
                  
                
              
                
                  
                    <li><a href="/products/shield">Shield (Security)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/watcher">Watcher (Alerting)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/marvel">Marvel (Monitoring)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/graph">Graph</a></li>
                  
                
              
                
                  
                    <li><a href="/products/hadoop">ES-Hadoop</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3>Resources</h3>
              
              <ul>
              
                
                  
                    <li><a href="/blog">Blog</a></li>
                  
                
              
                
                  
                    <li><a href="https://cloud-status.elastic.co">Cloud Status</a></li>
                  
                
              
                
                  
                    <li><a href="/community">Community</a></li>
                  
                
              
                
                  
                    <li><a href="/use-cases">Customers & Use Cases</a></li>
                  
                
              
                
                  
                    <li><a href="/guide">Documentation</a></li>
                  
                
              
                
                  
                    <li><a href="/elasticon">Elastic{ON} Events</a></li>
                  
                
              
                
                  
                    <li><a href="https://discuss.elastic.co/">Forums</a></li>
                  
                
              
                
                  
                    <li><a href="/community/meetups">Meetups</a></li>
                  
                
              
                
                  
                    <li><a href="/subscriptions">Subscriptions</a></li>
                  
                
              
                
                  
                    <li><a href="https://support.elastic.co">Support Portal</a></li>
                  
                
              
                
                  
                    <li><a href="/videos">Videos & Webinars</a></li>
                  
                
              
                
                  
                    <li><a href="/training">Training</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/about">About ></a></h3>
              
              <ul>
              
                
                  
                    <li><a href="/about/careers">Careers/Jobs</a></li>
                  
                
              
                
                  
                    <li><a href="/contact">Contact</a></li>
                  
                
              
                
                  
                    <li><a href="/about/leadership">Leadership</a></li>
                  
                
              
                
                  
                    <li><a href="/about/partners">Partners</a></li>
                  
                
              
                
                  
                    <li><a href="/about/press">Press</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3>Language</h3>
              
              <ul>
              
                
                  <li><a href="/" data-value="/">English</a></li>
                
              
                
                  <li><a href="/fr/" data-value="/fr/">Français</a></li>
                
              
                
                  <li><a href="/de/" data-value="/de/">Deutsch</a></li>
                
              
                
                  <li><a href="/jp/" data-value="/jp/">日本語</a></li>
                
              
                
                  <li><a href="/kr/" data-value="/kr/">한국어</a></li>
                
              
              </ul>
          </div>    
       
    </div>
     <!-- Social Media Section -->
    <div class="row social-icon">
      <div class="col-xs-12 col-sm-12 col-md-12">
        <p class="text-center font-size-10 m-0">FOLLOW US</p>
        <ul>
          
          <li class="facebook"><a id="footer_facebook" href="http://www.facebook.com/elastic.co"></a></li>
          
          <li class="twitter"><a id="footer_twitter" href="https://www.twitter.com/elastic"></a></li>
          
          <li class="linkedin"><a id="footer_linkedin" href="https://www.linkedin.com/company/elastic-co"></a></li>
          
          <li class="xing"><a id="footer_xing" href="https://www.xing.com/companies/elastic.co"></a></li>
          
          <li class="youtube"><a id="footer_youtube" href="https://www.youtube.com/user/elasticsearch"></a></li>
          
        </ul>
      </div>
    </div>
    <!-- Social Media Section end-->
    <div class="row">
	<div class="col-xs-12 col-sm-12 col-md-12">
		<div class="copyright">
			<ul>
				<li><a href="/legal/trademarks">Trademarks</a></li>
				<li><a href="/legal/terms-of-use">Terms of Use</a></li>
				<li><a href="/legal/privacy-policy">Privacy</a></li>
				<li><a href="/legal/privacy-and-cookie-policy">Cookie Policy</a></li>
				<li><a href="/brand">Brand</a></li>
			</ul>
			<div class="copyright-content">
				<div class="footer-logo"><a href="/"><img src="/static/images/svg/logo-elastic-footer.svg" class="img-responsive"></a>
				</div>
				<div class="footer-text">
					<p>© 2016. All Rights Reserved - Elasticsearch
					</p>
					<p>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries
					</p>
					<p>Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other countries.
					</p>
				</div>
			</div>
		</div>
	</div>
</div>
  </div>
</footer>
<!-- Footer Section end-->

<style type="text/css">
	
    
		.facebook{background:url("https://static-www.elastic.co/assets/bltf546ff2e0a8f2de5/facebook.svg?q=802") no-repeat;}
    
    
      .facebook:hover {background:url("https://static-www.elastic.co/assets/bltc24cf11c714ecfc4/facebook-hover.svg?q=802")}		
    
	
    
		.twitter{background:url("https://static-www.elastic.co/assets/bltdd9556d6b24e2b85/twitter.svg?q=802") no-repeat;}
    
    
      .twitter:hover {background:url("https://static-www.elastic.co/assets/blt90b0372cc07a54d3/twitter-hover.svg?q=802")}		
    
	
    
		.linkedin{background:url("https://static-www.elastic.co/assets/bltc4a77e0f52ce07f1/linkedin.svg?q=802") no-repeat;}
    
    
      .linkedin:hover {background:url("https://static-www.elastic.co/assets/blt01ce654380e4ea6c/linkedin-hover.svg?q=802")}		
    
	
    
		.xing{background:url("https://static-www.elastic.co/assets/bltc6347078dcc9ec76/xing.svg?q=802") no-repeat;}
    
    
      .xing:hover {background:url("https://static-www.elastic.co/assets/bltededebe5f7521a39/xing-hover.svg?q=802")}		
    
	
    
		.youtube{background:url("https://static-www.elastic.co/assets/blt4982061ce1aebc7f/youtube.svg?q=802") no-repeat;}
    
    
      .youtube:hover {background:url("https://static-www.elastic.co/assets/bltddeb6c6404ae81a5/youtube-hover.svg?q=802")}		
    
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
  MktoForms2.whenReady(function (form) {
  //    // Put your code that uses the form object here
  //   $('#Email').attr("placeholder","Email Address");
  //   $('#FirstName').attr("placeholder","First Name");
  //   $('#LastName').attr("placeholder","Last Name");
  //   $('#Form_Message').attr("placeholder","Tell us in your words");
  // // ========================End Mktoform placeholder==================
  });

  MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", 1398,function(form){
    form.onSuccess(function(form){
      $('#mktoForm_1398').css('display','none');
      $('.subscribe-wrapper .subscribe-form-container').hide();
      $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
      dataLayer.push({'event': 'mktoFormSubmit'});
        return false;
      });
  });
</script>
      </section>
    </div>
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";	
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","url":"/guide_template"}';
</script>
<script src="https://static-www.elastic.co/static/js/jquery.autocomplete.js?q=802"></script>
<script type="text/javascript" src="https://static-www.elastic.co/static/js/slick.min.js?q=802"></script>
<script src="https://static-www.elastic.co/static/js/nav-v5.js?q=802"></script>
<script src="https://static-www.elastic.co/static/js/script.js?q=802"></script> 
     
     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>