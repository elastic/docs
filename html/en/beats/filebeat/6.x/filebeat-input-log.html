<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Log input
        | Filebeat Reference [6.x]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Filebeat Reference [6.x]" /><link rel="up" href="configuration-filebeat-options.html" title="Configure inputs" /><link rel="prev" href="configuration-filebeat-options.html" title="Configure inputs" /><link rel="next" href="filebeat-input-stdin.html" title="Stdin input" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Filebeat/Reference/6.x" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.subject" content="Filebeat" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.identifier" content="6.x" />
    

    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
<meta name="apple-mobile-web-app-title" content="Elastic">
<meta name="application-name" content="Elastic">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">
<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >



	



<!-- end DC tags -->


	<meta name="description" content="" />



	<meta name="localized" content="true" />


















		
			<meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
		

		

    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">

	 

    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    
    

    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

  <script type="text/javascript">
  // -------------------- set language based on browser language --------------------
  var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/pt/': '/pt/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

  if($.cookie("is_lang_detected") == undefined){
    if(locales[lang] != undefined && locales[lang] != currentlocale){
      locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
      $.cookie("is_lang_detected",true ,{ path: '/'}); 
      window.location = locale_lang_url;
    } 
  }
        
  // --------------------- end of set language based on browser language -----------------
  </script>

	
	<link type="text/css" rel="stylesheet" href="/static/css/guide.css" />


  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
  <body >
  	<!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
                              height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
    <script src="/static/js/elastic-apm-js-base.umd.min.1.0.0.js"></script>

    
    <script type="text/javascript">
      var active;
      
      active = Math.random() < 1
      
      elasticApm.init({
      active: active,
      serviceName: "elastic-co-frontend",
      serverUrl: "https://elastic-co-apm-server.app.elstc.co"
      })
      elasticApm.setTags({env:"production"});
      elasticApm.setInitialPageLoadName(window.location.href);
    </script>
    
    <!-- Elastic APM -->

    <!-- Header Section -->
    
<header class="header-wrapper">
  



  




<div class="navigation-wrapper">
  <div class="container">
    <nav class="navbar">
    <!-- Brand and toggle get grouped for better mobile display -->

    <div class="navbar-mobile-header navbar-header mr-20 mr-xs-0">
      <div class="row hidden-sm hidden-md hidden-lg">
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg">
          <div class="navbar-mobile-header-icon navbar-mobile-header-icon-out">
            <span></span>
            <span></span>
            <span></span>
          </div>
          
        </div>
        <div class="col-xs-2 text-center">
          <div class="navbar-brand" id="elastic">
            <div id="logo">
              <a class="logo-m hidden-sm hidden-md hidden-lg" href="/">
                <img src="/assets/blta09706b1c5cc1e99/elastic-logo-mobile.svg" alt="elastic-logo-mobile">
              </a>
            </div>
          </div>
        </div>
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg text-right">
          <ul class="menu-m hidden-sm hidden-md hidden-lg">
            <li class=""><a class="icon-contact" href="/contact"></a></li>

            <li id="searchbar"><a class="button icon" href="#" alt="Search"></a></li>
            <li class="lang global-language">
                
                  
                
                  
                    <a href="#">EN</a>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              <ul class="language-list">
                
                  
                    
                  
                  
                  <li><a href="/de/" data-value="/de/" id="locale-select">Deutsch</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="#" data-value="/" id="locale-select">English</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/es/" data-value="/es/" id="locale-select">Español</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/fr/" data-value="/fr/" id="locale-select">Français</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/jp/" data-value="/jp/" id="locale-select">日本語</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/kr/" data-value="/kr/" id="locale-select">한국어</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/cn/" data-value="/cn/" id="locale-select">简体中文</a></li>
                  
                
              </ul>
            </li>
          </ul>
        </div>
      </div>

      <div class="navbar-brand hidden-xs" id="elastic">
        <div id="logo">
          <a class="hidden-xs" id="elastic-logo" href="/">
            <img src="/assets/blt244a845f141977c3/elastic-logo.svg" alt="elastic-logo">
          </a>
        </div>
      </div>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse mobile-inner-nav">
      <nav class="nav navbar-nav primary-nav-hover" id="nav">
        <ul>
        
          
            
              
            
            <li>
              <a class=" " href="/products">Products</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/cloud">Cloud</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/services">Services</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/use-cases">Customers</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/learn">Learn</a>
            </li>
          
        
          
        
        </ul>
      </nav>
      <nav class="nav navbar-nav navbar-right hidden-xs">
        <ul>
          <li class="hidden-xs hidden-sm"><a href="/downloads">downloads</a></li>
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-download" href="/downloads"></a></li>
          <!-- To set parameters to contact button -->
          
           
            
          

          
            
            
          
          <li class="hidden-xs hidden-sm"><a class="btn btn-secondary btn-contact" href="/contact?storm=global-header-en">contact</a></li>
          <!-- ////////////////ends here///////////////-->          
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-contact" href="/contact?storm=global-header-en"></a></li>
          <li class="hidden-xs" id="searchbar"><a class="button icon" href="#" alt="Search"></a></li>

          <li class="hidden-xs lang global-language">
                
                  
                
                  
                    <a href="#">EN</a>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
               <ul class="language-list">
              
                
                  
                
              
              <li><a class="" href="/de/" data-value="/de/">Deutsch</a></li>
              
              
                
                  
                
              
              <li><a class="" href="#" data-value="/">English</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/es/" data-value="/es/">Español</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/fr/" data-value="/fr/">Français</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/jp/" data-value="/jp/">日本語</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/kr/" data-value="/kr/">한국어</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/cn/" data-value="/cn/">简体中文</a></li>
              
              
            </ul>
          </li>
        </ul>
      </nav>
    </div><!-- /.navbar-collapse -->
  </nav>
  </div>
</div>

<div class="header-search-wrapper open-search"> 
  <div class="container">
    <div class="big-search">
      <i class="big-search-icon"></i>
      <form id="searchfrm" name="searchForm" autocomplete="on" action="/search" method="get">
        <ul class="tags-wrapper">
          <li class="search-field"><input type="text" name="q" id="autocomplete" class="form-control global-input" autocomplete="off"></li>
        </ul>
      </form>
      <a class="header-search-cancel" href="#"></a>
    </div>
    <div class="nav-auto-complete"></div>
  </div>
</div>
</header>
<link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">
<style> 
    
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
    
</style>
<script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>
<script type="text/javascript">
  $(document).ready( function(){
    // if($('#scrollable-pane li').length > 3){
      $('.horizon-swiper').horizonSwiper({
        showItems: 3,
        arrows: true
      }); 
    // }
    
    $('.navbar-toggle').on('click', function(){
      $('.mobile-navigation, .menu-open').hide();
      $('.navigation-wrapper').addClass('mobile-navigation');
      $('.navbar').addClass('menu-open');
      $('.menu-close').show();
    });
    $('.menu-close').on('click', function(){
      $('.navigation-wrapper').removeClass('mobile-navigation');
      $('.navbar').removeClass('menu-open');
      $('.menu-close').hide();
    });

    var active_url = "";

    $(".navbar-mobile-header-icon").click(function(index){
      $('.navigation-wrapper').toggleClass('menu-overlay');
      $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
      $(".mobile-inner-nav").slideToggle(500);
      $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
        $(this).css({'animation-delay': (index/25)+'0.4s'});
      });
    });

    $('.dropdown-btn').on('click', function(e){
      e.preventDefault();
      setDropdown();
    });
    
    function setDropdown() {
      $('#myDropdown').slideToggle();
    }

    $('body').on('click', function(event){
      if (!event.target.matches('.dropdown-btn')) {

        var dropdowns = $(".dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    });

    // if($(window).width() < 769){
    //   var $item = $('.scrollable-panel li'), 
    //       visible = 3, //Set the number of items that will be visible
    //       index = 0, //Starting index
    //       endIndex = ( $item.length / visible ) - 1; //End index (NOTE:: Requires visible to be a factor of $item.length... You can improve this by rounding...)

    //   $('#right-arrow').click(function(){
    //     if(index < endIndex ){
    //       index++;
    //       $item.animate({'left':'-=300px'});
    //     }
    //   });

    //   $('#left-arrow').click(function(){
    //     if(index > 0){
    //       index--;            
    //       $item.animate({'left':'+=300px'});
    //     }
    //   });
    // }
  });
  $(window).resize(function () {
    $('.horizon-swiper').horizonSwiper({
      showItems: 3,
      arrows: true
    });
  });
</script>
    
      


  





  
  
  
  
    <div class="tertiary-nav bdr-btm-e0e0e0">
      <div class="container">
        <div class="p-t-b-15 clearfix">
          <div class="breadcrum-wrapper pull-left text-left">
          
            <a href="/guide">Docs</a> 
          
          </div>
          
          
          
        </div>
      </div>
    </div>

    <div class="nav-mobile-dropdown hidden-sm hidden-md hidden-lg bdr-btm-e0e0e0 clearfix">
      <div class="container text-right">
        <div class="breadcrum-wrapper pull-left text-left">
          
              <a href="/guide">Docs</a>
          
        </div>
        
        
      </div>
    </div>
  


<style type="text/css">

  
</style>
    
    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   
          
            
        			<!-- <div class="pageheader">
	<div class="common-container">
		
			<h2 class="page-title">Guide template</h2>
		
	</div>
</div> -->


        		
          

          
	<section id="guide" lang="en">
		<div class="container">
			<div class="row">
			  <!-- start body -->
				
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Filebeat Reference
      [6.x]
    </a></span> » <span class="breadcrumb-link"><a href="configuring-howto-filebeat.html">Configuring Filebeat</a></span> » <span class="breadcrumb-link"><a href="configuration-filebeat-options.html">Configure inputs</a></span> » <span class="breadcrumb-node">Log input</span></div><div class="navheader"><span class="prev"><a href="configuration-filebeat-options.html">
              « 
              Configure inputs</a>
           
        </span><span class="next">
           
          <a href="filebeat-input-stdin.html">Stdin input
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="filebeat-input-log"></a>Log input<a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-log.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Use the <code class="literal">log</code> input to read lines from log files.</p><p>To configure this input, specify a list of glob-based <a class="link" href="filebeat-input-log.html#input-paths" title="pathsedit"><code class="literal">paths</code></a>
that must be crawled to locate and fetch the log lines.</p><p>Example configuration:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: log
  paths:
    - /var/log/messages
    - /var/log/*.log</pre></div><p>You can apply additional
<a class="link" href="filebeat-input-log.html#filebeat-input-log-options" title="Configuration options">configuration settings</a> (such as <code class="literal">fields</code>,
<code class="literal">include_lines</code>, <code class="literal">exclude_lines</code>, <code class="literal">multiline</code>, and so on) to the lines harvested
from these files. The options that you specify are applied to all the files
harvested by this input.</p><p>To apply different configuration settings to different files, you need to define
multiple input sections:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: log <a id="CO7-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
  paths:
    - /var/log/system.log
    - /var/log/wifi.log
- type: log <a id="CO7-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
  paths:
    - "/var/log/apache2/*"
  fields:
    apache: true
  fields_under_root: true</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO7-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Harvests lines from two files:  <code class="literal">system.log</code> and
<code class="literal">wifi.log</code>.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO7-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Harvests lines from every file in the <code class="literal">apache2</code> directory, and uses the
<code class="literal">fields</code> configuration option to add a field called <code class="literal">apache</code> to the output.
</p></td></tr></table></div><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>Make sure a file is not defined more than once across all inputs
because this can lead to unexpected behaviour.</p></div></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>When dealing with file rotation, avoid harvesting symlinks. Instead
use the <a class="xref" href="filebeat-input-log.html#input-paths" title="pathsedit"><code class="literal">paths</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-log.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></a> setting to point to the original file, and specify
a pattern that matches the file you want to harvest and all of its rotated
files.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="filebeat-input-log-options"></a>Configuration options<a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-log.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The <code class="literal">log</code> input supports the following configuration options plus the
<a class="xref" href="filebeat-input-log.html#filebeat-input-log-common-options" title="Common options">Common options</a> described later.</p><h5><a id="input-paths"></a><code class="literal">paths</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-log.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>A list of glob-based paths that will be crawled and fetched. All patterns
supported by <a class="ulink" href="https://golang.org/pkg/path/filepath/#Glob" target="_top">Go Glob</a> are also
supported here. For example, to fetch all files from a predefined level of
subdirectories, the following pattern can be used: <code class="literal">/var/log/*/*.log</code>. This
fetches all <code class="literal">.log</code> files from the subfolders of <code class="literal">/var/log</code>. It does not
fetch log files from the <code class="literal">/var/log</code> folder itself.
It is possible to recursively fetch all files in all subdirectories of a directory
using the optional <a class="link" href="filebeat-input-log.html#recursive_glob" title="recursive_glob.enablededit"><code class="literal">recursive_glob</code></a> settings.</p><p>Filebeat starts a harvester for each file that it finds under the specified
paths. You can specify one path per line. Each line begins with a dash (-).</p><h5><a id="recursive_glob"></a><code class="literal">recursive_glob.enabled</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-log.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>Enable expanding <code class="literal">**</code> into recursive glob patterns. With this feature enabled,
the rightmost <code class="literal">**</code> in each path is expanded into a fixed number of glob
patterns. For example: <code class="literal">/foo/**</code> expands to <code class="literal">/foo</code>, <code class="literal">/foo/*</code>, <code class="literal">/foo/*/*</code>, and so
on. If enabled it expands a single <code class="literal">**</code> into a 8-level deep <code class="literal">*</code> pattern.</p><p>This feature is enabled by default. Set <code class="literal">recursive_glob.enabled</code> to false to
disable it.</p><h5><a id="_literal_encoding_literal"></a><code class="literal">encoding</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-harvester-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The file encoding to use for reading data that contains international
characters. See the encoding names <a class="ulink" href="http://www.w3.org/TR/encoding/" target="_top">recommended by
the W3C for use in HTML5</a>.</p><p>Here are some sample encodings from W3C recommendation:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
plain, latin1, utf-8, utf-16be-bom, utf-16be, utf-16le, big5, gb18030,
    gbk, hz-gb-2312,
</li><li class="listitem">
euc-kr, euc-jp, iso-2022-jp, shift-jis, and so on
</li></ul></div><p>The <code class="literal">plain</code> encoding is special, because it does not validate or transform any input.</p><h5><a id="filebeat-input-log-exclude-lines"></a><code class="literal">exclude_lines</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-harvester-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>A list of regular expressions to match the lines that you want Filebeat to
exclude. Filebeat drops any lines that match a regular expression in the
list. By default, no lines are dropped. Empty lines are ignored.</p><p>If <a class="link" href="multiline-examples.html#multiline" title="Configuration optionsedit">multiline</a> settings are also specified, each multiline message
is combined into a single line before the lines are filtered by <code class="literal">exclude_lines</code>.</p><p>The following example configures Filebeat to drop any lines that start with
<code class="literal">DBG</code>.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: log
  ...
  exclude_lines: ['^DBG']</pre></div><p>See <a class="xref" href="regexp-support.html" title="Regular expression support"><em>Regular expression support</em></a> for a list of supported regexp patterns.</p><h5><a id="filebeat-input-log-include-lines"></a><code class="literal">include_lines</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-harvester-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>A list of regular expressions to match the lines that you want Filebeat to
include. Filebeat exports only the lines that match a regular expression in
the list. By default, all lines are exported. Empty lines are ignored.</p><p>If <a class="link" href="multiline-examples.html#multiline" title="Configuration optionsedit">multiline</a> settings also specified, each multiline message is
combined into a single line before the lines are filtered by <code class="literal">include_lines</code>.</p><p>The following example configures Filebeat to export any lines that start
with <code class="literal">ERR</code> or <code class="literal">WARN</code>:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: log
  ...
  include_lines: ['^ERR', '^WARN']</pre></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>If both <code class="literal">include_lines</code> and <code class="literal">exclude_lines</code> are defined, Filebeat
executes <code class="literal">include_lines</code> first and then executes <code class="literal">exclude_lines</code>. The order in
which the two options are defined doesn’t matter. The <code class="literal">include_lines</code> option
will always be executed before the <code class="literal">exclude_lines</code> option, even if
<code class="literal">exclude_lines</code> appears before <code class="literal">include_lines</code> in the config file.</p></div></div><p>The following example exports all log lines that contain <code class="literal">sometext</code>,
except for lines that begin with <code class="literal">DBG</code> (debug messages):</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: log
  ...
  include_lines: ['sometext']
  exclude_lines: ['^DBG']</pre></div><p>See <a class="xref" href="regexp-support.html" title="Regular expression support"><em>Regular expression support</em></a> for a list of supported regexp patterns.</p><h5><a id="_literal_harvester_buffer_size_literal"></a><code class="literal">harvester_buffer_size</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-harvester-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The size in bytes of the buffer that each harvester uses when fetching a file.
The default is 16384.</p><h5><a id="_literal_max_bytes_literal"></a><code class="literal">max_bytes</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-harvester-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The maximum number of bytes that a single log message can have. All bytes after
<code class="literal">max_bytes</code> are discarded and not sent. This setting is especially useful for
multiline log messages, which can get large. The default is 10MB (10485760).</p><h5><a id="filebeat-input-log-config-json"></a><code class="literal">json</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-harvester-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>These options make it possible for Filebeat to decode logs structured as
JSON messages. Filebeat processes the logs line by line, so the JSON
decoding only works if there is one JSON object per line.</p><p>The decoding happens before line filtering and multiline. You can combine JSON
decoding with filtering and multiline if you set the <code class="literal">message_key</code> option. This
can be helpful in situations where the application logs are wrapped in JSON
objects, as with like it happens for example with Docker.</p><p>Example configuration:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">json.keys_under_root: true
json.add_error_key: true
json.message_key: log</pre></div><p>You must specify at least one of the following settings to enable JSON parsing
mode:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong strong"><strong><code class="literal">keys_under_root</code></strong></span>
</span></dt><dd>
By default, the decoded JSON is placed under a "json" key
in the output document. If you enable this setting, the keys are copied top
level in the output document. The default is false.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">overwrite_keys</code></strong></span>
</span></dt><dd>
If <code class="literal">keys_under_root</code> and this setting are enabled, then the
values from the decoded JSON object overwrite the fields that Filebeat
normally adds (type, source, offset, etc.) in case of conflicts.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">add_error_key</code></strong></span>
</span></dt><dd>
If this setting is enabled, Filebeat adds a
"error.message" and "error.type: json" key in case of JSON unmarshalling errors
or when a <code class="literal">message_key</code> is defined in the configuration but cannot be used.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">message_key</code></strong></span>
</span></dt><dd>
An optional configuration setting that specifies a JSON key on
which to apply the line filtering and multiline settings. If specified the key
must be at the top level in the JSON object and the value associated with the
key must be a string, otherwise no filtering or multiline aggregation will
occur.
</dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">ignore_decoding_error</code></strong></span>
</span></dt><dd>
An optional configuration setting that specifies if
JSON decoding errors should be logged or not. If set to true, errors will not
be logged. The default is false.
</dd></dl></div><h5><a id="_literal_multiline_literal"></a><code class="literal">multiline</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-harvester-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>Options that control how Filebeat deals with log messages that span
multiple lines. See <a class="xref" href="multiline-examples.html" title="Manage multiline messages"><em>Manage multiline messages</em></a> for more information about
configuring multiline options.</p><h5><a id="filebeat-input-log-exclude-files"></a><code class="literal">exclude_files</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-file-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>A list of regular expressions to match the files that you want Filebeat to
ignore. By default no files are excluded.</p><p>The following example configures Filebeat to ignore all the files that have
a <code class="literal">gz</code> extension:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: log
  ...
  exclude_files: ['\.gz$']</pre></div><p>See <a class="xref" href="regexp-support.html" title="Regular expression support"><em>Regular expression support</em></a> for a list of supported regexp patterns.</p><h5><a id="filebeat-input-log-ignore-older"></a><code class="literal">ignore_older</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-file-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>If this option is enabled, Filebeat ignores any files that were modified
before the specified timespan. Configuring <code class="literal">ignore_older</code> can be especially
useful if you keep log files for a long time. For example, if you want to start
Filebeat, but only want to send the newest files and files from last week,
you can configure this option.</p><p>You can use time strings like 2h (2 hours) and 5m (5 minutes). The default is 0,
which disables the setting. Commenting out the config has the same effect as
setting it to 0.</p><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>You must set <code class="literal">ignore_older</code> to be greater than <code class="literal">close_inactive</code>.</p></div></div><p>The files affected by this setting fall into two categories:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Files that were never harvested
</li><li class="listitem">
Files that were harvested but weren’t updated for longer than <code class="literal">ignore_older</code>
</li></ul></div><p>For files which were never seen before, the offset state is set to the end of
the file. If a state already exist, the offset is not changed. In case a file is
updated again later, reading continues at the set offset position.</p><p>The <code class="literal">ignore_older</code> setting relies on the modification time of the file to
determine if a file is ignored. If the modification time of the file is not
updated when lines are written to a file (which can happen on Windows), the
<code class="literal">ignore_older</code> setting may cause Filebeat to ignore files even though
content was added at a later time.</p><p>To remove the state of previously harvested files from the registry file, use
the <code class="literal">clean_inactive</code> configuration option.</p><p>Before a file can be ignored by Filebeat, the file must be closed. To
ensure a file is no longer being harvested when it is ignored, you must set
<code class="literal">ignore_older</code> to a longer duration than <code class="literal">close_inactive</code>.</p><p>If a file that’s currently being harvested falls under <code class="literal">ignore_older</code>, the
harvester will first finish reading the file and close it after <code class="literal">close_inactive</code>
is reached. Then, after that, the file will be ignored.</p><h5><a id="filebeat-input-log-close-options"></a><code class="literal">close_*</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-file-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The <code class="literal">close_*</code> configuration options are used to close the harvester after a
certain criteria or time. Closing the harvester means closing the file handler.
If a file is updated after the harvester is closed, the file will be picked up
again after <code class="literal">scan_frequency</code> has elapsed. However, if the file is moved or
deleted while the harvester is closed, Filebeat will not be able to pick up
the file again, and any data that the harvester hasn’t read will be lost.</p><h5><a id="filebeat-input-log-close-inactive"></a><code class="literal">close_inactive</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-file-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>When this option is enabled, Filebeat closes the file handle if a file has
not been harvested for the specified duration. The counter for the defined
period starts when the last log line was read by the harvester. It is not based
on the modification time of the file. If the closed file changes again, a new
harvester is started and the latest changes will be picked up after
<code class="literal">scan_frequency</code> has elapsed.</p><p>We recommended that you set <code class="literal">close_inactive</code> to a value that is larger than the
least frequent updates to your log files. For example, if your log files get
updated every few seconds, you can safely set <code class="literal">close_inactive</code> to <code class="literal">1m</code>. If there
are log files with very different update rates, you can use multiple
configurations with different values.</p><p>Setting <code class="literal">close_inactive</code> to a lower value means that file handles are closed
sooner. However this has the side effect that new log lines are not sent in near
real time if the harvester is closed.</p><p>The timestamp for closing a file does not depend on the modification time of the
file. Instead, Filebeat uses an internal timestamp that reflects when the
file was last harvested. For example, if <code class="literal">close_inactive</code> is set to 5 minutes,
the countdown for the 5 minutes starts after the harvester reads the last line
of the file.</p><p>You can use time strings like 2h (2 hours) and 5m (5 minutes). The default is
5m.</p><h5><a id="filebeat-input-log-close-renamed"></a><code class="literal">close_renamed</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-file-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>Only use this option if you understand that data loss is a potential
side effect.</p></div></div><p>When this option is enabled, Filebeat closes the file handler when a file
is renamed. This happens, for example, when rotating files. By default, the
harvester stays open and keeps reading the file because the file handler does
not depend on the file name. If the <code class="literal">close_renamed</code> option is enabled and the
file is renamed or moved in such a way that it’s no longer matched by the file
patterns specified for the , the file will not be picked up again.
Filebeat will not finish reading the file.</p><p>WINDOWS: If your Windows log rotation system shows errors because it can’t
rotate the files, you should enable this option.</p><h5><a id="filebeat-input-log-close-removed"></a><code class="literal">close_removed</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-file-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>When this option is enabled, Filebeat closes the harvester when a file is
removed. Normally a file should only be removed after it’s inactive for the
duration specified by <code class="literal">close_inactive</code>. However, if a file is removed early and
you don’t enable <code class="literal">close_removed</code>, Filebeat keeps the file open to make sure
the harvester has completed. If this setting results in files that are not
completely read because they are removed from disk too early, disable this
option.</p><p>This option is enabled by default. If you disable this option, you must also
disable <code class="literal">clean_removed</code>.</p><p>WINDOWS: If your Windows log rotation system shows errors because it can’t
rotate files, make sure this option is enabled.</p><h5><a id="filebeat-input-log-close-eof"></a><code class="literal">close_eof</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-file-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>Only use this option if you understand that data loss is a potential
side effect.</p></div></div><p>When this option is enabled, Filebeat closes a file as soon as the end of a
file is reached. This is useful when your files are only written once and not
updated from time to time. For example, this happens when you are writing every
single log event to a new file. This option is disabled by default.</p><h5><a id="filebeat-input-log-close-timeout"></a><code class="literal">close_timeout</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-file-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>Only use this option if you understand that data loss is a potential
side effect. Another side effect is that multiline events might not be
completely sent before the timeout expires.</p></div></div><p>When this option is enabled, Filebeat gives every harvester a predefined
lifetime. Regardless of where the reader is in the file, reading will stop after
the <code class="literal">close_timeout</code> period has elapsed. This option can be useful for older log
files when you want to spend only a predefined amount of time on the files.
While <code class="literal">close_timeout</code> will close the file after the predefined timeout, if the
file is still being updated, Filebeat will start a new harvester again per
the defined <code class="literal">scan_frequency</code>. And the close_timeout for this harvester will
start again with the countdown for the timeout.</p><p>This option is particularly useful in case the output is blocked, which makes
Filebeat keep open file handlers even for files that were deleted from the
disk. Setting <code class="literal">close_timeout</code> to <code class="literal">5m</code> ensures that the files are periodically
closed so they can be freed up by the operating system.</p><p>If you set <code class="literal">close_timeout</code> to equal <code class="literal">ignore_older</code>, the file will not be picked
up if it’s modified while the harvester is closed. This combination of settings
normally leads to data loss, and the complete file is not sent.</p><p>When you use <code class="literal">close_timeout</code> for logs that contain multiline events, the
harvester might stop in the middle of a multiline event, which means that only
parts of the event will be sent. If the harvester is started again and the file
still exists, only the second part of the event will be sent.</p><p>This option is set to 0 by default which means it is disabled.</p><h5><a id="filebeat-input-log-clean-options"></a><code class="literal">clean_*</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-file-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The <code class="literal">clean_*</code> options are used to clean up the state entries in the registry
file. These settings help to reduce the size of the registry file and can
prevent a potential <a class="link" href="faq.html#inode-reuse-issue" title="Inode reuse causes Filebeat to skip lines?edit">inode reuse issue</a>.</p><h5><a id="filebeat-input-log-clean-inactive"></a><code class="literal">clean_inactive</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-file-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>Only use this option if you understand that data loss is a potential
side effect.</p></div></div><p>When this option is enabled, Filebeat removes the state of a file after the
specified period of inactivity has elapsed. The  state can only be removed if
the file is already ignored by Filebeat (the file is older than
<code class="literal">ignore_older</code>). The <code class="literal">clean_inactive</code> setting must be greater than <code class="literal">ignore_older +
scan_frequency</code> to make sure that no states are removed while a file is still
being harvested. Otherwise, the setting could result in Filebeat resending
the full content constantly because  <code class="literal">clean_inactive</code> removes state for files
that are still detected by Filebeat. If a file is updated or appears
again, the file is read from the beginning.</p><p>The <code class="literal">clean_inactive</code> configuration option is useful to reduce the size of the
registry file, especially if a large amount of new files are generated every
day.</p><p>This config option is also useful to prevent Filebeat problems resulting
from inode reuse on Linux. For more information, see <a class="xref" href="faq.html#inode-reuse-issue" title="Inode reuse causes Filebeat to skip lines?edit">Inode reuse causes Filebeat to skip lines?<a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/faq.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></a>.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>Every time a file is renamed, the file state is updated and the counter
for <code class="literal">clean_inactive</code> starts at 0 again.</p></div></div><h5><a id="filebeat-input-log-clean-removed"></a><code class="literal">clean_removed</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-file-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>When this option is enabled, Filebeat cleans files from the registry if
they cannot be found on disk anymore under the last known name. This means also
files which were renamed after the harvester was finished will be removed. This
option is enabled by default.</p><p>If a shared drive disappears for a short period and appears again, all files
will be read again from the beginning because the states were removed from the
registry file. In such cases, we recommend that you disable the <code class="literal">clean_removed</code>
option.</p><p>You must disable this option if you also disable <code class="literal">close_removed</code>.</p><h5><a id="filebeat-input-log-scan-frequency"></a><code class="literal">scan_frequency</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-file-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>How often Filebeat checks for new files in the paths that are specified
for harvesting. For example, if you specify a glob like <code class="literal">/var/log/*</code>, the
directory is scanned for files using the frequency specified by
<code class="literal">scan_frequency</code>. Specify 1s to scan the directory as frequently as possible
without causing Filebeat to scan too frequently. We do not recommend to set
this value <code class="literal">&lt;1s</code>.</p><p>If you require log lines to be sent in near real time do not use a very low
<code class="literal">scan_frequency</code> but adjust <code class="literal">close_inactive</code> so the file handler stays open and
constantly polls your files.</p><p>The default setting is 10s.</p><h5><a id="filebeat-input-log-scan-sort"></a><code class="literal">scan.sort</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-file-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>This functionality is experimental and may be changed or removed completely in a future release. Elastic will take a best effort approach to fix any issues, but experimental features are not subject to the support SLA of official GA features.</p></div></div><p>If you specify a value other than the empty string for this setting you can
determine whether to use ascending or descending order using <code class="literal">scan.order</code>.
Possible values are <code class="literal">modtime</code> and <code class="literal">filename</code>. To sort by file modification time,
use <code class="literal">modtime</code>, otherwise use <code class="literal">filename</code>. Leave this option empty to disable it.</p><p>If you specify a value for this setting, you can use <code class="literal">scan.order</code> to configure
whether files are scanned in ascending or descending order.</p><p>The default setting is disabled.</p><h5><a id="filebeat-input-log-scan-order"></a><code class="literal">scan.order</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-file-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>This functionality is experimental and may be changed or removed completely in a future release. Elastic will take a best effort approach to fix any issues, but experimental features are not subject to the support SLA of official GA features.</p></div></div><p>Specifies whether to use ascending or descending order when <code class="literal">scan.sort</code> is set to a value other than none. Possible values are <code class="literal">asc</code> or <code class="literal">desc</code>.</p><p>The default setting is <code class="literal">asc</code>.</p><h5><a id="_literal_tail_files_literal"></a><code class="literal">tail_files</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-file-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>If this option is set to true, Filebeat starts reading new files at the end
of each file instead of the beginning. When this option is used in combination
with log rotation, it’s possible that the first log entries in a new file might
be skipped. The default setting is false.</p><p>This option applies to files that Filebeat has not already processed. If
you ran Filebeat previously and the state of the file was already
persisted, <code class="literal">tail_files</code> will not apply. Harvesting will continue at the previous
offset. To apply <code class="literal">tail_files</code> to all files, you must stop Filebeat and
remove the registry file. Be aware that doing this removes ALL previous states.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>You can use this setting to avoid indexing old log lines when you run
Filebeat on a set of log files for the first time. After the first run, we
recommend disabling this option, or you risk losing lines during file rotation.</p></div></div><h5><a id="_literal_symlinks_literal"></a><code class="literal">symlinks</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-file-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The <code class="literal">symlinks</code> option allows Filebeat to harvest symlinks in addition to
regular files. When harvesting symlinks, Filebeat opens and reads the
original file even though it reports the path of the symlink.</p><p>When you configure a symlink for harvesting, make sure the original path is
excluded. If a single input is configured to harvest both the symlink and
the original file, Filebeat will detect the problem and only process the
first file it finds. However, if two different inputs are configured (one
to read the symlink and the other the original path), both paths will be
harvested, causing Filebeat to send duplicate data and the inputs to
overwrite each other’s state.</p><p>The <code class="literal">symlinks</code> option can be useful if symlinks to the log files have additional
metadata in the file name, and you want to process the metadata in Logstash.
This is, for example, the case for Kubernetes log files.</p><p>Because this option may lead to data loss, it is disabled by default.</p><h5><a id="_literal_backoff_literal"></a><code class="literal">backoff</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-file-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The backoff options specify how aggressively Filebeat crawls open files for
updates. You can use the default values in most cases.</p><p>The <code class="literal">backoff</code> option defines how long Filebeat waits before checking a file
again after EOF is reached. The default is 1s, which means the file is checked
every second if new lines were added. This enables near real-time crawling.
Every time a new line appears in the file, the <code class="literal">backoff</code> value is reset to the
initial value. The default is 1s.</p><h5><a id="_literal_max_backoff_literal"></a><code class="literal">max_backoff</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-file-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The maximum time for Filebeat to wait before checking a file again after
EOF is reached. After having backed off multiple times from checking the file,
the wait time will never exceed <code class="literal">max_backoff</code> regardless of what is specified
for  <code class="literal">backoff_factor</code>. Because it takes a maximum of 10s to read a new line,
specifying 10s for <code class="literal">max_backoff</code> means that, at the worst, a new line could be
added to the log file if Filebeat has backed off multiple times. The
default is 10s.</p><p>Requirement: Set <code class="literal">max_backoff</code> to be greater than or equal to <code class="literal">backoff</code> and
less than or equal to <code class="literal">scan_frequency</code> (<code class="literal">backoff &lt;= max_backoff &lt;= scan_frequency</code>).
If <code class="literal">max_backoff</code> needs to be higher, it is recommended to close the file handler
instead and let Filebeat pick up the file again.</p><h5><a id="_literal_backoff_factor_literal"></a><code class="literal">backoff_factor</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-file-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>This option specifies how fast the waiting time is increased. The bigger the
backoff factor, the faster the <code class="literal">max_backoff</code> value is reached. The backoff
factor increments exponentially. The minimum value allowed is 1. If this value
is set to 1, the backoff algorithm is disabled, and the <code class="literal">backoff</code> value is used
for waiting for new lines. The <code class="literal">backoff</code> value will be multiplied each time with
the <code class="literal">backoff_factor</code> until <code class="literal">max_backoff</code> is reached. The default is 2.</p><h5><a id="filebeat-input-log-harvester-limit"></a><code class="literal">harvester_limit</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-file-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The <code class="literal">harvester_limit</code> option limits the number of harvesters that are started in
parallel for one input. This directly relates to the maximum number of file
handlers that are opened. The default for <code class="literal">harvester_limit</code> is 0, which means
there is no limit. This configuration is useful if the number of files to be
harvested exceeds the open file handler limit of the operating system.</p><p>Setting a limit on the number of harvesters means that potentially not all files
are opened in parallel. Therefore we recommended that you use this option in
combination with the <code class="literal">close_*</code> options to make sure harvesters are stopped more
often so that new files can be picked up.</p><p>Currently if a new harvester can be started again, the harvester is picked
randomly. This means it’s possible that the harvester for a file that was just
closed and then updated again might be started instead of the harvester for a
file that hasn’t been harvested for a longer period of time.</p><p>This configuration option applies per input. You can use this option to
indirectly set higher priorities on certain inputs by assigning a higher
limit of harvesters.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="filebeat-input-log-common-options"></a>Common options<a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The following configuration options are supported by all inputs.</p><h5><a id="_literal_enabled_literal"></a><code class="literal">enabled</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>Use the <code class="literal">enabled</code> option to enable and disable inputs. By default, enabled is
set to true.</p><h5><a id="_literal_tags_literal"></a><code class="literal">tags</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>A list of tags that Filebeat includes in the <code class="literal">tags</code> field of each published
event. Tags make it easy to select specific events in Kibana or apply
conditional filtering in Logstash. These tags will be appended to the list of
tags specified in the general configuration.</p><p>Example:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: log
  . . .
  tags: ["json"]</pre></div><h5><a id="filebeat-input-log-fields"></a><code class="literal">fields</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>Optional fields that you can specify to add additional information to the
output. For example, you might add fields that you can use for filtering log
data. Fields can be scalar values, arrays, dictionaries, or any nested
combination of these. By default, the fields that you specify here will be
grouped under a <code class="literal">fields</code> sub-dictionary in the output document. To store the
custom fields as top-level fields, set the <code class="literal">fields_under_root</code> option to true.
If a duplicate field is declared in the general configuration, then its value
will be overwritten by the value declared here.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: log
  . . .
  fields:
    app_id: query_engine_12</pre></div><h5><a id="fields-under-root-log"></a><code class="literal">fields_under_root</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>If this option is set to true, the custom
<a class="link" href="filebeat-input-log.html#filebeat-input-log-fields" title="fieldsedit">fields</a> are stored as top-level fields in
the output document instead of being grouped under a <code class="literal">fields</code> sub-dictionary. If
the custom field names conflict with other field names added by Filebeat,
then the custom fields overwrite the other fields.</p><h5><a id="_literal_processors_literal"></a><code class="literal">processors</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>A list of processors to apply to the input data.</p><p>See <a class="xref" href="filtering-and-enhancing-data.html" title="Filter and enhance the exported data"><em>Filter and enhance the exported data</em></a> for information about specifying
processors in your config.</p><h5><a id="_literal_pipeline_literal"></a><code class="literal">pipeline</code><a href="https://github.com/elastic/beats/edit/6.x/filebeat/docs/inputs/input-common-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The Ingest Node pipeline ID to set for the events generated by this input.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>The pipeline ID can also be configured in the Elasticsearch output, but
this option usually results in simpler configuration files. If the pipeline is
configured both in the input and output, the option from the
input is used.</p></div></div></div></div><div class="navfooter"><span class="prev"><a href="configuration-filebeat-options.html">
              « 
              Configure inputs</a>
           
        </span><span class="next">
           
          <a href="filebeat-input-stdin.html">Stdin input
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
					<div id="rtpcontainer" style="display: block;">
						<div class="mktg-promo">
						<h3>Getting Started Videos</h3>
						<ul class="icons">
							<li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
							<li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
							<li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
						</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

        </div>
      	


<div id="footer-subscribe" class="home-footer-subscribe">
  <div class="subscribe-wrapper">
    <div class="container">
      <div class="subscribe-form-container">
        <div class="subscribe-title col-md-12 col-lg-6">
            <h5>Be in the know with the latest and greatest from Elastic.</h5>
        </div>
        <div class="subscribe-form col-md-12 col-lg-6">
          <form class="mktoForm sb-form"></form>
        </div>
      </div>
      <div class="form_thanks hide">
        
          <p>Thanks for subscribing! We'll keep you updated with new releases.</p>
        
      </div>
    </div>
  </div>
</div>
<!--subscribe newsletter end-->

<!-- Footer Section -->
<footer class="footer-wrapper">
  <div class="container">
    <div class="row footer-content">
        
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/products">Products ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/products/elasticsearch">Elasticsearch</a></li>
                  
                
              
                
                  
                    <li><a href="/products/kibana">Kibana</a></li>
                  
                
              
                
                  
                    <li><a href="/products/beats">Beats</a></li>
                  
                
              
                
                  
                    <li><a href="/products/logstash">Logstash</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack">Stack Features (formerly X-Pack)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/security">Security</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/alerting">Alerting</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/canvas">Canvas</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/monitoring">Monitoring</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/graph">Graph</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/reporting">Reporting</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/machine-learning">Machine Learning</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/elasticsearch-sql">Elasticsearch SQL</a></li>
                  
                
              
                
                  
                    <li><a href="/products/hadoop">Elasticsearch-Hadoop</a></li>
                  
                
              
                
                  
                    <li><a href="/products/ece">Elastic Cloud Enterprise</a></li>
                  
                
              
              </ul>
              
                <h3><a href=""></a></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/solutions">Solutions ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/solutions/logging">Logging</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/metrics">Metrics</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/site-search">Site Search</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/security-analytics">Security Analytics</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/apm">APM</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/app-search">App Search</a></li>
                  
                
              
              </ul>
              
                <h3><a href="/cloud">Elastic Cloud ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/cloud/elasticsearch-service">Elasticsearch Service</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud/app-search-service">Elastic App Search Service</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud/site-search-service">Elastic Site Search Service</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3>Resources</h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/blog">Blog</a></li>
                  
                
              
                
                  
                    <li><a href="https://cloud-status.elastic.co">Cloud Status</a></li>
                  
                
              
                
                  
                    <li><a href="/community">Community</a></li>
                  
                
              
                
                  
                    <li><a href="/use-cases">Customers & Use Cases</a></li>
                  
                
              
                
                  
                    <li><a href="/guide">Documentation</a></li>
                  
                
              
                
                  
                    <li><a href="/elasticon">Elastic{ON} Events</a></li>
                  
                
              
                
                  
                    <li><a href="https://discuss.elastic.co/">Forums</a></li>
                  
                
              
                
                  
                    <li><a href="/community/meetups">Meetups</a></li>
                  
                
              
                
                  
                    <li><a href="/subscriptions">Subscriptions</a></li>
                  
                
              
                
                  
                    <li><a href="https://support.elastic.co">Support Portal</a></li>
                  
                
              
                
                  
                    <li><a href="/videos">Videos & Webinars</a></li>
                  
                
              
                
                  
                    <li><a href="/training">Training</a></li>
                  
                
              
              </ul>
              
                <h3></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/about">About ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/about/careers">Careers/Jobs</a></li>
                  
                
              
                
                  
                    <li><a href="/about/our-source-code">Our Source Code</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams">Teams</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams/board">Board of Directors</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams/leadership">Leadership</a></li>
                  
                
              
                
                  
                    <li><a href="/contact">Contact</a></li>
                  
                
              
                
                  
                    <li><a href="/about/history-of-elasticsearch">Our Story</a></li>
                  
                
              
                
                  
                    <li><a href="/about/why-open-source">Why Open Source</a></li>
                  
                
              
                
                  
                    <li><a href="/about/distributed">Distributed by Intention</a></li>
                  
                
              
                
                  
                    <li><a href="/about/partners">Partners</a></li>
                  
                
              
                
                  
                    <li><a href="/about/press">Media</a></li>
                  
                
              
                
                  
                    <li><a href="https://ir.elastic.co">Investor Relations</a></li>
                  
                
              
                
                  
                    <li><a href="https://www.elastic.shop">Elastic Store</a></li>
                  
                
              
              </ul>
              
                <h3><a href=""></a></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
       
    </div>
     <!-- Social Media Section -->
    <div class="row social-icon">
      <div class="col-xs-12 col-sm-12 col-md-6 col-md-offset-3">
	    <div class="row">
		     <div class="follow-us col-xs-12 col-sm-12 col-md-12">
			    <div class="social-label">FOLLOW US</div>
			    <ul class="social-icon-list">
          
          		 	<li class="Facebook"><a id="footer_facebook" href="https://www.facebook.com/elastic.co">Facebook</a></li>
          
          		 	<li class="Twitter"><a id="footer_twitter" href="https://www.twitter.com/elastic">Twitter</a></li>
          
          		 	<li class="LinkedIn"><a id="footer_linkedin" href="https://www.linkedin.com/company/elastic-co">LinkedIn</a></li>
          
          		 	<li class="Xing"><a id="footer_xing" href="https://www.xing.com/companies/elastic.co">Xing</a></li>
          
          		 	<li class="YouTube"><a id="footer_youtube" href="https://www.youtube.com/user/elasticsearch">YouTube</a></li>
          
		  		</ul>
		     </div>
	    </div>
      </div>
    </div>
    <!-- Social Media Section end-->
    <div class="row">
	<div class="col-xs-12 col-sm-12 col-md-11">
		<div class="copyright">
			<ul>
				<li><a href="/legal/trademarks">Trademarks</a></li>
				<li><a href="/legal/terms-of-use">Terms of Use</a></li>
				<li><a href="/legal/privacy-statement">Privacy</a></li>
				<li><a href="/brand">Brand</a></li>
			</ul>
			<div class="copyright-content">
				<div class="footer-text">
					<p>© 2018. Elasticsearch B.V. All Rights Reserved
					</p>
					<p>Elasticsearch is a trademark of Elasticsearch B.V., registered in the U.S. and in other countries.
					</p>
					<p>Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a> in the United States and/or other countries.
					</p>
				</div>
			</div>
		</div>
	</div>
	<div class="col-xs-2 col-xs-offset-5 col-sm-1 col-sm-offset-5 col-md-1 col-md-offset-0">
		<div class="footer-logo"><a href="/"><img src="/static/images/svg/logo-elastic-footer-stacked-999.svg" class="img-responsive"></a>
		</div>
	</div>
</div>
  </div>
</footer>
<!-- Footer Section end-->

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";	
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script> 
     
<script type="text/javascript">
$(document).ready(function(){
	if (window.location.hash.length) {
	      var target = $(window.location.hash);
	      target = target.length ? target : $(window.location.hash);
	      if (target.length) {
	        setTimeout(function(){ $(window).scrollTop(target.offset().top - 60); }, 1200);        
	      }
	}
	$('#guide').on('click','a[href*=#]:not([href=#])',function(e) {
			var flag=true;
		      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		          var target = $(this.hash);
		          target = target.length ? target :$(this.hash);
		          if (target.length) {
		            if(flag){
		              flag=false;
		              var heightScroll=($('.tertiary-nav.navbar-fixed-top').height())?60:110;
		              $('html,body').animate({
		                  scrollTop: target.offset().top - heightScroll
		                }, 2000, function(){
		                  flag=true;
		                });
		            }                    
		          }
		      }
		    
	});

})

</script>

     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>
