<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">How Metricbeat Works
        | Metricbeat Reference [5.3]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Metricbeat Reference [5.3]" /><link rel="up" href="index.html" title="Metricbeat Reference [5.3]" /><link rel="prev" href="upgrading-metricbeat.html" title="Upgrading Metricbeat" /><link rel="next" href="metricbeat-event-structure.html" title="Event Structure" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Docs/Metricbeat/Reference/5.3" /></head><body><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Metricbeat Reference
      [5.3]
    </a></span> » <span class="breadcrumb-node">How Metricbeat Works</span></div><div xmlns="" class="navheader"><span class="prev"><a href="upgrading-metricbeat.html">
              « 
              Upgrading Metricbeat</a>
           
        </span><span class="next">
           
          <a href="metricbeat-event-structure.html">Event Structure
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="how-metricbeat-works"></a>How Metricbeat Works<a xmlns="" href="https://github.com/elastic/beats/edit/5.3/metricbeat/docs/how-metricbeat-works.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h1></div></div></div><p>Metricbeat consists of modules and metricsets. A Metricbeat <span class="emphasis"><em>module</em></span> defines the
basic logic for collecting data from a specific service, such as Redis, MySQL,
and so on. The module specifies details about the service, including how to connect,
how often to collect metrics, and which metrics to collect.</p><p>Each module has one or more metricsets. A <span class="emphasis"><em>metricset</em></span> is the part of the module
that fetches and structures the data. Rather than collecting each metric as a
separate event, metricsets retrieve a list of multiple related metrics in a single request
to the remote system. So, for example, the Redis module provides an <code class="literal">info</code>
metricset that collects information and statistics from Redis by running the
<a class="ulink" href="http://redis.io/commands/INFO" target="_top"><code class="literal">INFO</code></a> command and parsing the returned result.</p><p><span class="inlinemediaobject"><img src="./images/module-overview.png" alt="Modules and metricsets" /></span></p><p>Likewise, the MySQL module provides a <code class="literal">status</code> metricset that collects data
from MySQL by running a <a class="ulink" href="http://dev.mysql.com/doc/refman/5.7/en/show-status.html" target="_top"><code class="literal">SHOW GLOBAL STATUS</code></a>
SQL query. Metricsets make it easier for you by grouping sets of related metrics together
in a single request returned by the remote server.</p><p>Metricbeat retrieves metrics by periodically interrogating the host system based
on the <code class="literal">period</code> value that you specify when you configure the module. Because multiple
metricsets can send requests to the same service, Metricbeat reuses connections
whenever possible. If Metricbeat cannot connect to the host system within the time
specified by the <code class="literal">timeout</code> config setting, it returns an error. Metricbeat sends
the events asynchronously, which means the event retrieval is not acknowledged. If
the configured output is not available, events may be lost.</p><p>When Metricbeat encounters an error (for example, when it cannot connect to the host
system), it sends an event error to the specified output. This means that Metricbeat
always sends an event, even when there is a failure. This allows you to monitor
for errors and see debug messages to help you diagnose what went wrong.</p><p>The following topics provide more detail about the structure of Metricbeat events:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<a class="xref" href="metricbeat-event-structure.html" title="Event Structure">Event Structure</a>
</li><li class="listitem">
<a class="xref" href="error-event-structure.html" title="Error Event Structure">Error Event Structure</a>
</li></ul></div><p>For more about the benefits of using Metricbeat, see <a class="xref" href="key-features.html" title="Key Metricbeat Features">Key Metricbeat Features</a>.</p></div><div xmlns="" class="navfooter"><span class="prev"><a href="upgrading-metricbeat.html">
              « 
              Upgrading Metricbeat</a>
           
        </span><span class="next">
           
          <a href="metricbeat-event-structure.html">Event Structure
               »
            </a></span></div></body></html>