<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Using LDAP to Authenticate Users
        | Shield Reference [2.1]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Shield Reference [2.1]" /><link rel="up" href="setting-up-authentication.html" title="Setting Up User Authentication" /><link rel="prev" href="esusers.html" title="Using esusers to Authenticate Users" /><link rel="next" href="active-directory.html" title="Using Active Directory to Authenticate Users" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Docs/Shield/Reference/2.1" />
  	
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- RTP tag -->
    <script type='text/javascript' async>
    (function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
     c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";
     g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);
     })(window,document,"rtp","//sjrtp2-cdn.marketo.com/rtp-api/v1/rtp.js","elasticco");

    rtp('send','view');
    rtp('get', 'campaign',true);
    </script>
    <!-- End of RTP tag -->
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
<meta name="apple-mobile-web-app-title" content="Elastic">
<meta name="application-name" content="Elastic">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">
<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >


<!-- end DC tags -->


	<meta name="description" content="" />





	<meta property="og:image" content="/static/img/cluster-small.png" />

		

    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">

	   

    <!-- css -->
    <link href="https://static-www.elastic.co/static/css/main.css?q=802" rel="stylesheet">
    
    

    <script src="https://static-www.elastic.co/static/js/jquery.min.js?q=802"></script>
    <script src="https://static-www.elastic.co/static/js/bootstrap.min.js?q=802"></script>
    <script src="https://static-www.elastic.co/static/js/jquery.cookie.js?q=802"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // ---------------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
        locales = {
          '/en/': '/',
          '/de/': '/de/',
          '/fr/': '/fr/',
          '/ja/':'/jp/',
          '/ko/':'/kr/'
        }
        localepages = ['/','/de/','/fr/','/jp/','/kr/','/products','/de/products','/fr/products','/jp/products','/kr/products'],
        locationpath = window.location.pathname,
        localeUrl = '{"relative_url_prefix":"/","code":"en-us","url":"/guide_template"}',
        currentlocale = JSON.parse(localeUrl);
    
      if(localepages.indexOf(locationpath) != -1){
        if($.cookie("c_lang")){
          if($.cookie("c_lang") != currentlocale.relative_url_prefix){
            var cookieurl = $.cookie("c_lang") + currentlocale.url.slice(1,currentlocale.url.length);
            window.location = cookieurl;
          }
        }
        else{
          var locale_lang = "/";
          if(locales[lang] != undefined){
            locale_lang = locales[lang];
          }
          $.cookie("c_lang",locale_lang ,{ expires: 365, path: '/'}); 
          window.location = localepages[localepages.indexOf(locationpath)];
        }
      }
      
      // --------------------- end of set language based on browser language -----------------
      </script>


	
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/guide.css?q=802" />


  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
  <body >
  	<!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
                              height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- begin olark code -->
    <script data-cfasync="false" type='text/javascript'>/*<![CDATA[*/window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){
    f[z]=function(){
    (a.s=a.s||[]).push(arguments)};var a=f[z]._={
    },q=c.methods.length;while(q--){(function(n){f[z][n]=function(){
    f[z]("call",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={
    0:+new Date};a.P=function(u){
    a.p[u]=new Date-a.p[0]};function s(){
    a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){
    hd="head";return["<",hd,"></",hd,"><",i,' onl' + 'oad="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){
    return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){
    b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{
    b.contentWindow[g].open()}catch(w){
    c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{
    var t=b.contentWindow[g];t.write(p());t.close()}catch(x){
    b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({
    loader: "static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});
    /* custom configuration goes here (www.olark.com/documentation) */
    olark.identify('1356-750-10-5709');/*]]>*/</script><noscript><a href="https://www.olark.com/site/1356-750-10-5709/contact" title="Contact us">Questions? Feedback?</a> powered by <a href="http://www.olark.com?welcome" title="Olark live chat software">Olark live chat software</a></noscript>
    <!-- end olark code -->

    <script> 
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ 
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), 
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) 
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); 
      ga('create', 'UA-12395217-16', 'auto'); 
      ga('send', 'pageview'); 
    </script>

    <!-- Header Section -->
    
<header class="header-wrapper">
   

  




<div class="navigation-wrapper">
  <div class="container">
    <nav class="navbar">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-mobile-header navbar-header mr-20 mr-xs-0">
      <div class="row hidden-sm hidden-md hidden-lg">
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg">
          <div class="navbar-mobile-header-icon navbar-mobile-header-icon-out">
            <span></span>
            <span></span>
            <span></span>
          </div>
          
            <a href="/learn" class="nav-title hidden-sm hidden-md hidden-lg m-l-8">Learn</a>
          
        </div>
        <div class="col-xs-2 text-center">
          <div class="navbar-brand" id="elastic">
            <h1>
              <a class="logo-m hidden-sm hidden-md hidden-lg" href="/">
                <img src="https://static-www.elastic.co/assets/bltd5ac38b4549d53de/elastic-logo-mobile (1).svg?q=802" alt="elastic-logo-mobile">
              </a>
            </h1>
          </div>
        </div>
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg text-right">
          <ul class="menu-m hidden-sm hidden-md hidden-lg">
            <li class=""><a class="icon-contact" href="/contact"></a></li>
            <li id="searchbar"><a class="button icon" href="#"></a></li>
            <li class="lang global-language">
                
                  <a href="#">EN</a>
                
              <ul class="language-list">
                
                  
                    
                  
                <li><a href="/" data-value="/" id="locale-select">English</a></li>
                
                  
                    
                  
                <li><a href="/fr/" data-value="/fr/" id="locale-select">Français</a></li>
                
                  
                    
                  
                <li><a href="/de/" data-value="/de/" id="locale-select">Deutsch</a></li>
                
                  
                    
                  
                <li><a href="/jp/" data-value="/jp/" id="locale-select">日本語</a></li>
                
                  
                    
                  
                <li><a href="/kr/" data-value="/kr/" id="locale-select">한국어</a></li>
                
              </ul>
            </li>
          </ul>
        </div>
      </div>

      <div class="navbar-brand hidden-xs" id="elastic">
        <h1>
          <a class="hidden-xs" id="elastic-logo" href="/">
            <img src="https://static-www.elastic.co/assets/blt6050efb80ceabd47/elastic-logo (2).svg?q=802" alt="elastic-logo">
          </a>
        </h1>
      </div>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse mobile-inner-nav">
      <nav class="nav navbar-nav primary-nav-hover" id="nav">
        <ul>
        
          
            
              
            
            <li>
              <a id="nav_products" class=" " href="/products">Products</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_cloud" class=" " href="/cloud">Cloud</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_services" class=" " href="/services">Services</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_customers" class=" " href="/use-cases">Customers</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_learn" class="active" href="/learn">Learn</a>
            </li>
          
        
          
        
        </ul>
      </nav>
      <nav class="nav navbar-nav navbar-right hidden-xs">
        <ul>
          <li class="hidden-xs hidden-sm"><a href="/downloads">downloads</a></li>
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-download" href="/downloads"></a></li>
          <!-- To set parameters to contact button -->
          
           
            
          

          
            
            
          
          <li class="hidden-xs hidden-sm"><a class="btn btn-secondary btn-contact" href="/contact?storm=global-header-en">contact</a></li>
          <!-- ////////////////ends here///////////////-->          
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-contact" href="/contact?storm=global-header-en"></a></li>
          <li class="hidden-xs" id="searchbar"><a class="button icon" href="#"></a></li>
          <li class="hidden-xs lang global-language">
                
                  <a href="#">EN</a>
                
               <ul class="language-list">
              
                
                  
                
              <li><a class="" href="/" data-value="/">English</a></li>
              
                
                  
                
              <li><a class="" href="/fr/" data-value="/fr/">Français</a></li>
              
                
                  
                
              <li><a class="" href="/de/" data-value="/de/">Deutsch</a></li>
              
                
                  
                
              <li><a class="" href="/jp/" data-value="/jp/">日本語</a></li>
              
                
                  
                
              <li><a class="" href="/kr/" data-value="/kr/">한국어</a></li>
              
            </ul>
          </li>
        </ul>
      </nav>
    </div><!-- /.navbar-collapse -->
  </nav>
  </div>
</div>

<div class="header-search-wrapper open-search"> 
  <div class="container">
    <div class="big-search">
      <i class="big-search-icon"></i>
      <form id="searchfrm" name="searchForm" autocomplete="on" action="/search" method="get">
        <ul class="tags-wrapper">
          <li class="search-field"><input type="text" name="q" id="autocomplete" class="form-control global-input" autocomplete="off"></li>
        </ul>
      </form>
      <a class="header-search-cancel" href="#"></a>
    </div>
    <div class="nav-auto-complete"></div>
  </div>
</div>
</header>
<link rel="stylesheet" type="text/css" href="https://static-www.elastic.co/static/css/horizon-swiper.min.css?q=802">
<style> 
    
      .m-shortcuts li a.m-search {
        background: url("https://static-www.elastic.co/assets/blt7b9c4fe6528dc4ef/m-search-icon.png?q=802") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-docs {
        background: url("https://static-www.elastic.co/assets/blt44d8b7530a76d01c/m-guide-icon.png?q=802") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-contact {
        background: url("https://static-www.elastic.co/assets/blt878040795c9d083b/m-contact-icon.png?q=802") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
    
</style>
<script type="text/javascript" src="https://static-www.elastic.co/static/js/horizon-swiper.min.js?q=802"></script>
<script type="text/javascript">
  $(document).ready( function(){
    // if($('#scrollable-pane li').length > 3){
      $('.horizon-swiper').horizonSwiper({
        showItems: 3,
        arrows: true
      }); 
    // }
    
    $('.navbar-toggle').on('click', function(){
      $('.mobile-navigation, .menu-open').hide();
      $('.navigation-wrapper').addClass('mobile-navigation');
      $('.navbar').addClass('menu-open');
      $('.menu-close').show();
    });
    $('.menu-close').on('click', function(){
      $('.navigation-wrapper').removeClass('mobile-navigation');
      $('.navbar').removeClass('menu-open');
      $('.menu-close').hide();
    });

    var active_url = "";

    $(".navbar-mobile-header-icon").click(function(index){
      $('.navigation-wrapper').toggleClass('menu-overlay');
      $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
      $(".mobile-inner-nav").slideToggle(500);
      $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
        $(this).css({'animation-delay': (index/25)+'0.4s'});
      });
    });

    $('.dropdown-arrow').on('click', function(e){
      e.preventDefault();
      setDropdown();
    });
    
    function setDropdown() {
      $('#myDropdown').toggleClass('show');
    }

    $('body').on('click', function(event){
      if (!event.target.matches('.dropdown-arrow')) {

        var dropdowns = $(".dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    });

    // if($(window).width() < 769){
    //   var $item = $('.scrollable-panel li'), 
    //       visible = 3, //Set the number of items that will be visible
    //       index = 0, //Starting index
    //       endIndex = ( $item.length / visible ) - 1; //End index (NOTE:: Requires visible to be a factor of $item.length... You can improve this by rounding...)

    //   $('#right-arrow').click(function(){
    //     if(index < endIndex ){
    //       index++;
    //       $item.animate({'left':'-=300px'});
    //     }
    //   });

    //   $('#left-arrow').click(function(){
    //     if(index > 0){
    //       index--;            
    //       $item.animate({'left':'+=300px'});
    //     }
    //   });
    // }
  });
  $(window).resize(function () {
    $('.horizon-swiper').horizonSwiper({
      showItems: 3,
      arrows: true
    });
  });
</script>
    


  





  
  
  
  
    <div class="tertiary-nav">
      <div class="container">
        <div class="p-t-b-15 bdr-btm-e0e0e0 clearfix">
          <div class="breadcrum-wrapper pull-left text-left">
          
            <a href="/guide">Docs</a> 
          
          </div>
          
          
          
        </div>
      </div>
    </div>

    <div class="nav-mobile-dropdown hidden-sm hidden-md hidden-lg bdr-btm-e0e0e0 clearfix">
      <div class="container text-right">
        <div class="breadcrum-wrapper pull-left text-left">
          
              <a href="/guide">Docs</a>
          
        </div>
        
        
      </div>
    </div>
  


<style type="text/css">

  

</style>
    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   
          
            
        			<!-- <div class="pageheader">
	<div class="common-container">
		
			<h2 class="page-title">Guide template</h2>
		
	</div>
</div> -->


        		
          

          
	<section id="guide">
		<div class="container">
			<div class="row">
			  <!-- start body -->
				
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Shield Reference
      [2.1]
    </a></span> » <span class="breadcrumb-link"><a href="setting-up-authentication.html">Setting Up User Authentication</a></span> » <span class="breadcrumb-node">Using LDAP to Authenticate Users</span></div><div class="navheader"><span class="prev"><a href="esusers.html">
              « 
              Using esusers to Authenticate Users</a>
           
        </span><span class="next">
           
          <a href="active-directory.html">Using Active Directory to Authenticate Users
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="ldap"></a>Using LDAP to Authenticate Users</h2></div></div></div><p>You can configure Shield to communicate with a Lightweight Directory Access Protocol
(LDAP) directory to authenticate users. To integrate with LDAP, you configure an LDAP realm and
assign LDAP groups to Shield roles in the <a class="link" href="mapping-roles.html" title="Mapping Users and Groups to Roles">role mapping file</a>.</p><p>To protect passwords, communications between Shield and the LDAP server should be encrypted
using SSL/TLS. Clients and nodes that connect via SSL/TLS to the LDAP server need to have the
LDAP server’s certificate or the server’s root CA certificate installed in their keystore or
truststore. For more information about installing certificates, see <a class="link" href="ssl-tls.html" title="Setting Up SSL/TLS on a Cluster">Setting Up SSL</a>.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_configuring_an_ldap_realm"></a>Configuring an LDAP Realm</h3></div></div></div><p>LDAP stores users and groups hierarchically, similar to the way folders are grouped in a file
system. An LDAP directory’s hierarchy is built from containers such as the
 <span class="emphasis"><em>organizational unit</em></span> (<code class="literal">ou</code>), <span class="emphasis"><em>organization</em></span> (<code class="literal">o</code>), and <span class="emphasis"><em>domain controller</em></span> (<code class="literal">dc</code>).</p><p>The path to a entry is a <span class="emphasis"><em>Distinguished Name</em></span> (DN) that uniquely identifies a user or group.
User and group  names typically have attributes such as a <span class="emphasis"><em>common name</em></span> (<code class="literal">cn</code>) or <span class="emphasis"><em>unique ID</em></span> (<code class="literal">uid</code>).
A DN is specified as a string, for example  <code class="literal">"cn=admin,dc=example,dc=com"</code>. White space is ignored.</p><p>The LDAP realm supports two modes of operation, a user search mode
and a mode with specific templates for user DNs. See <a class="link" href="ldap.html#ldap-settings" title="LDAP Realm Settings">LDAP Realm Settings</a>
for all of the options you can set for an LDAP realm.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="ldap-user-search"></a>Configuring an LDAP Realm with User Search <span class="added">
      [<span class="version">1.1.0</span>]
      <span class="detail">Added in 1.1.0.</span></span></h4></div></div></div><p>LDAP user search is the most common mode of operation. In this mode, a specific user with
permission to search the LDAP directory is used to search for the user DN based on the username
and an LDAP attribute.</p><p>To configure an LDAP Realm with User Search:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Add a realm configuration of type <code class="literal">ldap</code> to <code class="literal">elasticsearch.yml</code> in the
<code class="literal">shield.authc.realms</code> namespace. At a minimum, you must set the realm
<code class="literal">type</code> to <code class="literal">ldap</code>, specify the <code class="literal">url</code> of the LDAP server, and specify the container DN to search for
users with the <code class="literal">user_search.base_dn</code> option. If you are configuring multiple realms, you
should also explicitly set the <code class="literal">order</code> attribute to control the order in which the realms are
consulted during authentication. See <a class="link" href="ldap.html#ldap-settings" title="LDAP Realm Settings">LDAP Realm Settings</a>
for all of the options you can set for an LDAP realm.
</p><p class="simpara">For example, the following snippet shows an LDAP realm configured with a user search:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">shield:
  authc:
    realms:
      ldap1:
        type: ldap
        order: 0
        url: "ldaps://ldap.example.com:636"
        bind_dn: "cn=ldapuser, ou=users, o=services, dc=example, dc=com"
        bind_password: changeme
        user_search:
          base_dn: "dc=example,dc=com"
          attribute: cn
        group_search:
          base_dn: "dc=example,dc=com"
        files:
          role_mapping: "/mnt/elasticsearch/group_to_role_mapping.yml"
        unmapped_groups_as_roles: false</pre></div></li><li class="listitem">
Restart Elasticsearch
</li></ol></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_configuring_an_ldap_realm_with_user_dn_templates"></a>Configuring an LDAP Realm with User DN Templates</h4></div></div></div><p>If your LDAP environment uses a few specific standard naming conditions for users, you can use
User DN templates to configure the realm. The advantage of this method is that a search does not
have to be performed to find the user DN. However, multiple bind operations might be needed to find
the correct user DN.</p><p>To configure an LDAP Realm with User Search:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Add a realm configuration of type <code class="literal">ldap</code> to <code class="literal">elasticsearch.yml</code> in the
<code class="literal">shield.authc.realms</code> namespace. At a minimum, you must set the realm
<code class="literal">type</code> to <code class="literal">ldap</code>, specify the <code class="literal">url</code> of the LDAP server, and specify at least one template with
the  <code class="literal">user_dn_templates</code> option. If you are configuring multiple realms, you
should also explicitly set the <code class="literal">order</code> attribute to control the order in which the realms are
consulted during authentication. See <a class="link" href="ldap.html#ldap-settings" title="LDAP Realm Settings">LDAP Realm Settings</a>
for all of the options you can set for an LDAP realm.
</p><p class="simpara">For example, the following snippet shows an LDAP realm configured with User DN templates:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">shield:
  authc:
    realms:
      ldap1:
        type: ldap
        order: 0
        url: "ldaps://ldap.example.com:636"
        user_dn_templates:
          - "cn={0}, ou=users, o=marketing, dc=example, dc=com"
          - "cn={0}, ou=users, o=engineering, dc=example, dc=com"
        group_search:
          base_dn: "dc=example,dc=com"
        files:
          role_mapping: "/mnt/elasticsearch/group_to_role_mapping.yml"
        unmapped_groups_as_roles: false</pre></div></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="ldap-settings"></a>LDAP Realm Settings</h4></div></div></div><div class="table"><a id="id-1.6.20.4.7.2"></a><p class="title"><strong>Table 1. Common LDAP Realm Settings</strong></p><div class="table-contents"><table summary="Common LDAP Realm Settings" cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p>Setting</p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>Description</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">type</code></p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>Indicates the realm type. Must be set to <code class="literal">ldap</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">order</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Indicates the priority of this realm within the realm
                                              chain. Realms with a lower order are consulted first.
                                              Although not required, we recommend explicitly
                                              setting this value when you configure multiple realms.
                                              Defaults to <code class="literal">Integer.MAX_VALUE</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">enabled</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Indicates whether this realm is enabled or disabled.
                                              Enables you to disable a realm without removing its
                                              configuration. Defaults to <code class="literal">true</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">url</code></p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>Specifies an LDAP URL of the form of
                                              <code class="literal">ldap[s]://&lt;server&gt;:&lt;port&gt;</code>. Shield attempts to
                                              authenticate against this URL.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">user_group_attribute</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Specifies the attribute to examine on the user for group
                                              membership. The default is <code class="literal">memberOf</code>. This setting will
                                              be ignored if any <code class="literal">group_search</code> settings are specified.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">group_search.base_dn</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Specifies a container DN to search for groups in which
                                              the user has membership. When this element is absent,
                                              Shield searches for the attribute specified by
                                              <code class="literal">user_group_attribute</code> set on the user to determine
                                              group membership.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">group_search.scope</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Specifies whether the group search should be
                                              <code class="literal">sub_tree</code>, <code class="literal">one_level</code> or <code class="literal">base</code>.  <code class="literal">one_level</code> only
                                              searches objects directly contained within the
                                              <code class="literal">base_dn</code>. The default <code class="literal">sub_tree</code> searches all objects
                                              contained under <code class="literal">base_dn</code>. <code class="literal">base</code> specifies that the
                                              <code class="literal">base_dn</code> is a group object, and that it is the only
                                              group considered.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">group_search.filter</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Specifies a filter to use to lookup a group. If not
                                              set, the realm searches for <code class="literal">group</code>,
                                              <code class="literal">groupOfNames</code>, or <code class="literal">groupOfUniqueNames</code>, with the
                                              attributes <code class="literal">member</code> or <code class="literal">memberOf</code>.  Any instance of
                                              <code class="literal">{0}</code> in the filter is replaced by the user
                                              attribute defined in <code class="literal">group_search.user_attribute</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">group_search.user_attribute</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Specifies the user attribute that is fetched and
                                              provided as a parameter to the filter.  If not set,
                                              the user DN is passed to the filter.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">unmapped_groups_as_roles</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Specifies whether the names of any unmapped LDAP groups
                                              should be used as role names and assigned to the user.
                                              Defaults to <code class="literal">false</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">connect_timeout</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Specifies the timeout period for establishing an
                                              LDAP connection. An <code class="literal">s</code> at the end indicates seconds,
                                              <code class="literal">ms</code> indicates milliseconds. Defaults to <code class="literal">5s</code> (5 seconds).</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">read_timeout</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>The timeout period for an LDAP operation.  An <code class="literal">s</code> at
                                              the end indicates seconds, <code class="literal">ms</code> indicates
                                              milliseconds. Defaults to <code class="literal">5s</code> (5 seconds).</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">files.role_mapping</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Specifies the path and file name for the
                                              <a class="link" href="mapping-roles.html#ldap-role-mapping">YAML role mapping configuration                                               file</a>. Defaults to
                                              <code class="literal">ES_HOME/config/shield/role_mapping.yml</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">follow_referrals</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Specifies whether Shield should
                                              follow referrals returned by the LDAP server. Referrals
                                              are URLs returned by the server that are to be used to
                                              continue the LDAP operation (e.g. search). Defaults to
                                              <code class="literal">true</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">hostname_verification</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Specifies whether hostname verification is performed when
                                              connecting to an LDAP server. When <code class="literal">true</code>, the hostname
                                              or IP address used in the <code class="literal">url</code> must match one of the
                                              names in the certificate or the connection will not be
                                              allowed. Due to its potential security impact,
                                              <code class="literal">hostname_verification</code> is not exposed via the
                                              <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.1/cluster-nodes-info.html#cluster-nodes-info" target="_top">nodes
                                              info API</a>. Defaults to <code class="literal">true</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">cache.ttl</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Specifies the time-to-live for cached user entries. A
                                              user’s credentials are cached for this period of time.
                                              Specify the time period using the standard Elasticsearch
                                              <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.1/common-options.html#time-units" target="_top">time units</a>.
                                              Defaults to <code class="literal">20m</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">cache.max_users</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Specifies the maximum number of user entries that can be
                                              stored in the cache at one time. Defaults to 100,000.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">cache.hash_algo</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Specifies the hashing algorithm that is used for the
                                              cached user credentials. See <a class="link" href="controlling-user-cache.html#cache-hash-algo" title="Table 4. Cache hash algorithms">Cache hash algorithms</a> for the possible values.
                                              (Expert Setting)</p></td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="id-1.6.20.4.7.3"></a><p class="title"><strong>Table 2. User Template LDAP Realm Settings</strong></p><div class="table-contents"><table summary="User Template LDAP Realm Settings" cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p>Setting</p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>Description</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">user_dn_templates</code></p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>Specifies the DN template that replaces the user name
                                              with the string <code class="literal">{0}</code>. This element is multivalued,
                                              allowing for multiple user contexts.</p></td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="id-1.6.20.4.7.4"></a><p class="title"><strong>Table 3. User Search LDAP Realm Settings <span class="added">
      [<span class="version">1.1.0</span>]
      <span class="detail">Added in 1.1.0.</span></span></strong></p><div class="table-contents"><table summary="User Search LDAP Realm Settings Added in 1.1.0." cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p>Setting</p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>Description</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">bind_dn</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>The DN of the user that is used to
                                                        bind to the LDAP and perform searches. If
                                                        not specified, an anonymous bind
                                                        is attempted. Due to its potential security
                                                        impact, <code class="literal">hostname_verification</code> is not
                                                        exposed via the
                                                        <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.1/cluster-nodes-info.html#cluster-nodes-info" target="_top">
                                                        nodes info API</a>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">bind_password</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>The password for the user that is used
                                                        to bind to the LDAP. Due to its potential
                                                        security impact, <code class="literal">hostname_verification</code> is
                                                        not exposed via the
                                                        <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.1/cluster-nodes-info.html#cluster-nodes-info" target="_top">
                                                        nodes info API</a>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">user_search.base_dn</code></p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>Specifies a container DN to search for users.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">user_search.scope</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>The scope of the user search. Valid values
                                                        are <code class="literal">sub_tree</code>, <code class="literal">one_level</code> or <code class="literal">base</code>.
                                                        <code class="literal">one_level</code> only searches objects directly
                                                        contained within the <code class="literal">base_dn</code>.
                                                        <code class="literal">sub_tree</code> searches all objects contained
                                                        under <code class="literal">base_dn</code>. <code class="literal">base</code> specifies that the
                                                        <code class="literal">base_dn</code> is the user object, and that it is
                                                        the only user considered. Defaults to
                                                        <code class="literal">sub_tree</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">user_search.attribute</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Specifies the attribute to match with the
                                                        username presented to Shield. Defaults to
                                                        <code class="literal">uid</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">user_search.pool.size</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Specifies the maximum number of connections
                                                        to the LDAP server to allow in the connection
                                                        pool. Defaults to <code class="literal">20</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">user_search.pool.initial_size</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>The initial number of connections to create
                                                        to the LDAP server on startup. Defaults to <code class="literal">5</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">user_search.pool.health_check.enabled</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Enables or disables a health check on
                                                        LDAP connections in the connection pool.
                                                        Connections are checked in the background at
                                                        the specified interval. Defaults to <code class="literal">true</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">user_search.pool.health_check.dn</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Specifies the distinguished name to retrieve
                                                        as part of the health check. Defaults to the
                                                        value of <code class="literal">bind_dn</code>. If <code class="literal">bind_dn</code> is not
                                                        configured, you must specify a value.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">user_search.pool.health_check.interval</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>How often to perform background checks
                                                        of connections in the pool. Defaults to
                                                        <code class="literal">60s</code>.</p></td></tr></tbody></table></div></div><br class="table-break" /><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>If any settings starting with <code class="literal">user_search</code> are specified, the <code class="literal">user_dn_templates</code>
        the settings are ignored.</p></div></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="assigning-roles-ldap"></a>Assigning LDAP Groups to Roles</h3></div></div></div><p>To configure privileges for LDAP users, you assign LDAP groups to roles in
the role mapping file stored on each node. When a user authenticates with LDAP,
the privileges for that user are the union of all privileges defined by
the roles assigned to the set of groups that the user belongs to.</p><p>You specify groups using their distinguished names. For example, the following mapping
configuration assigns the LDAP <code class="literal">admins</code> group both the <code class="literal">monitoring</code> and <code class="literal">user</code> roles, and
assigns the  <code class="literal">user</code> role to the <code class="literal">users</code> group.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">monitoring: <a id="CO4-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
  - "cn=admins,dc=example,dc=com" <a id="CO4-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
user:
  - "cn=users,dc=example,dc=com" <a id="CO4-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
  - "cn=admins,dc=example,dc=com"</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO4-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The name of a role defined in <a class="link" href="defining-roles.html" title="Defining Roles"><code class="literal">roles.yml</code></a>.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO4-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The distinguished name of the <code class="literal">admins</code> group.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO4-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The distinguished name of the <code class="literal">users</code> group.
</p></td></tr></table></div><p>For more information, see <a class="link" href="mapping-roles.html" title="Mapping Users and Groups to Roles">Mapping Users and Groups to Roles</a>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_encrypting_communications_between_shield_and_ldap_with_ssl_tls"></a>Encrypting Communications Between Shield and LDAP with SSL/TLS</h3></div></div></div><p>You should encrypt communications between Shield and your LDAP server to protect the user
credentials that are sent to for authentication. Connecting via SSL/TLS
ensures that the identity of the LDAP server is authenticated before Shield
transmits the user credentials, and the user names and passwords are encrypted in transit.</p><p>To encrypt communications between Shield and your LDAP server:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Configure each node to trust certificates signed by the CA that signed your LDAP server
certificates. For example, the following command imports <code class="literal">cacert.pem</code>
into node01’s keystore.  (For information about using truststores, see <a class="link" href="ssl-tls.html#create-truststore" title="Configuring a Separate Truststore">Configuring a Separate Truststore</a>.)
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-shell">cd CONFIG_DIR/shield
keytool -importcert -keystore node01.jks -file cacert.pem -alias ldap_ca</pre></div><p class="simpara">The CA cert must be a PEM encoded certificate.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>You can also import the individual server certificates rather than the CA certificate, but
this is only recommended if you have a single LDAP server.
You can fetch the LDAP server certificate with <code class="literal">openssl</code>.
For example, the following command gets the certificate for <code class="literal">ldap.example.com</code> and stores it locally
in <code class="literal">ldap.crt</code>.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-shell">echo | openssl s_client -connect ldap.example.com:636 2&gt;/dev/null | openssl x509 &gt; ldap.crt</pre></div><p>If you are using an older version of openssl you might need to use use the <code class="literal">-host</code> and
<code class="literal">-port</code> options rather than the <code class="literal">-connect</code> option.</p></div></div></li><li class="listitem"><p class="simpara">
If you haven’t already configured the path to the node’s keystore or truststore  in
<code class="literal">elasticsearch.yml</code>, set the <code class="literal">shield.ssl.keystore.path</code> or <code class="literal">shield.ssl.truststore.path</code>
attributes. For example:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">shield.ssl.keystore.path:          /home/es/config/shield/node01.jks <a id="CO5-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
shield.ssl.keystore.password:      myPass <a id="CO5-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
shield.ssl.keystore.key_password:  myKeyPass <a id="CO5-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO5-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The full path to the node keystore file. This must be a location within the Elasticsearch
configuration directory.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO5-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The password used to access the keystore.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO5-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The password used to access the certificate. This is only required if you specified a separate
certificate password when generating the certificate.
</p><p>For more information, see <a class="link" href="ssl-tls.html" title="Setting Up SSL/TLS on a Cluster">Enabling SSL/TLS in the Node Configuration</a>.</p></td></tr></table></div></li><li class="listitem">
Set the <code class="literal">url</code> attribute in the realm configuration to specify the LDAPS protocol and
the secure port number. For example, <code class="literal">url: ldaps://ldap.example.com:636</code>.
</li><li class="listitem">
Restart Elasticsearch to pick up the changes to <code class="literal">elasticsearch.yml</code>.
</li></ol></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>By default, when you configure Shield to connect to an LDAP server using SSL/TLS,
      Shield attempts to verify the hostname or IP address specified with the <code class="literal">url</code> attribute in
      the realm configuration with the values in the certificate. If the values in the certificate
      and realm configuration do not match, Shield does not allow a connection to the LDAP server.
      This is done to protect against man in the middle attacks. If necessary,
      you can disable this behavior by setting the <a class="link" href="reference.html#ref-ssl-tls-settings" title="TLS/SSL Settings"><code class="literal">hostname_verification</code></a>
      property to <code class="literal">false</code>. <code class="literal">hostname_verification</code> is considered to be a sensitive setting and
      is not exposed via <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.1/cluster-nodes-info.html#cluster-nodes-info" target="_top">nodes info API</a>.</p></div></div></div></div><div class="navfooter"><span class="prev"><a href="esusers.html">
              « 
              Using esusers to Authenticate Users</a>
           
        </span><span class="next">
           
          <a href="active-directory.html">Using Active Directory to Authenticate Users
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
					<div id="rtpcontainer" style="display: block;">
						<h3>Top Videos</h3>
						<ul>
							<li><a href="https://www.elastic.co/webinars/elasticsearch-2-0-overview?baymax=default&elektra=docs&storm=top-video">Getting Started</a></li>
							<li><a href="http://www.elastic.co/webinars/elasticsearch-performance-optimization-tale-two-tickets/?elektra=docs">Scaling</a></li>
							<li><a href="http://www.elastic.co/webinars/shield-securing-your-data-in-elasticsearch/?elektra=docs">Security</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</section>

        </div>
      	


<div id="footer-subscribe">
  <div class="subscribe-wrapper">
    <div class="container">
      <div class="subscribe-form-container">
        <div class="subscribe-title">
            <h5>Be in the know with the latest and greatest from Elastic.</h5>
        </div>
        <div class="subscribe-form">
          <form id="mktoForm_1398" class="mktoForm sb-form"></form>
        </div>
      </div>
      <div class="form_thanks hide">
        
          <p>Thanks for subscribing! We'll keep you updated with new releases.</p>
        
      </div>
    </div>
  </div>
</div>
<!--subscribe newsletter end-->

<!-- Footer Section -->
<footer class="footer-wrapper">
  <div class="container">
    <div class="row footer-content">
        
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/products">Products ></a></h3>
              
              <ul>
              
                
                  
                    <li><a href="/products/elasticsearch">Elasticsearch</a></li>
                  
                
              
                
                  
                    <li><a href="/products/kibana">Kibana</a></li>
                  
                
              
                
                  
                    <li><a href="/products/logstash">Logstash</a></li>
                  
                
              
                
                  
                    <li><a href="/products/beats">Beats</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud">Elastic Cloud</a></li>
                  
                
              
                
                  
                    <li><a href="/products/shield">Shield (Security)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/watcher">Watcher (Alerting)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/marvel">Marvel (Monitoring)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/graph">Graph</a></li>
                  
                
              
                
                  
                    <li><a href="/products/hadoop">ES-Hadoop</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3>Resources</h3>
              
              <ul>
              
                
                  
                    <li><a href="/blog">Blog</a></li>
                  
                
              
                
                  
                    <li><a href="https://cloud-status.elastic.co">Cloud Status</a></li>
                  
                
              
                
                  
                    <li><a href="/community">Community</a></li>
                  
                
              
                
                  
                    <li><a href="/use-cases">Customers & Use Cases</a></li>
                  
                
              
                
                  
                    <li><a href="/guide">Documentation</a></li>
                  
                
              
                
                  
                    <li><a href="/elasticon">Elastic{ON} Events</a></li>
                  
                
              
                
                  
                    <li><a href="https://discuss.elastic.co/">Forums</a></li>
                  
                
              
                
                  
                    <li><a href="/community/meetups">Meetups</a></li>
                  
                
              
                
                  
                    <li><a href="/subscriptions">Subscriptions</a></li>
                  
                
              
                
                  
                    <li><a href="https://support.elastic.co">Support Portal</a></li>
                  
                
              
                
                  
                    <li><a href="/videos">Videos & Webinars</a></li>
                  
                
              
                
                  
                    <li><a href="/training">Training</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/about">About ></a></h3>
              
              <ul>
              
                
                  
                    <li><a href="/about/careers">Careers/Jobs</a></li>
                  
                
              
                
                  
                    <li><a href="/contact">Contact</a></li>
                  
                
              
                
                  
                    <li><a href="/about/leadership">Leadership</a></li>
                  
                
              
                
                  
                    <li><a href="/about/partners">Partners</a></li>
                  
                
              
                
                  
                    <li><a href="/about/press">Press</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3>Language</h3>
              
              <ul>
              
                
                  <li><a href="/" data-value="/">English</a></li>
                
              
                
                  <li><a href="/fr/" data-value="/fr/">Français</a></li>
                
              
                
                  <li><a href="/de/" data-value="/de/">Deutsch</a></li>
                
              
                
                  <li><a href="/jp/" data-value="/jp/">日本語</a></li>
                
              
                
                  <li><a href="/kr/" data-value="/kr/">한국어</a></li>
                
              
              </ul>
          </div>    
       
    </div>
     <!-- Social Media Section -->
    <div class="row social-icon">
      <div class="col-xs-12 col-sm-12 col-md-12">
        <p class="text-center font-size-10 m-0">FOLLOW US</p>
        <ul>
          
          <li class="facebook"><a id="footer_facebook" href="http://www.facebook.com/elastic.co"></a></li>
          
          <li class="twitter"><a id="footer_twitter" href="https://www.twitter.com/elastic"></a></li>
          
          <li class="linkedin"><a id="footer_linkedin" href="https://www.linkedin.com/company/elastic-co"></a></li>
          
          <li class="xing"><a id="footer_xing" href="https://www.xing.com/companies/elastic.co"></a></li>
          
          <li class="youtube"><a id="footer_youtube" href="https://www.youtube.com/user/elasticsearch"></a></li>
          
        </ul>
      </div>
    </div>
    <!-- Social Media Section end-->
    <div class="row">
	<div class="col-xs-12 col-sm-12 col-md-12">
		<div class="copyright">
			<ul>
				<li><a href="/legal/trademarks">Trademarks</a></li>
				<li><a href="/legal/terms-of-use">Terms of Use</a></li>
				<li><a href="/legal/privacy-policy">Privacy</a></li>
				<li><a href="/legal/privacy-and-cookie-policy">Cookie Policy</a></li>
				<li><a href="/brand">Brand</a></li>
			</ul>
			<div class="copyright-content">
				<div class="footer-logo"><a href="/"><img src="/static/images/svg/logo-elastic-footer.svg" class="img-responsive"></a>
				</div>
				<div class="footer-text">
					<p>© 2016. All Rights Reserved - Elasticsearch
					</p>
					<p>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries
					</p>
					<p>Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other countries.
					</p>
				</div>
			</div>
		</div>
	</div>
</div>
  </div>
</footer>
<!-- Footer Section end-->

<style type="text/css">
	
    
		.facebook{background:url("https://static-www.elastic.co/assets/bltf546ff2e0a8f2de5/facebook.svg?q=802") no-repeat;}
    
    
      .facebook:hover {background:url("https://static-www.elastic.co/assets/bltc24cf11c714ecfc4/facebook-hover.svg?q=802")}		
    
	
    
		.twitter{background:url("https://static-www.elastic.co/assets/bltdd9556d6b24e2b85/twitter.svg?q=802") no-repeat;}
    
    
      .twitter:hover {background:url("https://static-www.elastic.co/assets/blt90b0372cc07a54d3/twitter-hover.svg?q=802")}		
    
	
    
		.linkedin{background:url("https://static-www.elastic.co/assets/bltc4a77e0f52ce07f1/linkedin.svg?q=802") no-repeat;}
    
    
      .linkedin:hover {background:url("https://static-www.elastic.co/assets/blt01ce654380e4ea6c/linkedin-hover.svg?q=802")}		
    
	
    
		.xing{background:url("https://static-www.elastic.co/assets/bltc6347078dcc9ec76/xing.svg?q=802") no-repeat;}
    
    
      .xing:hover {background:url("https://static-www.elastic.co/assets/bltededebe5f7521a39/xing-hover.svg?q=802")}		
    
	
    
		.youtube{background:url("https://static-www.elastic.co/assets/blt4982061ce1aebc7f/youtube.svg?q=802") no-repeat;}
    
    
      .youtube:hover {background:url("https://static-www.elastic.co/assets/bltddeb6c6404ae81a5/youtube-hover.svg?q=802")}		
    
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
  MktoForms2.whenReady(function (form) {
  //    // Put your code that uses the form object here
  //   $('#Email').attr("placeholder","Email Address");
  //   $('#FirstName').attr("placeholder","First Name");
  //   $('#LastName').attr("placeholder","Last Name");
  //   $('#Form_Message').attr("placeholder","Tell us in your words");
  // // ========================End Mktoform placeholder==================
  });

  MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", 1398,function(form){
    form.onSuccess(function(form){
      $('#mktoForm_1398').css('display','none');
      $('.subscribe-wrapper .subscribe-form-container').hide();
      $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
      dataLayer.push({'event': 'mktoFormSubmit'});
        return false;
      });
  });
</script>
      </section>
    </div>
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";	
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","url":"/guide_template"}';
</script>
<script src="https://static-www.elastic.co/static/js/jquery.autocomplete.js?q=802"></script>
<script type="text/javascript" src="https://static-www.elastic.co/static/js/slick.min.js?q=802"></script>
<script src="https://static-www.elastic.co/static/js/nav-v5.js?q=802"></script>
<script src="https://static-www.elastic.co/static/js/script.js?q=802"></script> 
     
     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>