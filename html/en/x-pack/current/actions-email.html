<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Email Action
        | X-Pack for the Elastic Stack
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="X-Pack for the Elastic Stack" /><link rel="up" href="actions.html" title="Actions" /><link rel="prev" href="actions.html" title="Actions" /><link rel="next" href="actions-webhook.html" title="Webhook Action" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Docs/XPack/Reference" />
  	
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- RTP tag -->
    <script type='text/javascript' async>
    (function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
     c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";
     g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);
     })(window,document,"rtp","//sjrtp2-cdn.marketo.com/rtp-api/v1/rtp.js","elasticco");

    rtp('send','view');
    rtp('get', 'campaign',true);
    </script>
    <!-- End of RTP tag -->
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
<meta name="apple-mobile-web-app-title" content="Elastic">
<meta name="application-name" content="Elastic">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">
<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >


<!-- end DC tags -->


	<meta name="description" content="" />





	<meta property="og:image" content="/static/img/cluster-small.png" />

		

    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">

	   

    <!-- css -->
    <link href="https://static-www.elastic.co/static/css/main.css?q=802" rel="stylesheet">
    
    

    <script src="https://static-www.elastic.co/static/js/jquery.min.js?q=802"></script>
    <script src="https://static-www.elastic.co/static/js/bootstrap.min.js?q=802"></script>
    <script src="https://static-www.elastic.co/static/js/jquery.cookie.js?q=802"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // ---------------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
        locales = {
          '/en/': '/',
          '/de/': '/de/',
          '/fr/': '/fr/',
          '/ja/':'/jp/',
          '/ko/':'/kr/'
        }
        localepages = ['/','/de/','/fr/','/jp/','/kr/','/products','/de/products','/fr/products','/jp/products','/kr/products'],
        locationpath = window.location.pathname,
        localeUrl = '{"relative_url_prefix":"/","code":"en-us","url":"/guide_template"}',
        currentlocale = JSON.parse(localeUrl);
    
      if(localepages.indexOf(locationpath) != -1){
        if($.cookie("c_lang")){
          if($.cookie("c_lang") != currentlocale.relative_url_prefix){
            var cookieurl = $.cookie("c_lang") + currentlocale.url.slice(1,currentlocale.url.length);
            window.location = cookieurl;
          }
        }
        else{
          var locale_lang = "/";
          if(locales[lang] != undefined){
            locale_lang = locales[lang];
          }
          $.cookie("c_lang",locale_lang ,{ expires: 365, path: '/'}); 
          window.location = localepages[localepages.indexOf(locationpath)];
        }
      }
      
      // --------------------- end of set language based on browser language -----------------
      </script>


	
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/guide.css?q=802" />


  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
  <body >
  	<!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
                              height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- begin olark code -->
    <script data-cfasync="false" type='text/javascript'>/*<![CDATA[*/window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){
    f[z]=function(){
    (a.s=a.s||[]).push(arguments)};var a=f[z]._={
    },q=c.methods.length;while(q--){(function(n){f[z][n]=function(){
    f[z]("call",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={
    0:+new Date};a.P=function(u){
    a.p[u]=new Date-a.p[0]};function s(){
    a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){
    hd="head";return["<",hd,"></",hd,"><",i,' onl' + 'oad="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){
    return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){
    b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{
    b.contentWindow[g].open()}catch(w){
    c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{
    var t=b.contentWindow[g];t.write(p());t.close()}catch(x){
    b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({
    loader: "static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});
    /* custom configuration goes here (www.olark.com/documentation) */
    olark.identify('1356-750-10-5709');/*]]>*/</script><noscript><a href="https://www.olark.com/site/1356-750-10-5709/contact" title="Contact us">Questions? Feedback?</a> powered by <a href="http://www.olark.com?welcome" title="Olark live chat software">Olark live chat software</a></noscript>
    <!-- end olark code -->

    <script> 
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ 
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), 
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) 
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); 
      ga('create', 'UA-12395217-16', 'auto'); 
      ga('send', 'pageview'); 
    </script>

    <!-- Header Section -->
    
<header class="header-wrapper">
   

  




<div class="navigation-wrapper">
  <div class="container">
    <nav class="navbar">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-mobile-header navbar-header mr-20 mr-xs-0">
      <div class="row hidden-sm hidden-md hidden-lg">
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg">
          <div class="navbar-mobile-header-icon navbar-mobile-header-icon-out">
            <span></span>
            <span></span>
            <span></span>
          </div>
          
            <a href="/learn" class="nav-title hidden-sm hidden-md hidden-lg m-l-8">Learn</a>
          
        </div>
        <div class="col-xs-2 text-center">
          <div class="navbar-brand" id="elastic">
            <h1>
              <a class="logo-m hidden-sm hidden-md hidden-lg" href="/">
                <img src="https://static-www.elastic.co/assets/bltd5ac38b4549d53de/elastic-logo-mobile (1).svg?q=802" alt="elastic-logo-mobile">
              </a>
            </h1>
          </div>
        </div>
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg text-right">
          <ul class="menu-m hidden-sm hidden-md hidden-lg">
            <li class=""><a class="icon-contact" href="/contact"></a></li>
            <li id="searchbar"><a class="button icon" href="#"></a></li>
            <li class="lang global-language">
                
                  <a href="#">EN</a>
                
              <ul class="language-list">
                
                  
                    
                  
                <li><a href="/" data-value="/" id="locale-select">English</a></li>
                
                  
                    
                  
                <li><a href="/fr/" data-value="/fr/" id="locale-select">Français</a></li>
                
                  
                    
                  
                <li><a href="/de/" data-value="/de/" id="locale-select">Deutsch</a></li>
                
                  
                    
                  
                <li><a href="/jp/" data-value="/jp/" id="locale-select">日本語</a></li>
                
                  
                    
                  
                <li><a href="/kr/" data-value="/kr/" id="locale-select">한국어</a></li>
                
              </ul>
            </li>
          </ul>
        </div>
      </div>

      <div class="navbar-brand hidden-xs" id="elastic">
        <h1>
          <a class="hidden-xs" id="elastic-logo" href="/">
            <img src="https://static-www.elastic.co/assets/blt6050efb80ceabd47/elastic-logo (2).svg?q=802" alt="elastic-logo">
          </a>
        </h1>
      </div>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse mobile-inner-nav">
      <nav class="nav navbar-nav primary-nav-hover" id="nav">
        <ul>
        
          
            
              
            
            <li>
              <a id="nav_products" class=" " href="/products">Products</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_cloud" class=" " href="/cloud">Cloud</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_services" class=" " href="/services">Services</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_customers" class=" " href="/use-cases">Customers</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_learn" class="active" href="/learn">Learn</a>
            </li>
          
        
          
        
        </ul>
      </nav>
      <nav class="nav navbar-nav navbar-right hidden-xs">
        <ul>
          <li class="hidden-xs hidden-sm"><a href="/downloads">downloads</a></li>
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-download" href="/downloads"></a></li>
          <!-- To set parameters to contact button -->
          
           
            
          

          
            
            
          
          <li class="hidden-xs hidden-sm"><a class="btn btn-secondary btn-contact" href="/contact?storm=global-header-en">contact</a></li>
          <!-- ////////////////ends here///////////////-->          
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-contact" href="/contact?storm=global-header-en"></a></li>
          <li class="hidden-xs" id="searchbar"><a class="button icon" href="#"></a></li>
          <li class="hidden-xs lang global-language">
                
                  <a href="#">EN</a>
                
               <ul class="language-list">
              
                
                  
                
              <li><a class="" href="/" data-value="/">English</a></li>
              
                
                  
                
              <li><a class="" href="/fr/" data-value="/fr/">Français</a></li>
              
                
                  
                
              <li><a class="" href="/de/" data-value="/de/">Deutsch</a></li>
              
                
                  
                
              <li><a class="" href="/jp/" data-value="/jp/">日本語</a></li>
              
                
                  
                
              <li><a class="" href="/kr/" data-value="/kr/">한국어</a></li>
              
            </ul>
          </li>
        </ul>
      </nav>
    </div><!-- /.navbar-collapse -->
  </nav>
  </div>
</div>

<div class="header-search-wrapper open-search"> 
  <div class="container">
    <div class="big-search">
      <i class="big-search-icon"></i>
      <form id="searchfrm" name="searchForm" autocomplete="on" action="/search" method="get">
        <ul class="tags-wrapper">
          <li class="search-field"><input type="text" name="q" id="autocomplete" class="form-control global-input" autocomplete="off"></li>
        </ul>
      </form>
      <a class="header-search-cancel" href="#"></a>
    </div>
    <div class="nav-auto-complete"></div>
  </div>
</div>
</header>
<link rel="stylesheet" type="text/css" href="https://static-www.elastic.co/static/css/horizon-swiper.min.css?q=802">
<style> 
    
      .m-shortcuts li a.m-search {
        background: url("https://static-www.elastic.co/assets/blt7b9c4fe6528dc4ef/m-search-icon.png?q=802") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-docs {
        background: url("https://static-www.elastic.co/assets/blt44d8b7530a76d01c/m-guide-icon.png?q=802") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-contact {
        background: url("https://static-www.elastic.co/assets/blt878040795c9d083b/m-contact-icon.png?q=802") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
    
</style>
<script type="text/javascript" src="https://static-www.elastic.co/static/js/horizon-swiper.min.js?q=802"></script>
<script type="text/javascript">
  $(document).ready( function(){
    // if($('#scrollable-pane li').length > 3){
      $('.horizon-swiper').horizonSwiper({
        showItems: 3,
        arrows: true
      }); 
    // }
    
    $('.navbar-toggle').on('click', function(){
      $('.mobile-navigation, .menu-open').hide();
      $('.navigation-wrapper').addClass('mobile-navigation');
      $('.navbar').addClass('menu-open');
      $('.menu-close').show();
    });
    $('.menu-close').on('click', function(){
      $('.navigation-wrapper').removeClass('mobile-navigation');
      $('.navbar').removeClass('menu-open');
      $('.menu-close').hide();
    });

    var active_url = "";

    $(".navbar-mobile-header-icon").click(function(index){
      $('.navigation-wrapper').toggleClass('menu-overlay');
      $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
      $(".mobile-inner-nav").slideToggle(500);
      $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
        $(this).css({'animation-delay': (index/25)+'0.4s'});
      });
    });

    $('.dropdown-arrow').on('click', function(e){
      e.preventDefault();
      setDropdown();
    });
    
    function setDropdown() {
      $('#myDropdown').toggleClass('show');
    }

    $('body').on('click', function(event){
      if (!event.target.matches('.dropdown-arrow')) {

        var dropdowns = $(".dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    });

    // if($(window).width() < 769){
    //   var $item = $('.scrollable-panel li'), 
    //       visible = 3, //Set the number of items that will be visible
    //       index = 0, //Starting index
    //       endIndex = ( $item.length / visible ) - 1; //End index (NOTE:: Requires visible to be a factor of $item.length... You can improve this by rounding...)

    //   $('#right-arrow').click(function(){
    //     if(index < endIndex ){
    //       index++;
    //       $item.animate({'left':'-=300px'});
    //     }
    //   });

    //   $('#left-arrow').click(function(){
    //     if(index > 0){
    //       index--;            
    //       $item.animate({'left':'+=300px'});
    //     }
    //   });
    // }
  });
  $(window).resize(function () {
    $('.horizon-swiper').horizonSwiper({
      showItems: 3,
      arrows: true
    });
  });
</script>
    


  





  
  
  
  
    <div class="tertiary-nav">
      <div class="container">
        <div class="p-t-b-15 bdr-btm-e0e0e0 clearfix">
          <div class="breadcrum-wrapper pull-left text-left">
          
            <a href="/guide">Docs</a> 
          
          </div>
          
          
          
        </div>
      </div>
    </div>

    <div class="nav-mobile-dropdown hidden-sm hidden-md hidden-lg bdr-btm-e0e0e0 clearfix">
      <div class="container text-right">
        <div class="breadcrum-wrapper pull-left text-left">
          
              <a href="/guide">Docs</a>
          
        </div>
        
        
      </div>
    </div>
  


<style type="text/css">

  

</style>
    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   
          
            
        			<!-- <div class="pageheader">
	<div class="common-container">
		
			<h2 class="page-title">Guide template</h2>
		
	</div>
</div> -->


        		
          

          
	<section id="guide">
		<div class="container">
			<div class="row">
			  <!-- start body -->
				
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header"><b>PLEASE NOTE:</b> These docs are for a pre-GA version of X-Pack, 5.0.0-rc1.</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">X-Pack for the Elastic Stack</a></span> » <span class="breadcrumb-link"><a href="xpack-alerting.html">Alerting on Cluster and Index Events </a></span> » <span class="breadcrumb-link"><a href="actions.html">Actions</a></span> » <span class="breadcrumb-node">Email Action</span></div><div class="navheader"><span class="prev"><a href="actions.html">
              « 
              Actions</a>
           
        </span><span class="next">
           
          <a href="actions-webhook.html">Webhook Action
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="actions-email"></a>Email Action</h2></div></div></div><p>Use the <code class="literal">email</code> action to send email notifications. To send email, you must
<a class="link" href="actions-email.html#configuring-email" title="Configuring Email Accounts">configure at least one email account</a> in
<code class="literal">elasticsearch.yml</code>.</p><p>Email notifications can be plain text or styled using HTML. You can include
information from the watch execution payload using <a class="link" href="how-watcher-works.html#templates" title="Using Templates">templates</a>
and attach the entire watch payload to the message.</p><p>See <a class="xref" href="actions-email.html#email-action-attributes" title="Email Action Attributes">Email Action Attributes</a> for the supported attributes. Any attributes that
are missing from the email action definition are looked up in the email
account configuration. The required attributes must either be set in the email
action definition or the account’s <code class="literal">email_defaults</code>.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="configuring-email-actions"></a>Configuring Email Actions</h3></div></div></div><p>You configure email actions in the <code class="literal">actions</code> array. Action-specific attributes
are specified using the <code class="literal">email</code> keyword.</p><p>For example, the following email action uses a template to include data from
the watch payload in the email body:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">"actions" : {
  "send_email" : { <a id="CO45-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
    "email" : { <a id="CO45-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
      "to" : "&lt;username&gt;@&lt;domainname&gt;", <a id="CO45-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
      "subject" : "Watcher Notification", <a id="CO45-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
      "body" : "{{ctx.payload.hits.total}} error logs found", <a id="CO45-5"></a><span><img src="images/icons/callouts/5.png" alt="" /></span>
    }
  }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO45-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The id of the action.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO45-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The action type is set to <code class="literal">email</code>.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO45-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
One or more addresses to send the email to. Must be specified in the
    action definition or in the email account configuration.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO45-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The subject of the email can contain static text and Mustache <a class="link" href="how-watcher-works.html#templates" title="Using Templates">templates</a>.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO45-5"><span><img src="images/icons/callouts/5.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The body of the email can contain static text and Mustache <a class="link" href="how-watcher-works.html#templates" title="Using Templates">templates</a>. Must be specified in the action definition or in the email
     account configuration.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="configuring-email-attachments"></a>Configuring Email Attachments</h3></div></div></div><p>You can attach the execution context payload or data from an any HTTP service to
the email notification. There is no limit on the number of attachments you can
configure.</p><p>To configure attachments, specify a name for the attached file and the type of
attachment: <code class="literal">data</code> or <code class="literal">http</code>. The <code class="literal">data</code> attachment type attaches the execution
context payload to the email message. The <code class="literal">http</code> attachment type enables
you to issue an HTTP request and attach the response to the email message. When
configuring the <code class="literal">http</code> attachment type, you must specify the request URL.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">"actions" : {
  "email_admin" : {
    "email": {
      "to": "'John Doe &lt;john.doe@example.com&gt;'",
      "attachments" : {
        "my_report.pdf" : { <a id="CO46-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
          "http" : { <a id="CO46-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
            "content_type" : "application/pdf",
            "request" : {
              "url": "http://example.org/foo/my-report" <a id="CO46-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
            }
          }
        },
        "data.yml" : {
          "data" : {
            "format" : "yaml" <a id="CO46-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
          }
        }
      }
    }
  }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO46-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The ID of the attachment, which is used as the file name in the email
    attachment.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO46-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The type of the attachment and its specific configuration.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO46-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The URL from which to retrieve the attachment.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO46-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Data attachments default to JSON if you don’t specify the format.
</p></td></tr></table></div><div class="table"><a id="id-1.7.8.27.6.6"></a><p class="title"><strong>Table 37. <code class="literal">http</code> attachment type attributes</strong></p><div class="table-contents"><table summary="http attachment type attributes" cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top"> Name            </th><th align="left" valign="top"> Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">content_type</code></p></td><td align="left" valign="top"><p>Sets the content type for the email attachment. By default,
                    the content type is extracted from the response sent by the
                    HTTP service. You can explicitly specify the content type to
                    ensure that the type is set correctly in the email in case
                    the response does not specify the content type or it’s specified
                    incorrectly. Optional.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">inline</code></p></td><td align="left" valign="top"><p>Configures as an attachment to sent with disposition <code class="literal">inline</code>. This
                    allows the use of embedded images in HTML bodies, which are displayed
                    in certain email clients. Optional. Defaults to <code class="literal">false</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">request</code></p></td><td align="left" valign="top"><p>Contains the HTTP request attributes. At a minimum, you must
                    specify the <code class="literal">url</code> attribute to configure the host and path to
                    the service endpoint. See <a class="xref" href="actions-webhook.html#webhook-action-attributes">???</a> for
                    the full list of HTTP request attributes. Required.</p></td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="id-1.7.8.27.6.7"></a><p class="title"><strong>Table 38. <code class="literal">data</code> attachment type attributes</strong></p><div class="table-contents"><table summary="data attachment type attributes" cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top"> Name        </th><th align="left" valign="top"> Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">format</code></p></td><td align="left" valign="top"><p>Attaches the watch data, equivalent to specifying <code class="literal">attach_data</code>
                in the watch configuration. Possible values are <code class="literal">json</code> or <code class="literal">yaml</code>.
                Defaults to <code class="literal">json</code> if not specified.</p></td></tr></tbody></table></div></div><br class="table-break" /><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="email-action-reports"></a>Attaching Reports to an Email</h4></div></div></div><p>You can use the <code class="literal">http</code> attachment type in an <code class="literal">email</code> action to automatically
generate a Kibana report and distribute it via email.</p><p>For example, the following watch generates a report that contains the
<span class="strong"><strong>Error Monitoring</strong></span> dashboard and emails the report every hour:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">PUT _xpack/watcher/watch/error_report
{
  "trigger" : {
    "schedule": {
      "interval": "1h"
    }
  },
  "actions" : {
  "email_admin" : { <a id="CO47-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
    "email": {
      "to": "'Recipient Name &lt;recipient@example.com&gt;'",
      "subject": "Error Monitoring Report",
      "attachments" : {
        "error_report.pdf" : {
          "http" : {
            "content_type" : "application/pdf",
            "request" : {
              "method": "POST", <a id="CO47-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
              "headers": {
                "kbn-xsrf": "reporting"
              },
              "read_timeout": "300s", <a id="CO47-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
              "url": "http://0.0.0.0:5601/api/reporting/generate/dashboard/Error-Monitoring?_g=(time:(from:now-1d%2Fd,mode:quick,to:now))&amp;sync" <a id="CO47-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
            }
          }
        }
      }
    }
  }
 }
}</pre></div><div class="console_widget" data-snippet="snippets/actions-email/1.json"></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO47-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
You must <a class="ulink" href="https://www.elastic.co/guide/en/watcher/current/email-services.html#email-account" target="_top">
configure at least one email account</a> to enable Watcher to send email.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO47-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Requests to the Reporting endpoints must use POST and include the
<code class="literal">kbn-xsrf</code> header.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO47-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Increase the <code class="literal">read_timeout</code> to give X-Pack reporting enough time to generate the
report.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO47-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
This is an example Generation URL. You can copy and paste the URL for any
report from the Kibana UI.
</p></td></tr></table></div><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>The interval between report requests must be longer than the time it
takes to generate the reports—otherwise, the report queue can back up. To
avoid this, increase the time between report requests.</p><p>By default, report generation times out if the report cannot be generated
within 30 seconds. If you are generating reports that contain complex
visualizations or your machine is slow or under constant heavy load, it
might take longer than 30 seconds to generate a report. You can increase
the timeout by setting <code class="literal">xpack.reporting.queue.timeout</code> in <code class="literal">kibana.yml</code>.</p></div></div><p>For more information, see <a class="link" href="automating-report-generation.html" title="Automating Report Generation">Automating Report Generation</a>.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="email-action-attributes"></a>Email Action Attributes</h3></div></div></div><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="left" valign="top"> Name                  </th><th align="center" valign="top">Required   </th><th align="left" valign="top"> Default             </th><th align="left" valign="top"> Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">account</code></p></td><td align="center" valign="top"><p>no</p></td><td align="left" valign="top"><p>the default account</p></td><td align="left" valign="top"><p>The <a class="link" href="actions-email.html#configuring-email" title="Configuring Email Accounts">email account</a> to use to send the email.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">from</code></p></td><td align="center" valign="top"><p>no</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>The email <a class="link" href="actions-email.html#email-address">address</a> from which the email
                                                            will be sent. The <code class="literal">from</code> field can contain Mustache
                                                            <a class="link" href="how-watcher-works.html#templates" title="Using Templates">templates</a> as long as it resolves to a
                                                            valid email address.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">to</code></p></td><td align="center" valign="top"><p>yes</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>The email <a class="link" href="actions-email.html#email-address">addresses</a> of the <code class="literal">to</code> recipients.
                                                            The <code class="literal">to</code> field can contain Mustache <a class="link" href="how-watcher-works.html#templates" title="Using Templates">templates</a>
                                                            as long as it resolves to a valid email address.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">cc</code></p></td><td align="center" valign="top"><p>no</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>The email <a class="link" href="actions-email.html#email-address">addresses</a> of the <code class="literal">cc</code> recipients.
                                                            The <code class="literal">cc</code> field can contain Mustache <a class="link" href="how-watcher-works.html#templates" title="Using Templates">templates</a>
                                                            as long as it resolves to a valid email address.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">bcc</code></p></td><td align="center" valign="top"><p>no</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>The email <a class="link" href="actions-email.html#email-address">addresses</a> of the <code class="literal">bcc</code> recipients.
                                                            The <code class="literal">bcc</code> field can contain Mustache <a class="link" href="how-watcher-works.html#templates" title="Using Templates">templates</a>
                                                            as long as it resolves to a valid email address.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">reply_to</code></p></td><td align="center" valign="top"><p>no</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>The email <a class="link" href="actions-email.html#email-address">addresses</a> that will be set on the
                                                            message’s <code class="literal">Reply-To</code> header. The <code class="literal">reply_to</code> field can contain
                                                            Mustache <a class="link" href="how-watcher-works.html#templates" title="Using Templates">templates</a> as long as it resolves to
                                                            a valid email address.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">subject</code></p></td><td align="center" valign="top"><p>no</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>The subject of the email. The subject can be static text or
                                                            contain Mustache <a class="link" href="how-watcher-works.html#templates" title="Using Templates">templates</a>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">body</code></p></td><td align="center" valign="top"><p>no</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>The body of the email. When this field holds a string, it
                                                            will default to the text body of the email. Set as an object
                                                            to specify either the text or the html body or both (using
                                                            the fields below)</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">body.text</code></p></td><td align="center" valign="top"><p>yes</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>The plain text body of the email. The body can be static text
                                                            or contain Mustache <a class="link" href="how-watcher-works.html#templates" title="Using Templates">templates</a>. The email <code class="literal">body</code>
                                                            must contain at least one <code class="literal">text</code> or <code class="literal">html</code> field.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">body.html</code></p></td><td align="center" valign="top"><p>yes</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>The html body of the email. The body can be static text or
                                                            contain Mustache <a class="link" href="how-watcher-works.html#templates" title="Using Templates">templates</a>. This body will be
                                                            sanitized to remove dangerous content such as scripts. This
                                                            behavior can be disabled by setting
                                                            <code class="literal">xpack.notification.email.html.sanitization.enabled: false</code> in
                                                            <code class="literal">elasticsearch.yaml</code>. The email <code class="literal">body</code> must contain at least
                                                            one <code class="literal">text</code> or <code class="literal">html</code> field.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">priority</code></p></td><td align="center" valign="top"><p>no</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>The priority of this email. Valid values are: <code class="literal">lowest</code>, <code class="literal">low</code>,
                                                            <code class="literal">normal</code>, <code class="literal">high</code> and <code class="literal">highest</code>. The priority can contain a
                                                            Mustache <a class="link" href="how-watcher-works.html#templates" title="Using Templates">template</a> as long as it resolves to
                                                            one of the valid values.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">attachments</code></p></td><td align="center" valign="top"><p>no</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>Attaches the watch payload (<code class="literal">data</code> attachment) or a file
                                                            retrieved from an HTTP service (<code class="literal">http</code> attachment) to the
                                                            email. For more information, see
                                                            <a class="link" href="actions-email.html#configuring-email-attachments" title="Configuring Email Attachments">Configuring Email Attachments</a>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">attach_data</code></p></td><td align="center" valign="top"><p>no</p></td><td align="left" valign="top"><p>false</p></td><td align="left" valign="top"><p>Indicates whether the watch execution data should be attached
                                                            to the email. You can specify a Boolean value or an object.
                                                            If <code class="literal">attach_data</code> is set to  <code class="literal">true</code>, the data is attached as a
                                                            YAML file. This attribute is deprecated, use the <code class="literal">attachments</code>
                                                            attribute to add a <code class="literal">data</code> attachment to attach the watch payload.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">attach_data.format</code></p></td><td align="center" valign="top"><p>no</p></td><td align="left" valign="top"><p>yaml</p></td><td align="left" valign="top"><p>When <code class="literal">attach_data</code> is specified as an object, this field
                                                            controls the format of the attached data. The supported formats
                                                            are <code class="literal">json</code> and <code class="literal">yaml</code>. This attribute is deprecated, use the
                                                            <code class="literal">attachments</code> attribute to add a <code class="literal">data</code> attachment to attach
                                                            the watch payload.</p></td></tr></tbody></table></div><div class="variablelist"><a id="email-address"></a><dl class="variablelist"><dt><span class="term">
Email Address
</span></dt><dd>
An email address can contain two possible parts—the address itself and an
optional personal name as described in <a class="ulink" href="http://www.ietf.org/rfc/rfc822.txt" target="_top">RFC 822</a>.
The address can be represented either as a string of the form <code class="literal">user@host.domain</code>
or <code class="literal">Personal Name &lt;user@host.domain&gt;</code>. You can also specify an email address as
an object that contains <code class="literal">name</code> and <code class="literal">address</code> fields.
</dd><dt><span class="term">
Address List
</span></dt><dd>
A list of addresses can be specified as a an
array: <code class="literal">[ 'Personal Name &lt;user1@host.domain&gt;', 'user2@host.domain' ]</code>.
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="configuring-email"></a>Configuring Email Accounts</h3></div></div></div><p>Watcher can send email using any SMTP email service. Email
messages can contain basic HTML tags. You can control which groups of tags are
allowed by <a class="link" href="actions-email.html#email-html-sanitization" title="Configuring HTML Sanitization Options">Configuring HTML Sanitization Options</a>.</p><p>You configure the accounts Watcher can use to send email in the
<code class="literal">xpack.notification.email</code> namespace in <code class="literal">elasticsearch.yml</code>.</p><p>If your email account is configured to require two step verification, you need
to generate and use a unique App Password to send email from Watcher.
Authentication will fail if you use your primary password.</p><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>Currently, neither Watcher nor Shield provide a mechanism to encrypt
settings in <code class="literal">elasticsearch.yml</code>. Because the email account credentials appear
in plain text, you should limit access to <code class="literal">elasticsearch.yml</code> to the user that
you use to run Elasticsearch.</p></div></div><p><a id="email-profile"></a>Watcher provides three email profiles that control how MIME messages are
structured: <code class="literal">standard</code> (default), <code class="literal">gmail</code>, and <code class="literal">outlook</code>. These profiles
accommodate differences in how various email systems interpret the MIME
standard. If you are using Gmail or Outlook, we recommend using the
corresponding profile. Use the <code class="literal">standard</code> profile if you are using another
email system.</p><p>For more information about configuring Watcher to work with different email
systems, see:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<a class="link" href="actions-email.html#gmail" title="Sending Email From Gmail">Sending Email from Gmail</a>
</li><li class="listitem">
<a class="link" href="actions-email.html#outlook" title="Sending Email from Outlook.com">Sending Email from Outlook</a>
</li><li class="listitem">
<a class="link" href="actions-email.html#exchange" title="Sending Email from Microsoft Exchange">Sending Email from Exchange</a>
</li><li class="listitem">
<a class="link" href="actions-email.html#amazon-ses" title="Sending Email from Amazon SES (Simple Email Service)">Sending Email from Amazon SES</a>
</li></ul></div><p>If you configure multiple email accounts, you must either configure a default
account or specify which account the email should be sent with in the
<a class="link" href="actions-email.html" title="Email Action"><code class="literal">email</code></a> action.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">xpack.notification.email:
  default_account: team1
  account:
    team1:
      ...
    team2:
      ...</pre></div><h5><a id="gmail"></a>Sending Email From Gmail</h5><p>Use the following email account settings to send email from the
<a class="ulink" href="https://mail.google.com" target="_top">Gmail</a> SMTP service:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">xpack.notification.email.account:
    gmail_account:
        profile: gmail
        smtp:
            auth: true
            starttls.enable: true
            host: smtp.gmail.com
            port: 587
            user: &lt;username&gt;
            password: &lt;password&gt;</pre></div><p>If you get an authentication error that indicates that you need to continue the
sign-in process from a web browser when Watcher attempts to send email, you need
to configure Gmail to <a class="ulink" href="https://support.google.com/accounts/answer/6010255?hl=en" target="_top">Allow
Less Secure Apps to access your account</a>.</p><p>If two-step verification is enabled for your account, you must generate and use
a unique App Password to send email from Watcher. See
<a class="ulink" href="https://support.google.com/accounts/answer/185833?hl=en" target="_top">Sign in using App Passwords</a>
for more information.</p><h5><a id="outlook"></a>Sending Email from Outlook.com</h5><p>Use the following email account settings to send email action from the
<a class="ulink" href="https://www.outlook.com/" target="_top">Outlook.com</a> SMTP service:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">xpack.notification.email.account:
    outlook_account:
        profile: outlook
        smtp:
            auth: true
            starttls.enable: true
            host: smtp-mail.outlook.com
            port: 587
            user: &lt;username&gt;
            password: &lt;password&gt;</pre></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>You need to use a unique App Password if two-step verification is enabled.
        See <a class="ulink" href="http://windows.microsoft.com/en-us/windows/app-passwords-two-step-verification" target="_top">App
        passwords and two-step verification</a> for more information.</p></div></div><h5><a id="amazon-ses"></a>Sending Email from Amazon SES (Simple Email Service)</h5><p>Use the following email account settings to send email from the
<a class="ulink" href="http://aws.amazon.com/ses" target="_top">Amazon Simple Email Service</a> (SES) SMTP service:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">xpack.notification.email.account:
    ses_account:
        smtp:
            auth: true
            starttls.enable: true
            starttls.required: true
            host: email-smtp.us-east-1.amazonaws.com <a id="CO48-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
            port: 587
            user: &lt;username&gt;
            password: &lt;password&gt;</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO48-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
<code class="literal">smtp.host</code> varies depending on the region
</p></td></tr></table></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>You need to use your Amazon SES SMTP credentials to send email through
        Amazon SES. For more information, see
        <a class="ulink" href="http://docs.aws.amazon.com/ses/latest/DeveloperGuide/smtp-credentials.html" target="_top">Obtaining
        Your Amazon SES SMTP Credentials</a>. You might also need to verify
        <a class="ulink" href="https://docs.aws.amazon.com/ses/latest/DeveloperGuide/verify-email-addresses.html" target="_top">your email address</a>
        or <a class="ulink" href="https://docs.aws.amazon.com/ses/latest/DeveloperGuide/verify-domains.html" target="_top">your whole domain</a>
        at AWS.</p></div></div><h5><a id="exchange"></a>Sending Email from Microsoft Exchange</h5><p>Use the following email account settings to send email action from Microsoft
Exchange:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">xpack.notification.email.account:
    exchange_account:
        profile: outlook
        email_defaults:
            from: &lt;email address of service account&gt; <a id="CO49-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
        smtp:
            auth: true
            starttls.enable: true
            host: &lt;your exchange server&gt;
            port: 587
            user: &lt;email address of service account&gt; <a id="CO49-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
            password: &lt;password&gt;</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO49-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Some organizations configure Exchange to validate that the <code class="literal">from</code> field is a
    valid local email account.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO49-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Many organizations support use of your email address as your username, though
    it is a good idea to check with your system administrator if you receive
    authentication-related failures.
</p></td></tr></table></div><h5><a id="email-html-sanitization"></a>Configuring HTML Sanitization Options</h5><p>The <code class="literal">email</code> action supports sending messages with an HTML body. However, for
security reasons, Watcher <a class="ulink" href="https://en.wikipedia.org/wiki/HTML_sanitization" target="_top">sanitizes</a>
the HTML.</p><p>You can control which HTML features are allowed or disallowed by configuring the
<code class="literal">xpack.notification.email.html.sanitization.allow</code> and
<code class="literal">xpack.notification.email.html.sanitization.disallow</code> settings in
<code class="literal">elasticsearch.yml</code>. You can specify individual HTML elements and
<a class="link" href="notification-settings.html#html-feature-groups">HTML feature groups</a>. By default, Watcher allows the following
features: <code class="literal">body</code>, <code class="literal">head</code>, <code class="literal">_tables</code>, <code class="literal">_links</code>, <code class="literal">_blocks</code>, <code class="literal">_formatting</code> and
<code class="literal">img:embedded</code>.</p><p>For example, the following settings allow the HTML to contain tables and block
elements, but disallow  <code class="literal">&lt;h4&gt;</code>, <code class="literal">&lt;h5&gt;</code> and <code class="literal">&lt;h6&gt;</code> tags.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">xpack.notification.email.html.sanitization:
    allow: _tables, _blocks
    disallow: h4, h5, h6</pre></div><p>To disable sanitization entirely, add the following setting to
<code class="literal">elasticsearch.yml</code>:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">xpack.notification.email.html.sanitization.enabled: false</pre></div></div></div><div class="navfooter"><span class="prev"><a href="actions.html">
              « 
              Actions</a>
           
        </span><span class="next">
           
          <a href="actions-webhook.html">Webhook Action
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
					<div id="rtpcontainer" style="display: block;">
						<h3>Top Videos</h3>
						<ul>
							<li><a href="https://www.elastic.co/webinars/elasticsearch-2-0-overview?baymax=default&elektra=docs&storm=top-video">Getting Started</a></li>
							<li><a href="http://www.elastic.co/webinars/elasticsearch-performance-optimization-tale-two-tickets/?elektra=docs">Scaling</a></li>
							<li><a href="http://www.elastic.co/webinars/shield-securing-your-data-in-elasticsearch/?elektra=docs">Security</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</section>

        </div>
      	


<div id="footer-subscribe">
  <div class="subscribe-wrapper">
    <div class="container">
      <div class="subscribe-form-container">
        <div class="subscribe-title">
            <h5>Be in the know with the latest and greatest from Elastic.</h5>
        </div>
        <div class="subscribe-form">
          <form id="mktoForm_1398" class="mktoForm sb-form"></form>
        </div>
      </div>
      <div class="form_thanks hide">
        
          <p>Thanks for subscribing! We'll keep you updated with new releases.</p>
        
      </div>
    </div>
  </div>
</div>
<!--subscribe newsletter end-->

<!-- Footer Section -->
<footer class="footer-wrapper">
  <div class="container">
    <div class="row footer-content">
        
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/products">Products ></a></h3>
              
              <ul>
              
                
                  
                    <li><a href="/products/elasticsearch">Elasticsearch</a></li>
                  
                
              
                
                  
                    <li><a href="/products/kibana">Kibana</a></li>
                  
                
              
                
                  
                    <li><a href="/products/logstash">Logstash</a></li>
                  
                
              
                
                  
                    <li><a href="/products/beats">Beats</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud">Elastic Cloud</a></li>
                  
                
              
                
                  
                    <li><a href="/products/shield">Shield (Security)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/watcher">Watcher (Alerting)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/marvel">Marvel (Monitoring)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/graph">Graph</a></li>
                  
                
              
                
                  
                    <li><a href="/products/hadoop">ES-Hadoop</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3>Resources</h3>
              
              <ul>
              
                
                  
                    <li><a href="/blog">Blog</a></li>
                  
                
              
                
                  
                    <li><a href="https://cloud-status.elastic.co">Cloud Status</a></li>
                  
                
              
                
                  
                    <li><a href="/community">Community</a></li>
                  
                
              
                
                  
                    <li><a href="/use-cases">Customers & Use Cases</a></li>
                  
                
              
                
                  
                    <li><a href="/guide">Documentation</a></li>
                  
                
              
                
                  
                    <li><a href="/elasticon">Elastic{ON} Events</a></li>
                  
                
              
                
                  
                    <li><a href="https://discuss.elastic.co/">Forums</a></li>
                  
                
              
                
                  
                    <li><a href="/community/meetups">Meetups</a></li>
                  
                
              
                
                  
                    <li><a href="/subscriptions">Subscriptions</a></li>
                  
                
              
                
                  
                    <li><a href="https://support.elastic.co">Support Portal</a></li>
                  
                
              
                
                  
                    <li><a href="/videos">Videos & Webinars</a></li>
                  
                
              
                
                  
                    <li><a href="/training">Training</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/about">About ></a></h3>
              
              <ul>
              
                
                  
                    <li><a href="/about/careers">Careers/Jobs</a></li>
                  
                
              
                
                  
                    <li><a href="/contact">Contact</a></li>
                  
                
              
                
                  
                    <li><a href="/about/leadership">Leadership</a></li>
                  
                
              
                
                  
                    <li><a href="/about/partners">Partners</a></li>
                  
                
              
                
                  
                    <li><a href="/about/press">Press</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3>Language</h3>
              
              <ul>
              
                
                  <li><a href="/" data-value="/">English</a></li>
                
              
                
                  <li><a href="/fr/" data-value="/fr/">Français</a></li>
                
              
                
                  <li><a href="/de/" data-value="/de/">Deutsch</a></li>
                
              
                
                  <li><a href="/jp/" data-value="/jp/">日本語</a></li>
                
              
                
                  <li><a href="/kr/" data-value="/kr/">한국어</a></li>
                
              
              </ul>
          </div>    
       
    </div>
     <!-- Social Media Section -->
    <div class="row social-icon">
      <div class="col-xs-12 col-sm-12 col-md-12">
        <p class="text-center font-size-10 m-0">FOLLOW US</p>
        <ul>
          
          <li class="facebook"><a id="footer_facebook" href="http://www.facebook.com/elastic.co"></a></li>
          
          <li class="twitter"><a id="footer_twitter" href="https://www.twitter.com/elastic"></a></li>
          
          <li class="linkedin"><a id="footer_linkedin" href="https://www.linkedin.com/company/elastic-co"></a></li>
          
          <li class="xing"><a id="footer_xing" href="https://www.xing.com/companies/elastic.co"></a></li>
          
          <li class="youtube"><a id="footer_youtube" href="https://www.youtube.com/user/elasticsearch"></a></li>
          
        </ul>
      </div>
    </div>
    <!-- Social Media Section end-->
    <div class="row">
	<div class="col-xs-12 col-sm-12 col-md-12">
		<div class="copyright">
			<ul>
				<li><a href="/legal/trademarks">Trademarks</a></li>
				<li><a href="/legal/terms-of-use">Terms of Use</a></li>
				<li><a href="/legal/privacy-policy">Privacy</a></li>
				<li><a href="/legal/privacy-and-cookie-policy">Cookie Policy</a></li>
				<li><a href="/brand">Brand</a></li>
			</ul>
			<div class="copyright-content">
				<div class="footer-logo"><a href="/"><img src="/static/images/svg/logo-elastic-footer.svg" class="img-responsive"></a>
				</div>
				<div class="footer-text">
					<p>© 2016. All Rights Reserved - Elasticsearch
					</p>
					<p>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries
					</p>
					<p>Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other countries.
					</p>
				</div>
			</div>
		</div>
	</div>
</div>
  </div>
</footer>
<!-- Footer Section end-->

<style type="text/css">
	
    
		.facebook{background:url("https://static-www.elastic.co/assets/bltf546ff2e0a8f2de5/facebook.svg?q=802") no-repeat;}
    
    
      .facebook:hover {background:url("https://static-www.elastic.co/assets/bltc24cf11c714ecfc4/facebook-hover.svg?q=802")}		
    
	
    
		.twitter{background:url("https://static-www.elastic.co/assets/bltdd9556d6b24e2b85/twitter.svg?q=802") no-repeat;}
    
    
      .twitter:hover {background:url("https://static-www.elastic.co/assets/blt90b0372cc07a54d3/twitter-hover.svg?q=802")}		
    
	
    
		.linkedin{background:url("https://static-www.elastic.co/assets/bltc4a77e0f52ce07f1/linkedin.svg?q=802") no-repeat;}
    
    
      .linkedin:hover {background:url("https://static-www.elastic.co/assets/blt01ce654380e4ea6c/linkedin-hover.svg?q=802")}		
    
	
    
		.xing{background:url("https://static-www.elastic.co/assets/bltc6347078dcc9ec76/xing.svg?q=802") no-repeat;}
    
    
      .xing:hover {background:url("https://static-www.elastic.co/assets/bltededebe5f7521a39/xing-hover.svg?q=802")}		
    
	
    
		.youtube{background:url("https://static-www.elastic.co/assets/blt4982061ce1aebc7f/youtube.svg?q=802") no-repeat;}
    
    
      .youtube:hover {background:url("https://static-www.elastic.co/assets/bltddeb6c6404ae81a5/youtube-hover.svg?q=802")}		
    
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
  MktoForms2.whenReady(function (form) {
  //    // Put your code that uses the form object here
  //   $('#Email').attr("placeholder","Email Address");
  //   $('#FirstName').attr("placeholder","First Name");
  //   $('#LastName').attr("placeholder","Last Name");
  //   $('#Form_Message').attr("placeholder","Tell us in your words");
  // // ========================End Mktoform placeholder==================
  });

  MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", 1398,function(form){
    form.onSuccess(function(form){
      $('#mktoForm_1398').css('display','none');
      $('.subscribe-wrapper .subscribe-form-container').hide();
      $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
      dataLayer.push({'event': 'mktoFormSubmit'});
        return false;
      });
  });
</script>
      </section>
    </div>
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";	
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","url":"/guide_template"}';
</script>
<script src="https://static-www.elastic.co/static/js/jquery.autocomplete.js?q=802"></script>
<script type="text/javascript" src="https://static-www.elastic.co/static/js/slick.min.js?q=802"></script>
<script src="https://static-www.elastic.co/static/js/nav-v5.js?q=802"></script>
<script src="https://static-www.elastic.co/static/js/script.js?q=802"></script> 
     
     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>