
<!DOCTYPE HTML>
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Scripting</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [2.3]" /><link rel="up" href="modules.html" title="Modules" /><link rel="prev" href="modules-plugins.html" title="Plugins" /><link rel="next" href="modules-advanced-scripting.html" title="Text scoring in scripts" /><meta name="DC.type" content="Docs/Elasticsearch/Reference/2.3" />
  
 	<meta http-equiv="content-type" content="text/html; charset=utf-8" />

 	<!-- RTP tag -->
	<script type='text/javascript' async>
	(function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
	 c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";
	 g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);
	 })(window,document,"rtp","//sjrtp2-cdn.marketo.com/rtp-api/v1/rtp.js","elasticco");

	rtp('send','view');
	rtp('get', 'campaign',true);
	</script>
	<!-- End of RTP tag -->

	
 	<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
<meta name="apple-mobile-web-app-title" content="Elastic">
<meta name="application-name" content="Elastic">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">

<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >


<!-- end DC tags -->

	<meta name="description" content="" />

	<link rel="canonical" href="" />

	<meta property="og:image" content="https://www.elastic.co/static/img/elastic-logo-200.png" />
	

		


	
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/skel.css?q=455" />
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/style.css?q=455" />
	<script src="https://static-www.elastic.co/static/js/skel.min.js?q=455"></script>
	
		<script type="text/javascript">form_name = "" ; cdn_url="https://static-www.elastic.co";cdn_slug = "455"</script>
	
	<script src="https://static-www.elastic.co/static/js/init.js?q=455"></script>
	<script src="https://static-www.elastic.co/static/js/jquery.min.js?q=455"></script>
	<script src="https://static-www.elastic.co/static/js/jquery.cookie.js?q=455"></script>
	<!--<script type="text/javascript">
	    (function() {
	        var path = '//easy.myfonts.net/v2/js?sid=10336(font-family=Avenir+35+Light)&sid=10338(font-family=Avenir+55+Roman)&sid=10340(font-family=Avenir+85+Heavy)&sid=10344(font-family=Avenir+65+Medium)&key=nAD6PCOPrX',
	            protocol = ('https:' == document.location.protocol ? 'https:' : 'http:'),
	            trial = document.createElement('script');
	        trial.type = 'text/javascript';
	        trial.async = true;
	        trial.src = protocol + path;
	        var head = document.getElementsByTagName("head")[0];
	        head.appendChild(trial);
	    })();
	</script>-->
	
	<link type="text/css" rel="stylesheet" href="/static/css/prettify.css" />
	<script type="text/javascript" src="/static/js/prettify.js"></script>



<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
<body >
	<!-- Google Tag Manager -->
	<script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
													  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-58RLH5');</script>
	<!-- End Google Tag Manager -->
	<!-- begin olark code -->
	<script data-cfasync="false" type='text/javascript'>/*<![CDATA[*/window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){
	f[z]=function(){
	(a.s=a.s||[]).push(arguments)};var a=f[z]._={
	},q=c.methods.length;while(q--){(function(n){f[z][n]=function(){
	f[z]("call",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={
	0:+new Date};a.P=function(u){
	a.p[u]=new Date-a.p[0]};function s(){
	a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){
	hd="head";return["<",hd,"></",hd,"><",i,' onl' + 'oad="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){
	return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){
	b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{
	b.contentWindow[g].open()}catch(w){
	c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{
	var t=b.contentWindow[g];t.write(p());t.close()}catch(x){
	b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({
	loader: "static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});
	/* custom configuration goes here (www.olark.com/documentation) */
	olark.identify('1356-750-10-5709');/*]]>*/</script><noscript><a href="https://www.olark.com/site/1356-750-10-5709/contact" title="Contact us" target="_blank">Questions? Feedback?</a> powered by <a href="http://www.olark.com?welcome" title="Olark live chat software">Olark live chat software</a></noscript>
	<!-- end olark code -->


	<div class="header-cont">
		<div id="header-wrapper">
			


	<script src="/static/js/jquery.tokeninput.js?change=123"></script>
	<link rel="stylesheet" type="text/css" href="/static/css/token-input.css">

<div class="shortcuts-wrapper">
	<div class="container">
		<!-- Shortcuts -->
		<nav id="shortcuts">
			<ul class="links">
				
					
					
						
						
					
					
					
						
					
					
					<li class="shortcut-1">
					

					
						<a href="/downloads" id="header_downloads">
							<span class="txt">downloads</span>
						</a>
					
					</li>
				
					
					
						
						
					
					
					
						
					
					
					<li class="shortcut-2">
					

					
						<a href="/guide" id="header_guide">
							<span class="txt">docs</span>
						</a>
					
					</li>
				
					
					
						
						
					
					
					
						
					
					
					<li class="shortcut-3">
					

					
						<a href="/subscriptions" id="header_subscriptions">
							<span class="txt">support</span>
						</a>
					
					</li>
				
					
					
						
						
					
					
					
						
					
					
					<li class="shortcut-4">
					

					
						<a href="https://discuss.elastic.co" id="header_forums" target="_blank">
							<span class="txt">forums</span>
						</a>
					
					</li>
				
					
					
						
						
					
					
					
						
						
					
					
					<li class="shortcut-5">
					

					
						<a href="/contact?storm=global-header-en" id="header_contact">
							<span class="txt">contact</span>
						</a>
					
					</li>
				
			</ul>
		</nav>
		<div class="languages-wrapper">
			<div class="global-language">
				<ul class="language">
					
						<li><a href="#">EN</a></li>
					
				</ul>
				<ul class="all-languages">
					
						
							
						
						<li><a href="/">English</a></li>
					
						
							
						
						<li><a href="/fr/">French</a></li>
					
						
							
						
						<li><a href="/de/">German</a></li>
					
						
							
						
						<li><a href="/jp/">Japanese</a></li>
					
						
							
						
						<li><a href="/kr/">Korean</a></li>
					
				</ul>
			</div>
		</div>
	</div>
</div>
<div class="container w100">
	<div class="row 0%">
		<div class="12u">
			

<section class="first-container desktop-main-nav">
	<div class="row 0%">
		<div class="11u 6u(small) 6u(xsmall)">
			<div id="elastic">
				<h1>
					<a href="/">
						<div id="elastic-logo">
						<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" viewBox="-155 383.3 687.5 235.7" xml:space="preserve" enable-background="new -155 383.3 687.5 235.7"><path fill="#FFFFFF" d="M81.6 506.8c0-19.8-12.3-37.2-30.8-43.9 0.8-4.2 1.2-8.4 1.2-12.7 0-36.9-30-66.9-66.8-66.9 -21.6 0-41.6 10.3-54.2 27.7 -6.2-4.8-13.8-7.4-21.7-7.4 -19.6 0-35.5 15.9-35.5 35.5 0 4.3 0.8 8.5 2.2 12.4 -18.4 6.6-31 24.3-31 44 0 19.9 12.4 37.3 30.9 44 -0.8 4.1-1.2 8.4-1.2 12.7 0 36.8 29.9 66.7 66.7 66.7 21.6 0 41.6-10.4 54.1-27.8 6.2 4.9 13.8 7.6 21.7 7.6 19.6 0 35.5-15.9 35.5-35.5 0-4.3-0.8-8.5-2.2-12.4C68.9 544.2 81.6 526.5 81.6 506.8"/><path fill="#FED10A" d="M-62 484.8l51.8 23.6L42 462.6c0.8-3.8 1.1-7.5 1.1-11.5 0-32.2-26.2-58.4-58.4-58.4 -19.3 0-37.2 9.5-48.1 25.4l-8.7 45.1L-62 484.8z"/><path fill="#24BBB1" d="M-115.6 539.6c-0.8 3.8-1.1 7.7-1.1 11.7 0 32.3 26.3 58.5 58.6 58.5 19.4 0 37.5-9.6 48.4-25.6l8.6-44.9 -11.5-22 -52-23.7L-115.6 539.6z"/><path fill="#EF5098" d="M-115.9 450l35.5 8.4 7.8-40.3c-4.8-3.7-10.8-5.7-17-5.7 -15.4 0-28 12.5-28 28C-117.6 443.7-117 447-115.9 450"/><path fill="#17A8E0" d="M-119 458.5c-15.8 5.2-26.9 20.4-26.9 37.1 0 16.3 10.1 30.8 25.2 36.6l49.8-45 -9.1-19.5L-119 458.5z"/><path fill="#93C83E" d="M-0.7 584.2c4.9 3.7 10.8 5.8 16.9 5.8 15.4 0 28-12.5 28-28 0-3.4-0.6-6.7-1.7-9.7L7.1 544 -0.7 584.2z"/><path fill="#0779A1" d="M6.5 534.7l39 9.1c15.9-5.2 26.9-20.4 26.9-37.2 0-16.2-10.1-30.8-25.2-36.5l-51 44.7L6.5 534.7z"/><path d="M175.8 548.8l4.7-0.5 0.3 9.6c-12.4 1.7-23 2.6-31.8 2.6 -11.7 0-20-3.4-24.9-10.2s-7.3-17.4-7.3-31.7c0-28.6 11.4-42.9 34.1-42.9 11 0 19.2 3.1 24.6 9.2s8.1 15.8 8.1 28.9l-0.7 9.3h-53.8c0 9 1.6 15.7 4.9 20 3.3 4.3 8.9 6.5 17 6.5C159.2 549.8 167.4 549.5 175.8 548.8zM171.4 513.5c0-10-1.6-17.1-4.8-21.2 -3.2-4.1-8.4-6.2-15.6-6.2s-12.7 2.2-16.3 6.5c-3.6 4.3-5.5 11.3-5.6 20.9H171.4z"/><path d="M200.6 559V442h12.2v117H200.6z"/><path d="M289.9 502.1v40.1c0 4.1 10.1 4.9 10.1 4.9l-0.6 10.8c-8.6 0-15.7 0.7-20-3.4 -9.8 4.3-19.5 6.1-29.3 6.1 -7.5 0-13.2-2.1-17.1-6.4 -3.9-4.2-5.9-10.3-5.9-18.3 0-7.9 2-13.8 6-17.5 4-3.7 10.3-6.1 18.9-6.9l25.6-2.4v-7c0-5.5-1.2-9.5-3.6-11.9 -2.4-2.4-5.7-3.6-9.8-3.6h-32.1v-10.8h31.3c9.2 0 15.9 2.1 20.1 6.4C287.8 486.4 289.9 493.1 289.9 502.1zM239.7 535.3c0 10 4.1 15 12.4 15 7.4 0 14.7-1.2 21.8-3.7l3.7-1.3v-26.9l-24.1 2.3c-4.9 0.4-8.4 1.8-10.6 4.2C240.7 527.3 239.7 530.8 239.7 535.3z"/><path d="M337.6 486.7c-11.8 0-17.8 4.1-17.8 12.4 0 3.8 1.4 6.5 4.1 8.1s8.9 3.2 18.6 4.9c9.7 1.7 16.5 4 20.5 7.1 4 3 6 8.7 6 17.1 0 8.4-2.7 14.5-8.1 18.4 -5.4 3.9-13.2 5.9-23.6 5.9 -6.7 0-29.2-2.5-29.2-2.5l0.7-10.6c12.9 1.2 22.3 2.2 28.6 2.2 6.3 0 11.1-1 14.4-3s5-5.4 5-10.1 -1.4-7.9-4.2-9.6c-2.8-1.7-9-3.3-18.6-4.8s-16.4-3.7-20.4-6.7c-4-2.9-6-8.4-6-16.3 0-7.9 2.8-13.8 8.4-17.6 5.6-3.8 12.6-5.7 20.9-5.7 6.6 0 29.6 1.7 29.6 1.7v10.7C354.4 487.6 344.5 486.7 337.6 486.7z"/><path d="M428 488.1h-25.9v39c0 9.3 0.7 15.5 2 18.4 1.4 2.9 4.6 4.4 9.7 4.4l14.5-1 0.8 10.1c-7.3 1.2-12.8 1.8-16.6 1.8 -8.5 0-14.3-2.1-17.6-6.2s-4.9-12-4.9-23.6v-42.9h-11.6v-10.6H390v-25h12.1v24.9H428V488.1z"/><path d="M445 459v-14.1h12.2v14.2L445 459 445 459zM445 559v-81.5h12.2V559H445z"/><path d="M510.2 475.8c3.6 0 9.7 0.7 18.3 2l3.9 0.5 -0.5 9.9c-8.7-1-15.1-1.5-19.2-1.5 -9.2 0-15.5 2.2-18.8 6.6s-5 12.6-5 24.5c0 11.9 1.5 20.2 4.6 24.9 3.1 4.7 9.5 7 19.3 7l19.2-1.5 0.5 10.1c-10.1 1.5-17.7 2.3-22.7 2.3 -12.7 0-21.5-3.3-26.3-9.8s-7.3-17.5-7.3-33 2.6-26.4 7.8-32.6C489.3 479 498 475.8 510.2 475.8z"/></svg>
						</div>
					</a>
				</h1>
			</div>
			<nav id="nav">
				<ul>
					
					<li>
						
							
						
						<a href="/products" id="nav_products"   >Products</a>
						
						<ul class="dropdown">
							
								<li>
									

									
										<a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a>
									
								</li>								
							
								<li>
									

									
										<a href="/cloud" id="nav_elasticsearch_as_a_service" >elasticsearch as a service</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/logstash" id="nav_logstash" >logstash</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/kibana" id="nav_kibana" >kibana</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/beats" id="nav_beats" >beats</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/watcher" id="nav_watcher" >watcher</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/shield" id="nav_shield" >shield</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/marvel" id="nav_marvel" >marvel</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/graph" id="nav_graph" >graph</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/hadoop" id="nav_hadoop" >hadoop</a>
									
								</li>								
							
								<li>
									

									
										<a href="/downloads" id="nav_downloads" >downloads</a>
									
								</li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/cloud" id="nav_cloud"   >Cloud</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/subscriptions" id="nav_subscriptions"   >Subscriptions</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/learn" id="nav_learn"   >Learn</a>
						
						<ul class="dropdown">
							
								<li>
									

									
										<a href="/guide" id="nav_guide" >docs</a>
									
								</li>								
							
								<li>
									

									
										<a href="/videos" id="nav_videos" >videos</a>
									
								</li>								
							
								<li>
									

									
										<a href="/training" id="nav_training" >training</a>
									
								</li>								
							
								<li>
									

									
										<a href="/services" id="nav_services" >services</a>
									
								</li>								
							
								<li>
									

									
										<a href="/blog" id="nav_learn_blog" >blog</a>
									
								</li>								
							
								<li>
									

									
										<a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a>
									
								</li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/community" id="nav_community"   >Community</a>
						
						<ul class="dropdown">
							
								<li>
									

									
										<a href="/community/meetups" id="nav_meetups" >meetups</a>
									
								</li>								
							
								<li>
									

									
										<a href="https://discuss.elastic.co" id="nav_forums" target="_blank">forums</a>
									
								</li>								
							
								<li>
									

									
										<a href="/community/codeofconduct" id="nav_codeofconduct" >code of conduct</a>
									
								</li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/use-cases" id="nav_usecases"   >Use Cases</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/blog" id="nav_blog"   >Blog</a>
						
						<ul class="dropdown">
							
								<li>
									

									
										<a href="/blog/category/news" id="blog_news" >News</a>
									
								</li>								
							
								<li>
									

									
										<a href="/blog/category/engineering" id="blog_engineering" >Engineering</a>
									
								</li>								
							
								<li>
									

									
										<a href="/blog/category/user-stories" id="blog_user-stories" >User Stories</a>
									
								</li>								
							
								<li>
									

									
										<a href="/blog/category/releases" id="blog_releases" >Releases</a>
									
								</li>								
							
								<li>
									

									
										<a href="/blog/archive" id="blog_archive" >Archive</a>
									
								</li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/about" id="nav_about"   >About</a>
						
						<ul class="dropdown">
							
								<li>
									

									
										<a href="/about/leadership" id="nav_leadership" >leadership</a>
									
								</li>								
							
								<li>
									

									
										<a href="/about/board" id="nav_board" >board of directors</a>
									
								</li>								
							
								<li>
									

									
										<a href="/about/careers" id="nav_careers" >careers</a>
									
								</li>								
							
								<li>
									

									
										<a href="/about/partners" id="nav_partners" >partners</a>
									
								</li>								
							
								<li>
									

									
										<a href="/about/press" id="nav_press" >press</a>
									
								</li>								
								
						</ul>							
					</li>
					
				</ul>
			</nav>			
		</div>
		<div class="1u 6u(small) 6u(xsmall)">
			<div id="searchbar">
				<a href="#" class="button icon"></a>
			</div>
		</div>
	</div>
</section>
<div class="mobile-menu-wrapper">
	<div class="row 0%">
		<div class="8u 6u(small) 6u(xsmall)">
			<div id="elastic">
				<h1>
					<a href="/">
						<div id="elastic-logo">
						<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" viewBox="-155 383.3 687.5 235.7" xml:space="preserve" enable-background="new -155 383.3 687.5 235.7"><path fill="#FFFFFF" d="M81.6 506.8c0-19.8-12.3-37.2-30.8-43.9 0.8-4.2 1.2-8.4 1.2-12.7 0-36.9-30-66.9-66.8-66.9 -21.6 0-41.6 10.3-54.2 27.7 -6.2-4.8-13.8-7.4-21.7-7.4 -19.6 0-35.5 15.9-35.5 35.5 0 4.3 0.8 8.5 2.2 12.4 -18.4 6.6-31 24.3-31 44 0 19.9 12.4 37.3 30.9 44 -0.8 4.1-1.2 8.4-1.2 12.7 0 36.8 29.9 66.7 66.7 66.7 21.6 0 41.6-10.4 54.1-27.8 6.2 4.9 13.8 7.6 21.7 7.6 19.6 0 35.5-15.9 35.5-35.5 0-4.3-0.8-8.5-2.2-12.4C68.9 544.2 81.6 526.5 81.6 506.8"/><path fill="#FED10A" d="M-62 484.8l51.8 23.6L42 462.6c0.8-3.8 1.1-7.5 1.1-11.5 0-32.2-26.2-58.4-58.4-58.4 -19.3 0-37.2 9.5-48.1 25.4l-8.7 45.1L-62 484.8z"/><path fill="#24BBB1" d="M-115.6 539.6c-0.8 3.8-1.1 7.7-1.1 11.7 0 32.3 26.3 58.5 58.6 58.5 19.4 0 37.5-9.6 48.4-25.6l8.6-44.9 -11.5-22 -52-23.7L-115.6 539.6z"/><path fill="#EF5098" d="M-115.9 450l35.5 8.4 7.8-40.3c-4.8-3.7-10.8-5.7-17-5.7 -15.4 0-28 12.5-28 28C-117.6 443.7-117 447-115.9 450"/><path fill="#17A8E0" d="M-119 458.5c-15.8 5.2-26.9 20.4-26.9 37.1 0 16.3 10.1 30.8 25.2 36.6l49.8-45 -9.1-19.5L-119 458.5z"/><path fill="#93C83E" d="M-0.7 584.2c4.9 3.7 10.8 5.8 16.9 5.8 15.4 0 28-12.5 28-28 0-3.4-0.6-6.7-1.7-9.7L7.1 544 -0.7 584.2z"/><path fill="#0779A1" d="M6.5 534.7l39 9.1c15.9-5.2 26.9-20.4 26.9-37.2 0-16.2-10.1-30.8-25.2-36.5l-51 44.7L6.5 534.7z"/><path d="M175.8 548.8l4.7-0.5 0.3 9.6c-12.4 1.7-23 2.6-31.8 2.6 -11.7 0-20-3.4-24.9-10.2s-7.3-17.4-7.3-31.7c0-28.6 11.4-42.9 34.1-42.9 11 0 19.2 3.1 24.6 9.2s8.1 15.8 8.1 28.9l-0.7 9.3h-53.8c0 9 1.6 15.7 4.9 20 3.3 4.3 8.9 6.5 17 6.5C159.2 549.8 167.4 549.5 175.8 548.8zM171.4 513.5c0-10-1.6-17.1-4.8-21.2 -3.2-4.1-8.4-6.2-15.6-6.2s-12.7 2.2-16.3 6.5c-3.6 4.3-5.5 11.3-5.6 20.9H171.4z"/><path d="M200.6 559V442h12.2v117H200.6z"/><path d="M289.9 502.1v40.1c0 4.1 10.1 4.9 10.1 4.9l-0.6 10.8c-8.6 0-15.7 0.7-20-3.4 -9.8 4.3-19.5 6.1-29.3 6.1 -7.5 0-13.2-2.1-17.1-6.4 -3.9-4.2-5.9-10.3-5.9-18.3 0-7.9 2-13.8 6-17.5 4-3.7 10.3-6.1 18.9-6.9l25.6-2.4v-7c0-5.5-1.2-9.5-3.6-11.9 -2.4-2.4-5.7-3.6-9.8-3.6h-32.1v-10.8h31.3c9.2 0 15.9 2.1 20.1 6.4C287.8 486.4 289.9 493.1 289.9 502.1zM239.7 535.3c0 10 4.1 15 12.4 15 7.4 0 14.7-1.2 21.8-3.7l3.7-1.3v-26.9l-24.1 2.3c-4.9 0.4-8.4 1.8-10.6 4.2C240.7 527.3 239.7 530.8 239.7 535.3z"/><path d="M337.6 486.7c-11.8 0-17.8 4.1-17.8 12.4 0 3.8 1.4 6.5 4.1 8.1s8.9 3.2 18.6 4.9c9.7 1.7 16.5 4 20.5 7.1 4 3 6 8.7 6 17.1 0 8.4-2.7 14.5-8.1 18.4 -5.4 3.9-13.2 5.9-23.6 5.9 -6.7 0-29.2-2.5-29.2-2.5l0.7-10.6c12.9 1.2 22.3 2.2 28.6 2.2 6.3 0 11.1-1 14.4-3s5-5.4 5-10.1 -1.4-7.9-4.2-9.6c-2.8-1.7-9-3.3-18.6-4.8s-16.4-3.7-20.4-6.7c-4-2.9-6-8.4-6-16.3 0-7.9 2.8-13.8 8.4-17.6 5.6-3.8 12.6-5.7 20.9-5.7 6.6 0 29.6 1.7 29.6 1.7v10.7C354.4 487.6 344.5 486.7 337.6 486.7z"/><path d="M428 488.1h-25.9v39c0 9.3 0.7 15.5 2 18.4 1.4 2.9 4.6 4.4 9.7 4.4l14.5-1 0.8 10.1c-7.3 1.2-12.8 1.8-16.6 1.8 -8.5 0-14.3-2.1-17.6-6.2s-4.9-12-4.9-23.6v-42.9h-11.6v-10.6H390v-25h12.1v24.9H428V488.1z"/><path d="M445 459v-14.1h12.2v14.2L445 459 445 459zM445 559v-81.5h12.2V559H445z"/><path d="M510.2 475.8c3.6 0 9.7 0.7 18.3 2l3.9 0.5 -0.5 9.9c-8.7-1-15.1-1.5-19.2-1.5 -9.2 0-15.5 2.2-18.8 6.6s-5 12.6-5 24.5c0 11.9 1.5 20.2 4.6 24.9 3.1 4.7 9.5 7 19.3 7l19.2-1.5 0.5 10.1c-10.1 1.5-17.7 2.3-22.7 2.3 -12.7 0-21.5-3.3-26.3-9.8s-7.3-17.5-7.3-33 2.6-26.4 7.8-32.6C489.3 479 498 475.8 510.2 475.8z"/></svg>
						</div>
					</a>
				</h1>
			</div>
		</div>
		<div class="4u 6u(small) 6u(xsmall) text-right">
			<!-- <div class="mobile-menu-wrapper"> -->
				<ul class="m-shortcuts">
					
						

						
							<li><a href="#" class="m-search" id="header-search"></a></li>
						
					
						

						
							<li><a href="/guide" class="m-docs" id="mobile-docs"></a></li>
						
					
						

						
							<li><a href="/contact" class="m-contact" id="mobile-contact"></a></li>
						
					
				</ul>	
				<nav class="nav-menu">
					<div class="menu-button">
						<span></span>
					</div>
					<div class="nav-menu-list-wrap">
						<div class="nav-menu-list">
							
								<h3><a href="/products" id="nav_products" >Products</a></h3>
								
								<ul>
									
									
									
									
										<li><a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a></li>
									
									
									
									
									
									
										<li><a href="/cloud" id="nav_elasticsearch_as_a_service" >elasticsearch as a service</a></li>
									
									
									
									
									
									
										<li><a href="/products/logstash" id="nav_logstash" >logstash</a></li>
									
									
									
									
									
									
										<li><a href="/products/kibana" id="nav_kibana" >kibana</a></li>
									
									
									
									
									
									
										<li><a href="/products/beats" id="nav_beats" >beats</a></li>
									
									
									
									
									
									
										<li><a href="/products/watcher" id="nav_watcher" >watcher</a></li>
									
									
									
									
									
									
										<li><a href="/products/shield" id="nav_shield" >shield</a></li>
									
									
									
									
									
									
										<li><a href="/products/marvel" id="nav_marvel" >marvel</a></li>
									
									
									
									
									
									
										<li><a href="/products/graph" id="nav_graph" >graph</a></li>
									
									
									
									
									
									
										<li><a href="/products/hadoop" id="nav_hadoop" >hadoop</a></li>
									
									
									
									
									
									
										<li><a href="/downloads" id="nav_downloads" >downloads</a></li>
									
									
									
								</ul>
								
							
								<h3><a href="/cloud" id="nav_cloud" >Cloud</a></h3>
								
							
								<h3><a href="/subscriptions" id="nav_subscriptions" >Subscriptions</a></h3>
								
							
								<h3><a href="/learn" id="nav_learn" >Learn</a></h3>
								
								<ul>
									
									
									
									
										<li><a href="/guide" id="nav_guide" >docs</a></li>
									
									
									
									
									
									
										<li><a href="/videos" id="nav_videos" >videos</a></li>
									
									
									
									
									
									
										<li><a href="/training" id="nav_training" >training</a></li>
									
									
									
									
									
									
										<li><a href="/services" id="nav_services" >services</a></li>
									
									
									
									
									
									
										<li><a href="/blog" id="nav_learn_blog" >blog</a></li>
									
									
									
									
									
									
										<li><a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a></li>
									
									
									
								</ul>
								
							
								<h3><a href="/community" id="nav_community" >Community</a></h3>
								
								<ul>
									
									
									
									
										<li><a href="/community/meetups" id="nav_meetups" >meetups</a></li>
									
									
									
									
									
									
										<li><a href="https://discuss.elastic.co" id="nav_forums" target="_blank">forums</a></li>
									
									
									
									
									
									
										<li><a href="/community/codeofconduct" id="nav_codeofconduct" >code of conduct</a></li>
									
									
									
								</ul>
								
							
								<h3><a href="/use-cases" id="nav_usecases" >Use Cases</a></h3>
								
							
								<h3><a href="/blog" id="nav_blog" >Blog</a></h3>
								
								<ul>
									
									
									
									
										<li><a href="/blog/category/news" id="blog_news" >News</a></li>
									
									
									
									
									
									
										<li><a href="/blog/category/engineering" id="blog_engineering" >Engineering</a></li>
									
									
									
									
									
									
										<li><a href="/blog/category/user-stories" id="blog_user-stories" >User Stories</a></li>
									
									
									
									
									
									
										<li><a href="/blog/category/releases" id="blog_releases" >Releases</a></li>
									
									
									
									
									
									
										<li><a href="/blog/archive" id="blog_archive" >Archive</a></li>
									
									
									
								</ul>
								
							
								<h3><a href="/about" id="nav_about" >About</a></h3>
								
								<ul>
									
									
									
									
										<li><a href="/about/leadership" id="nav_leadership" >leadership</a></li>
									
									
									
									
									
									
										<li><a href="/about/board" id="nav_board" >board of directors</a></li>
									
									
									
									
									
									
										<li><a href="/about/careers" id="nav_careers" >careers</a></li>
									
									
									
									
									
									
										<li><a href="/about/partners" id="nav_partners" >partners</a></li>
									
									
									
									
									
									
										<li><a href="/about/press" id="nav_press" >press</a></li>
									
									
									
								</ul>
								
							
						</div>
					</div>
				</nav>
			<!-- </div> -->
		</div>
	</div>
</div>
<!-- Mobile Menu -->


		</div>
	</div>
</div>
<div class="header-search-wrapper">	
	<div class="container">
		<div class="big-search">
			<i class="big-search-icon"></i>
			<form method="get" action="/search" autocomplete="on" name="searchForm" id="searchfrm">
				<ul class="tags-wrapper">
					<li class="search-field"><input type="text" class="form-control global-input" id="autocomplete" name="q"></li>
				</ul>
			</form>
			<a href="#" class="header-search-cancel"></a>
		</div>
		<div class="nav-auto-complete"></div>
	</div>
</div>
<style>	
	
	
		.m-shortcuts li a.m-search {
			background: url("https://static-www.elastic.co/assets/blt174b13be89ff803c/m-search-icon.png?q=455") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
	
		.m-shortcuts li a.m-docs {
			background: url("https://static-www.elastic.co/assets/blt5ba03f594a7d610a/m-guide-icon.png?q=455") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
	
		.m-shortcuts li a.m-contact {
			background: url("https://static-www.elastic.co/assets/blt38c3e853c4b1174d/m-contact-icon.png?q=455") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
		
</style>
		</div>
	</div>
  	<div id="content">
  		
	  			
            <div id="pageheader">
    <div class="container">
        <header>
            <h1><a href="/learn" title="Learn">Learn</a> |</h1>
            <h2><a href="/guide" title="Docs">Docs</a></h2>
        </header>
    </div>
</div>
<section id="guide">

            <!-- start body -->
<div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [2.3]
    </a></span> » <span class="breadcrumb-link"><a href="modules.html">Modules </a></span> » <span class="breadcrumb-node">Scripting</span></div><div class="navheader"><span class="prev"><a href="modules-plugins.html">
              « 
              Plugins</a>
           
        </span><span class="next">
           
          <a href="modules-advanced-scripting.html">Text scoring in scripts
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="modules-scripting"></a>Scripting<a href="https://github.com/elastic/elasticsearch/edit/2.3/docs/reference/modules/scripting/scripting.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>The scripting module allows to use scripts in order to evaluate custom
expressions. For example, scripts can be used to return "script fields"
as part of a search request, or can be used to evaluate a custom score
for a query and so on.</p><p>The scripting module uses by default <a class="ulink" href="http://groovy-lang.org/" target="_top">groovy</a>
(previously <a class="ulink" href="http://mvel.codehaus.org/" target="_top">mvel</a> in 1.3.x and earlier) as the
scripting language with some extensions. Groovy is used since it is extremely
fast and very simple to use.</p><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><h4>Groovy dynamic scripting off by default from v1.4.3</h4><p>Groovy dynamic scripting is off by default, preventing dynamic Groovy scripts
from being accepted as part of a request or retrieved from the special
<code class="literal">.scripts</code> index. You will still be able to use Groovy scripts stored in files
in the <code class="literal">config/scripts/</code> directory on every node.</p><p>To convert an inline script to a file, take this simple script
as an example:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /_search
{
  "script_fields": {
    "my_field": {
      "script": {
        "inline": "1 + my_var",
        "params": {
          "my_var": 2
        }
      }
    }
  }
}</pre></div><p>Save the contents of the <code class="literal">inline</code> field as a file called <code class="literal">config/scripts/my_script.groovy</code>
on every data node in the cluster:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">1 + my_var</pre></div><p>Now you can access the script by file name (without the extension):</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">GET /_search
{
  "script_fields": {
    "my_field": {
      "script": {
        "file": "my_script",
        "params": {
          "my_var": 2
        }
      }
    }
  }
}</pre></div></div></div><p>Additional <code class="literal">lang</code> plugins are provided to allow to execute scripts in
different languages. All places where a script can be used, a <code class="literal">lang</code> parameter
can be provided to define the language of the script. The following are the
supported scripting languages:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top">Language   </th><th align="left" valign="top">Sandboxed </th><th align="left" valign="top">Required plugin</th></tr></thead><tbody><tr><td align="left" valign="top"><p>groovy</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>built-in</p></td></tr><tr><td align="left" valign="top"><p>expression</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>built-in</p></td></tr><tr><td align="left" valign="top"><p>mustache</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>built-in</p></td></tr><tr><td align="left" valign="top"><p>javascript</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p><a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/plugins/2.3/lang-javascript.html" target="_top">elasticsearch-lang-javascript</a></p></td></tr><tr><td align="left" valign="top"><p>python</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p><a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/plugins/2.3/lang-python.html" target="_top">elasticsearch-lang-python</a></p></td></tr></tbody></table></div><p>To increase security, Elasticsearch does not allow you to specify scripts for
non-sandboxed languages with a request. Instead, scripts must be placed in the
<code class="literal">scripts</code> directory inside the configuration directory (the directory where
elasticsearch.yml is). The default location of this <code class="literal">scripts</code> directory can be
changed by setting <code class="literal">path.scripts</code> in elasticsearch.yml. Scripts placed into
this directory will automatically be picked up and be available to be used.
Once a script has been placed in this directory, it can be referenced by name.
For example, a script called <code class="literal">calculate-score.groovy</code> can be referenced in a
request like this:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">$ tree config
config
├── elasticsearch.yml
├── logging.yml
└── scripts
    └── calculate-score.groovy</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">$ cat config/scripts/calculate-score.groovy
log(_score * 2) + my_modifier</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">curl -XPOST localhost:9200/_search -d '{
  "query": {
    "function_score": {
      "query": {
        "match": {
          "body": "foo"
        }
      },
      "functions": [
        {
          "script_score": {
            "script": {
              "lang": "groovy",
              "file": "calculate-score",
              "params": {
                "my_modifier": 8
              }
            }
          }
        }
      ]
    }
  }
}'</pre></div><p>The name of the script is derived from the hierarchy of directories it
exists under, and the file name without the lang extension. For example,
a script placed under <code class="literal">config/scripts/group1/group2/test.py</code> will be
named <code class="literal">group1_group2_test</code>.</p><h3><a id="_indexed_scripts"></a>Indexed Scripts<a href="https://github.com/elastic/elasticsearch/edit/2.3/docs/reference/modules/scripting/scripting.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Elasticsearch allows you to store scripts in an internal index known as
<code class="literal">.scripts</code> and reference them by id. There are REST endpoints to manage
indexed scripts as follows:</p><p>Requests to the scripts endpoint look like :</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">/_scripts/{lang}/{id}</pre></div><p>Where the <code class="literal">lang</code> part is the language the script is in and the <code class="literal">id</code> part is the id
of the script. In the <code class="literal">.scripts</code> index the type of the document will be set to the <code class="literal">lang</code>.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">curl -XPOST localhost:9200/_scripts/groovy/indexedCalculateScore -d '{
     "script": "log(_score * 2) + my_modifier"
}'</pre></div><p>This will create a document with id: <code class="literal">indexedCalculateScore</code> and type: <code class="literal">groovy</code> in the
<code class="literal">.scripts</code> index. The type of the document is the language used by the script.</p><p>This script can be accessed at query time by using the <code class="literal">id</code> script parameter and passing
the script id:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">curl -XPOST localhost:9200/_search -d '{
  "query": {
    "function_score": {
      "query": {
        "match": {
          "body": "foo"
        }
      },
      "functions": [
        {
          "script_score": {
            "script": {
              "id": "indexedCalculateScore",
              "lang" : "groovy",
              "params": {
                "my_modifier": 8
              }
            }
          }
        }
      ]
    }
  }
}'</pre></div><p>The script can be viewed by:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">curl -XGET localhost:9200/_scripts/groovy/indexedCalculateScore</pre></div><p>This is rendered as:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">'{
     "script": "log(_score * 2) + my_modifier"
}'</pre></div><p>Indexed scripts can be deleted by:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">curl -XDELETE localhost:9200/_scripts/groovy/indexedCalculateScore</pre></div><h3><a id="enable-dynamic-scripting"></a>Enabling dynamic scripting<a href="https://github.com/elastic/elasticsearch/edit/2.3/docs/reference/modules/scripting/scripting.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>We recommend running Elasticsearch behind an application or proxy, which
protects Elasticsearch from the outside world. If users are allowed to run
inline scripts (even in a search request) or indexed scripts, then they have
the same access to your box as the user that Elasticsearch is running as. For
this reason dynamic scripting is allowed only for sandboxed languages by default.</p><p>First, you should not run Elasticsearch as the <code class="literal">root</code> user, as this would allow
a script to access or do <span class="strong"><strong>anything</strong></span> on your server, without limitations. Second,
you should not expose Elasticsearch directly to users, but instead have a proxy
application inbetween. If you <span class="strong"><strong>do</strong></span> intend to expose Elasticsearch directly to
your users, then you have to decide whether you trust them enough to run scripts
on your box or not.</p><p>It is possible to enable scripts based on their source, for
every script engine, through the following settings that need to be added to the
<code class="literal">config/elasticsearch.yml</code> file on every node.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">script.inline: true
script.indexed: true</pre></div><p>While this still allows execution of named scripts provided in the config, or
<span class="emphasis"><em>native</em></span> Java scripts registered through plugins, it also allows users to run
arbitrary scripts via the API. Instead of sending the name of the file as the
script, the body of the script can be sent instead or retrieved from the
<code class="literal">.scripts</code> indexed if previously stored.</p><p>There are three possible configuration values for any of the fine-grained
script settings:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Value </th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p>scripting is turned off completely, in the context of the setting being set.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">true</code></p></td><td align="left" valign="top"><p>scripting is turned on, in the context of the setting being set.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">sandbox</code></p></td><td align="left" valign="top"><p>scripts may be executed only for languages that are sandboxed</p></td></tr></tbody></table></div><p>The default values are the following:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">script.inline: sandbox
script.indexed: sandbox
script.file: true</pre></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>Global scripting settings affect the <code class="literal">mustache</code> scripting language.
<a class="link" href="search-template.html" title="Search Template">Search templates</a> internally use the <code class="literal">mustache</code> language,
and will still be enabled by default as the <code class="literal">mustache</code> engine is sandboxed,
but they will be enabled/disabled according to fine-grained settings
specified in <code class="literal">elasticsearch.yml</code>.</p></div></div><p>It is also possible to control which operations can execute scripts. The
supported operations are:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Value </th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">aggs</code></p></td><td align="left" valign="top"><p>Aggregations (wherever they may be used)</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">search</code></p></td><td align="left" valign="top"><p>Search api, Percolator api and Suggester api (e.g filters, script_fields)</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">update</code></p></td><td align="left" valign="top"><p>Update api</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">plugin</code></p></td><td align="left" valign="top"><p>Any plugin that makes use of scripts under the generic <code class="literal">plugin</code> category</p></td></tr></tbody></table></div><p>Plugins can also define custom operations that they use scripts for instead
of using the generic <code class="literal">plugin</code> category. Those operations can be referred to
in the following form: <code class="literal">${pluginName}_${operation}</code>.</p><p>The following example disables scripting for <code class="literal">update</code> and <code class="literal">mapping</code> operations,
regardless of the script source, for any engine. Scripts can still be
executed from sandboxed languages as part of <code class="literal">aggregations</code>, <code class="literal">search</code>
and plugins execution though, as the above defaults still get applied.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">script.update: false
script.mapping: false</pre></div><p>Generic settings get applied in order, operation based ones have precedence
over source based ones. Language specific settings are supported too. They
need to be prefixed with the <code class="literal">script.engine.&lt;engine&gt;</code> prefix and have
precedence over any other generic settings.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">script.engine.groovy.file.aggs: true
script.engine.groovy.file.mapping: true
script.engine.groovy.file.search: true
script.engine.groovy.file.update: true
script.engine.groovy.file.plugin: true
script.engine.groovy.indexed.aggs: true
script.engine.groovy.indexed.mapping: false
script.engine.groovy.indexed.search: true
script.engine.groovy.indexed.update: false
script.engine.groovy.indexed.plugin: false
script.engine.groovy.inline.aggs: true
script.engine.groovy.inline.mapping: false
script.engine.groovy.inline.search: false
script.engine.groovy.inline.update: false
script.engine.groovy.inline.plugin: false</pre></div><h3><a id="_default_scripting_language"></a>Default Scripting Language<a href="https://github.com/elastic/elasticsearch/edit/2.3/docs/reference/modules/scripting/scripting.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The default scripting language (assuming no <code class="literal">lang</code> parameter is provided) is
<code class="literal">groovy</code>. In order to change it, set the <code class="literal">script.default_lang</code> to the
appropriate language.</p><h3><a id="_automatic_script_reloading"></a>Automatic Script Reloading<a href="https://github.com/elastic/elasticsearch/edit/2.3/docs/reference/modules/scripting/scripting.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The <code class="literal">config/scripts</code> directory is scanned periodically for changes.
New and changed scripts are reloaded and deleted script are removed
from preloaded scripts cache. The reload frequency can be specified
using <code class="literal">resource.reload.interval</code> setting, which defaults to <code class="literal">60s</code>.
To disable script reloading completely set <code class="literal">script.auto_reload_enabled</code>
to <code class="literal">false</code>.</p><h3><a id="native-java-scripts"></a>Native (Java) Scripts<a href="https://github.com/elastic/elasticsearch/edit/2.3/docs/reference/modules/scripting/scripting.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Sometimes <code class="literal">groovy</code> and <code class="literal">expressions</code> aren’t enough. For those times you can
implement a native script.</p><p>The best way to implement a native script is to write a plugin and install it.
The plugin <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/plugins/2.3/plugin-authors.html" target="_top">documentation</a> has more information on
how to write a plugin so that Elasticsearch will properly load it.</p><p>To register the actual script you’ll need to implement <code class="literal">NativeScriptFactory</code>
to construct the script. The actual script will extend either
<code class="literal">AbstractExecutableScript</code> or <code class="literal">AbstractSearchScript</code>. The second one is likely
the most useful and has several helpful subclasses you can extend like
<code class="literal">AbstractLongSearchScript</code>, <code class="literal">AbstractDoubleSearchScript</code>, and
<code class="literal">AbstractFloatSearchScript</code>. Finally, your plugin should register the native
script by declaring the <code class="literal">onModule(ScriptModule)</code> method.</p><p>If you squashed the whole thing into one class it’d look like:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">public class MyNativeScriptPlugin extends Plugin {
    @Override
    public String name() {
        return "my-native-script";
    }
    @Override
    public String description() {
        return "my native script that does something great";
    }
    public void onModule(ScriptModule scriptModule) {
        scriptModule.registerScript("my_script", MyNativeScriptFactory.class);
    }

    public static class MyNativeScriptFactory implements NativeScriptFactory {
        @Override
        public ExecutableScript newScript(@Nullable Map&lt;String, Object&gt; params) {
            return new MyNativeScript();
        }
        @Override
        public boolean needsScores() {
            return false;
        }
    }

    public static class MyNativeScript extends AbstractFloatSearchScript {
        @Override
        public float runAsFloat() {
            float a = (float) source().get("a");
            float b = (float) source().get("b");
            return a * b;
        }
    }
}</pre></div><p>You can execute the script by specifying its <code class="literal">lang</code> as <code class="literal">native</code>, and the name
of the script as the <code class="literal">inline</code>:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">curl -XPOST localhost:9200/_search -d '{
  "query": {
    "function_score": {
      "query": {
        "match": {
          "body": "foo"
        }
      },
      "functions": [
        {
          "script_score": {
            "script": {
                "inline": "my_script",
                "lang" : "native"
            }
          }
        }
      ]
    }
  }
}'</pre></div><h3><a id="_lucene_expressions_scripts"></a>Lucene Expressions Scripts<a href="https://github.com/elastic/elasticsearch/edit/2.3/docs/reference/modules/scripting/scripting.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>The Lucene expressions module is undergoing significant development and the exposed functionality is likely to change in the future.</p></div></div><p>Lucene’s expressions module provides a mechanism to compile a
<code class="literal">javascript</code> expression to bytecode.  This allows very fast execution,
as if you had written a <code class="literal">native</code> script.  Expression scripts can be
used in <code class="literal">script_score</code>, <code class="literal">script_fields</code>, sort scripts and numeric aggregation scripts.</p><p>See the <a class="ulink" href="http://lucene.apache.org/core/4_9_0/expressions/index.html?org/apache/lucene/expressions/js/package-summary.html" target="_top">expressions module documentation</a>
for details on what operators and functions are available.</p><p>Variables in <code class="literal">expression</code> scripts are available to access:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Single valued document fields, e.g. <code class="literal">doc['myfield'].value</code>
</li><li class="listitem">
Single valued document fields can also be accessed without <code class="literal">.value</code> e.g. <code class="literal">doc['myfield']</code>
</li><li class="listitem">
Parameters passed into the script, e.g. <code class="literal">mymodifier</code>
</li><li class="listitem">
The current document’s score, <code class="literal">_score</code> (only available when used in a <code class="literal">script_score</code>)
</li></ul></div><p>Variables in <code class="literal">expression</code> scripts that are of type <code class="literal">date</code> may use the following member methods:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
getYear()
</li><li class="listitem">
getMonth()
</li><li class="listitem">
getDayOfMonth()
</li><li class="listitem">
getHourOfDay()
</li><li class="listitem">
getMinutes()
</li><li class="listitem">
getSeconds()
</li></ul></div><p>The following example shows the difference in years between the <code class="literal">date</code> fields date0 and date1:</p><p><code class="literal">doc['date1'].getYear() - doc['date0'].getYear()</code></p><p>There are a few limitations relative to other script languages:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Only numeric fields may be accessed
</li><li class="listitem">
Stored fields are not available
</li><li class="listitem">
If a field is sparse (only some documents contain a value), documents missing the field will have a value of <code class="literal">0</code>
</li></ul></div><h3><a id="_score"></a>Score<a href="https://github.com/elastic/elasticsearch/edit/2.3/docs/reference/modules/scripting/scripting.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>In all scripts that can be used in aggregations, the current
document’s score is accessible in <code class="literal">_score</code>.</p><h3><a id="_computing_scores_based_on_terms_in_scripts"></a>Computing scores based on terms in scripts<a href="https://github.com/elastic/elasticsearch/edit/2.3/docs/reference/modules/scripting/scripting.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>see <a class="link" href="modules-advanced-scripting.html" title="Text scoring in scripts">advanced scripting documentation</a></p><h3><a id="_document_fields"></a>Document Fields<a href="https://github.com/elastic/elasticsearch/edit/2.3/docs/reference/modules/scripting/scripting.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Most scripting revolve around the use of specific document fields data.
The <code class="literal">doc['field_name']</code> can be used to access specific field data within
a document (the document in question is usually derived by the context
the script is used). Document fields are very fast to access since they
end up being loaded into memory (all the relevant field values/tokens
are loaded to memory). Note, however, that the <code class="literal">doc[...]</code> notation only
allows for simple valued fields (can’t return a json object from it)
and makes sense only on non-analyzed or single term based fields.</p><p>The following data can be extracted from a field:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Expression </th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].value</code></p></td><td align="left" valign="top"><p>The native value of the field. For example,
if its a short type, it will be short.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].values</code></p></td><td align="left" valign="top"><p>The native array values of the field. For
example, if its a short type, it will be short[]. Remember, a field can
have several values within a single doc. Returns an empty array if the
field has no values.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].empty</code></p></td><td align="left" valign="top"><p>A boolean indicating if the field has no
values within the doc.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].lat</code></p></td><td align="left" valign="top"><p>The latitude of a geo point type.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].lon</code></p></td><td align="left" valign="top"><p>The longitude of a geo point type.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].lats</code></p></td><td align="left" valign="top"><p>The latitudes of a geo point type.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].lons</code></p></td><td align="left" valign="top"><p>The longitudes of a geo point type.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].distance(lat, lon)</code></p></td><td align="left" valign="top"><p>The <code class="literal">plane</code> distance (in meters)
of this geo point field from the provided lat/lon.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].distanceWithDefault(lat, lon, default)</code></p></td><td align="left" valign="top"><p>The <code class="literal">plane</code> distance (in meters)
of this geo point field from the provided lat/lon with a default value.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].distanceInMiles(lat, lon)</code></p></td><td align="left" valign="top"><p>The <code class="literal">plane</code> distance (in
miles) of this geo point field from the provided lat/lon.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].distanceInMilesWithDefault(lat, lon, default)</code></p></td><td align="left" valign="top"><p>The <code class="literal">plane</code> distance (in
miles) of this geo point field from the provided lat/lon with a default value.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].distanceInKm(lat, lon)</code></p></td><td align="left" valign="top"><p>The <code class="literal">plane</code> distance (in
km) of this geo point field from the provided lat/lon.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].distanceInKmWithDefault(lat, lon, default)</code></p></td><td align="left" valign="top"><p>The <code class="literal">plane</code> distance (in
km) of this geo point field from the provided lat/lon with a default value.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].arcDistance(lat, lon)</code></p></td><td align="left" valign="top"><p>The <code class="literal">arc</code> distance (in
meters) of this geo point field from the provided lat/lon.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].arcDistanceWithDefault(lat, lon, default)</code></p></td><td align="left" valign="top"><p>The <code class="literal">arc</code> distance (in
meters) of this geo point field from the provided lat/lon with a default value.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].arcDistanceInMiles(lat, lon)</code></p></td><td align="left" valign="top"><p>The <code class="literal">arc</code> distance (in
miles) of this geo point field from the provided lat/lon.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].arcDistanceInMilesWithDefault(lat, lon, default)</code></p></td><td align="left" valign="top"><p>The <code class="literal">arc</code> distance (in
miles) of this geo point field from the provided lat/lon with a default value.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].arcDistanceInKm(lat, lon)</code></p></td><td align="left" valign="top"><p>The <code class="literal">arc</code> distance (in
km) of this geo point field from the provided lat/lon.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].arcDistanceInKmWithDefault(lat, lon, default)</code></p></td><td align="left" valign="top"><p>The <code class="literal">arc</code> distance (in
km) of this geo point field from the provided lat/lon with a default value.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].factorDistance(lat, lon)</code></p></td><td align="left" valign="top"><p>The distance factor of this geo point field from the provided lat/lon.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].factorDistance(lat, lon, default)</code></p></td><td align="left" valign="top"><p>The distance factor of this geo point field from the provided lat/lon with a default value.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].geohashDistance(geohash)</code></p></td><td align="left" valign="top"><p>The <code class="literal">arc</code> distance (in meters)
of this geo point field from the provided geohash.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].geohashDistanceInKm(geohash)</code></p></td><td align="left" valign="top"><p>The <code class="literal">arc</code> distance (in km)
of this geo point field from the provided geohash.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">doc['field_name'].geohashDistanceInMiles(geohash)</code></p></td><td align="left" valign="top"><p>The <code class="literal">arc</code> distance (in
miles) of this geo point field from the provided geohash.</p></td></tr></tbody></table></div><h3><a id="_stored_fields"></a>Stored Fields<a href="https://github.com/elastic/elasticsearch/edit/2.3/docs/reference/modules/scripting/scripting.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Stored fields can also be accessed when executing a script. Note, they
are much slower to access compared with document fields, as they are not
loaded into memory. They can be simply accessed using
<code class="literal">_fields['my_field_name'].value</code> or <code class="literal">_fields['my_field_name'].values</code>.</p><h3><a id="_accessing_the_score_of_a_document_within_a_script"></a>Accessing the score of a document within a script<a href="https://github.com/elastic/elasticsearch/edit/2.3/docs/reference/modules/scripting/scripting.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>When using scripting for calculating the score of a document (for instance, with
the <code class="literal">function_score</code> query), you can access the score using the <code class="literal">_score</code>
variable inside of a Groovy script.</p><h3><a id="_source_field"></a>Source Field<a href="https://github.com/elastic/elasticsearch/edit/2.3/docs/reference/modules/scripting/scripting.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The source field can also be accessed when executing a script. The
source field is loaded per doc, parsed, and then provided to the script
for evaluation. The <code class="literal">_source</code> forms the context under which the source
field can be accessed, for example <code class="literal">_source.obj2.obj1.field3</code>.</p><p>Accessing <code class="literal">_source</code> is much slower compared to using <code class="literal">doc</code>
but the data is not loaded into memory. For a single field access <code class="literal">_fields</code> may be
faster than using <code class="literal">_source</code> due to the extra overhead of potentially parsing large documents.
However, <code class="literal">_source</code> may be faster if you access multiple fields or if the source has already been
loaded for other purposes.</p><h3><a id="_groovy_built_in_functions"></a>Groovy Built In Functions<a href="https://github.com/elastic/elasticsearch/edit/2.3/docs/reference/modules/scripting/scripting.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>There are several built in functions that can be used within scripts.
They include:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Function </th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">sin(a)</code></p></td><td align="left" valign="top"><p>Returns the trigonometric sine of an angle.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">cos(a)</code></p></td><td align="left" valign="top"><p>Returns the trigonometric cosine of an angle.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">tan(a)</code></p></td><td align="left" valign="top"><p>Returns the trigonometric tangent of an angle.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">asin(a)</code></p></td><td align="left" valign="top"><p>Returns the arc sine of a value.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">acos(a)</code></p></td><td align="left" valign="top"><p>Returns the arc cosine of a value.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">atan(a)</code></p></td><td align="left" valign="top"><p>Returns the arc tangent of a value.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">toRadians(angdeg)</code></p></td><td align="left" valign="top"><p>Converts an angle measured in degrees to an
approximately equivalent angle measured in radians</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">toDegrees(angrad)</code></p></td><td align="left" valign="top"><p>Converts an angle measured in radians to an
approximately equivalent angle measured in degrees.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">exp(a)</code></p></td><td align="left" valign="top"><p>Returns Euler’s number <span class="emphasis"><em>e</em></span> raised to the power of value.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">log(a)</code></p></td><td align="left" valign="top"><p>Returns the natural logarithm (base <span class="emphasis"><em>e</em></span>) of a value.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">log10(a)</code></p></td><td align="left" valign="top"><p>Returns the base 10 logarithm of a value.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">sqrt(a)</code></p></td><td align="left" valign="top"><p>Returns the correctly rounded positive square root of a
value.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">cbrt(a)</code></p></td><td align="left" valign="top"><p>Returns the cube root of a double value.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">IEEEremainder(f1, f2)</code></p></td><td align="left" valign="top"><p>Computes the remainder operation on two
arguments as prescribed by the IEEE 754 standard.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ceil(a)</code></p></td><td align="left" valign="top"><p>Returns the smallest (closest to negative infinity) value
that is greater than or equal to the argument and is equal to a
mathematical integer.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">floor(a)</code></p></td><td align="left" valign="top"><p>Returns the largest (closest to positive infinity) value
that is less than or equal to the argument and is equal to a
mathematical integer.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">rint(a)</code></p></td><td align="left" valign="top"><p>Returns the value that is closest in value to the argument
and is equal to a mathematical integer.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">atan2(y, x)</code></p></td><td align="left" valign="top"><p>Returns the angle <span class="emphasis"><em>theta</em></span> from the conversion of
rectangular coordinates (<span class="emphasis"><em>x</em></span>, <span class="emphasis"><em>y</em></span>) to polar coordinates (r,<span class="emphasis"><em>theta</em></span>).</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">pow(a, b)</code></p></td><td align="left" valign="top"><p>Returns the value of the first argument raised to the
power of the second argument.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">round(a)</code></p></td><td align="left" valign="top"><p>Returns the closest <span class="emphasis"><em>int</em></span> to the argument.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">random()</code></p></td><td align="left" valign="top"><p>Returns a random <span class="emphasis"><em>double</em></span> value.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">abs(a)</code></p></td><td align="left" valign="top"><p>Returns the absolute value of a value.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">max(a, b)</code></p></td><td align="left" valign="top"><p>Returns the greater of two values.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">min(a, b)</code></p></td><td align="left" valign="top"><p>Returns the smaller of two values.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ulp(d)</code></p></td><td align="left" valign="top"><p>Returns the size of an ulp of the argument.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">signum(d)</code></p></td><td align="left" valign="top"><p>Returns the signum function of the argument.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">sinh(x)</code></p></td><td align="left" valign="top"><p>Returns the hyperbolic sine of a value.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">cosh(x)</code></p></td><td align="left" valign="top"><p>Returns the hyperbolic cosine of a value.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">tanh(x)</code></p></td><td align="left" valign="top"><p>Returns the hyperbolic tangent of a value.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">hypot(x, y)</code></p></td><td align="left" valign="top"><p>Returns sqrt(<span class="emphasis"><em>x2</em></span> + <span class="emphasis"><em>y2</em></span>) without intermediate overflow
or underflow.</p></td></tr></tbody></table></div></div><div class="navfooter"><span class="prev"><a href="modules-plugins.html">
              « 
              Plugins</a>
           
        </span><span class="next">
           
          <a href="modules-advanced-scripting.html">Text scoring in scripts
               »
            </a></span></div>
<!-- end body -->

            </section>

            <div id="rtpcontainer"
        >
	<h3>Top Videos</h3>
	<ul class="lists">
		<li><a href="https://www.elastic.co/webinars/elasticsearch-2-0-overview?baymax=default&elektra=docs&storm=top-video">Getting Started</a></li>
		<li><a href="http://www.elastic.co/webinars/elasticsearch-performance-optimization-tale-two-tickets/?elektra=docs">Scaling</a></li>
		<li><a href="http://www.elastic.co/webinars/shield-securing-your-data-in-elasticsearch/?elektra=docs">Security</a></li>
	</ul>
</div>


	  	



<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
	<!-- subscribe-newsletter -->
	<div id="subscribe-newsletter">
		<div class="container">
			<div class="row">
				<div class="12u">
					<div class="subscribe-wrapper" id="rtp-newsletter">
						<header>
							<h3>Subscribe to our newsletter</h3>
						</header>
						<div class="subscribe-form">
							<form id="mktoForm_1398" class="container sb-form"></form>
							<div class="form_thanks hide">
								
									<p>Thanks for subscribing! We'll keep you updated with new releases.</p>
								
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

  	<!-- Footer -->
	<div id="footer-wrapper">
		<section id="footer" class="container">
			<div class="row">
				<div class="12u">
					<!-- Copyright -->
					<div id="copyright">
	<p>
		© 2016. All Rights Reserved - Elasticsearch
	</p>
	<ul class="links">
		<li>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries</li>
		<li><a href="/legal/trademarks" id="footer_trademarks">Trademarks</a></li>
		<li><a href="/legal/terms-of-use" id="footer_terms">Terms</a></li>
		<li><a href="/legal/privacy-policy" id="footer_privacy">Privacy</a></li>
<li><a href="/brand" id="footer_brand">Brand</a></li>
	</ul>
	<p>
		Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other&nbsp;countries.
	</p>
</div>
<!--<div class="row">
{replace4}
</div>-->
				</div>
			</div>
		</section>
	</div>

	<!-- Social Media -->
	<div id="socialmedia-wrapper">
		<section id="socialmedia" class="container">
			<!-- social icons -->
			<div id="social">
				<ul class="links">
					
						<li class="facebook grayscale"><a href="http://www.facebook.com/elastic.co" target="_blank" id="footer_facebook"></a></li>
					
						<li class="twitter grayscale"><a href="https://www.twitter.com/elastic" target="_blank" id="footer_twitter"></a></li>
					
						<li class="linkedin grayscale"><a href="https://www.linkedin.com/company/elastic-co" target="_blank" id="footer_linkedin"></a></li>
					
						<li class="xing grayscale"><a href="https://www.xing.com/companies/elastic.co" target="_blank" id="footer_xing"></a></li>
					
						<li class="youtube grayscale"><a href="https://www.youtube.com/user/elasticsearch" target="_blank" id="footer_youtube"></a></li>
					
				</ul>
			</div>
		</section>
	</div>

<style type="text/css">
	
		.facebook{background:url("https://static-www.elastic.co/assets/bltda40eebd7c7cae9a/facebook.svg?q=455") no-repeat;}
	
		.twitter{background:url("https://static-www.elastic.co/assets/bltfd3b1511512f4632/twitter.svg?q=455") no-repeat;}
	
		.linkedin{background:url("https://static-www.elastic.co/assets/blt6b4f6f8d6b96f814/linkedin.svg?q=455") no-repeat;}
	
		.xing{background:url("https://static-www.elastic.co/assets/blta76b2ae2b2f10a98/xing.svg?q=455") no-repeat;}
	
		.youtube{background:url("https://static-www.elastic.co/assets/blt5761648c9581fb53/youtube.svg?q=455") no-repeat;}
	
</style>

<script>
MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", 1398,function(form){
	form.onSuccess(function(form){
		$('#mktoForm_1398').css('display','none');
		$('#subscribe-newsletter header').hide();
		$('#mktoForm_1398').siblings('.form_thanks').removeClass('hide')
		dataLayer.push({'event': 'mktoFormSubmit'});
	    return false;
  	});
});
</script>


  	</div>
  	<!-- <div class="preloader">
    	<div class="status"></div>
	</div> -->
  	<style></style>
   	<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";	
</script>
<script src="https://static-www.elastic.co/static/js/jquery.autocomplete.js?q=455"></script>
<script src="https://static-www.elastic.co/static/js/script.js?q=455"></script>


   	

   	

            <script type="text/javascript" src="docs.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script type='text/javascript' src='https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js'></script>

            </body>
        
