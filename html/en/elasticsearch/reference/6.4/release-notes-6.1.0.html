<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Elasticsearch version 6.1.0
        | Elasticsearch Reference [6.4]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [6.4]" /><link rel="up" href="es-release-notes.html" title="Release Notes" /><link rel="prev" href="release-notes-6.1.1.html" title="Elasticsearch version 6.1.1" /><link rel="next" href="release-notes-6.0.1.html" title="Elasticsearch version 6.0.1" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/6.4" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="6.4" />
    

    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
<meta name="apple-mobile-web-app-title" content="Elastic">
<meta name="application-name" content="Elastic">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">
<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >



	



<!-- end DC tags -->


	<meta name="description" content="" />



	<meta name="localized" content="true" />


















		
			<meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
		

		

    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">

	 

    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    
    

    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

  <script type="text/javascript">
  // -------------------- set language based on browser language --------------------
  var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

  if($.cookie("is_lang_detected") == undefined){
    if(locales[lang] != undefined && locales[lang] != currentlocale){
      locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
      $.cookie("is_lang_detected",true ,{ path: '/'}); 
      window.location = locale_lang_url;
    } 
  }
        
  // --------------------- end of set language based on browser language -----------------
  </script>


	
	<link type="text/css" rel="stylesheet" href="/static/css/guide.css" />


  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
  <body >
  	<!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
                              height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
<script src="/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>


<script type="text/javascript">
  var active;
  
  active = Math.random() < 1 //0.9 
  
  elasticApm.init({
    active: active,
    serviceName: "elastic-co-frontend",
    serverUrl: "https://elastic-co-apm-server.app.elstc.co"
  })

  var pageLoadName
  var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
  var parts = pathname.split('/');

  if (parts.length && parts[1] === 'blog') {
    if (parts.length === 2) {
      pageLoadName =  '/blog';
    }
    else if (parts[2] === 'category') {
      pageLoadName =  '/blog/category';
    }
    else if (parts[2] === 'archive') {
      pageLoadName =  '/blog/archive';
    }
    else {
      pageLoadName =  '/blog/detail';
    }
  }
  else if (parts.length && parts[1] === 'elasticon') {
    if (parts.length === 2) {
      pageLoadName =  '/elasticon';
    }
    else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
      pageLoadName =  '/elasticon/overview';
    }
    else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
      pageLoadName =  '/elasticon/video';
    }
  }
  else if (parts.length && parts[1] === 'guide') {
    pageLoadName =  '/guide';
  }
  else if (parts.length === 2 && parts[1] === 'videos') {
    pageLoadName =  '/videos';
  }
  else if (parts.length > 2 && parts[1] === 'videos') {
    pageLoadName =  '/videos/detail';
  }
  else if (parts.length > 2 && parts[1] === 'webinars') {
    pageLoadName =  '/webinars/detail';
  }
  else {
    pageLoadName =  window.location.pathname;
  }

  console.log('apm pageLoadName:', pageLoadName, parts)
  elasticApm.setTags({env:"production"});
  elasticApm.setInitialPageLoadName(pageLoadName);
</script>

<!-- Elastic APM -->


    <!-- Header Section -->
    
<header class="header-wrapper">
  



  




<div class="navigation-wrapper">
  <div class="container">
    <nav class="navbar">
    <!-- Brand and toggle get grouped for better mobile display -->

    <div class="navbar-mobile-header navbar-header mr-20 mr-xs-0">
      <div class="row hidden-sm hidden-md hidden-lg">
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg">
          <div class="navbar-mobile-header-icon navbar-mobile-header-icon-out">
            <span></span>
            <span></span>
            <span></span>
          </div>
          
        </div>
        <div class="col-xs-2 text-center">
          <div class="navbar-brand" id="elastic">
            <div id="logo">
              <a class="logo-m hidden-sm hidden-md hidden-lg" href="/">
                <img src="/assets/blta09706b1c5cc1e99/elastic-logo-mobile.svg" alt="elastic-logo-mobile">
              </a>
            </div>
          </div>
        </div>
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg text-right">
          <ul class="menu-m hidden-sm hidden-md hidden-lg">
            <li class=""><a class="icon-contact" href="/contact"></a></li>

            <li id="searchbar"><a class="button icon" href="#" alt="Search"></a></li>
            <li class="lang global-language">
                
                  
                
                  
                    <a href="#">EN</a>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              <ul class="language-list">
                
                  
                    
                  
                  
                  <li><a href="/de/" data-value="/de/" id="locale-select">Deutsch</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="#" data-value="/" id="locale-select">English</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/es/" data-value="/es/" id="locale-select">Español</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/fr/" data-value="/fr/" id="locale-select">Français</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/jp/" data-value="/jp/" id="locale-select">日本語</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/kr/" data-value="/kr/" id="locale-select">한국어</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/cn/" data-value="/cn/" id="locale-select">简体中文</a></li>
                  
                
              </ul>
            </li>
          </ul>
        </div>
      </div>

      <div class="navbar-brand hidden-xs" id="elastic">
        <div id="logo">
          <a class="hidden-xs" id="elastic-logo" href="/">
            <img src="/assets/blt244a845f141977c3/elastic-logo.svg" alt="elastic-logo">
          </a>
        </div>
      </div>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse mobile-inner-nav">
      <nav class="nav navbar-nav primary-nav-hover" id="nav">
        <ul>
        
          
            
              
            
            <li>
              <a class=" " href="/products">Products</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/cloud">Cloud</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/services">Services</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/use-cases">Customers</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/learn">Learn</a>
            </li>
          
        
          
        
        </ul>
      </nav>
      <nav class="nav navbar-nav navbar-right hidden-xs">
        <ul>
          <li class="hidden-xs hidden-sm"><a href="/downloads">downloads</a></li>
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-download" href="/downloads"></a></li>
          <!-- To set parameters to contact button -->
          
           
            
          

          
            
            
          
          <li class="hidden-xs hidden-sm"><a class="btn btn-secondary btn-contact" href="/contact?storm=global-header-en">contact</a></li>
          <!-- ////////////////ends here///////////////-->          
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-contact" href="/contact?storm=global-header-en"></a></li>
          <li class="hidden-xs" id="searchbar"><a class="button icon" href="#" alt="Search"></a></li>

          <li class="hidden-xs lang global-language">
                
                  
                
                  
                    <a href="#">EN</a>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
               <ul class="language-list">
              
                
                  
                
              
              <li><a class="" href="/de/" data-value="/de/">Deutsch</a></li>
              
              
                
                  
                
              
              <li><a class="" href="#" data-value="/">English</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/es/" data-value="/es/">Español</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/fr/" data-value="/fr/">Français</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/jp/" data-value="/jp/">日本語</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/kr/" data-value="/kr/">한국어</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/cn/" data-value="/cn/">简体中文</a></li>
              
              
            </ul>
          </li>
        </ul>
      </nav>
    </div><!-- /.navbar-collapse -->
  </nav>
  </div>
</div>

<div class="header-search-wrapper open-search"> 
  <div class="container">
    <div class="big-search">
      <i class="big-search-icon"></i>
      <form id="searchfrm" name="searchForm" autocomplete="on" action="/search" method="get">
        <ul class="tags-wrapper">
          <li class="search-field"><input type="text" name="q" id="autocomplete" class="form-control global-input" autocomplete="off"></li>
        </ul>
      </form>
      <a class="header-search-cancel" href="#"></a>
    </div>
    <div class="nav-auto-complete"></div>
  </div>
</div>
</header>
<link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">
<style> 
    
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
    
</style>
<script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>
<script type="text/javascript">
  $(document).ready( function(){
    // if($('#scrollable-pane li').length > 3){
      $('.horizon-swiper').horizonSwiper({
        showItems: 3,
        arrows: true
      }); 
    // }
    
    $('.navbar-toggle').on('click', function(){
      $('.mobile-navigation, .menu-open').hide();
      $('.navigation-wrapper').addClass('mobile-navigation');
      $('.navbar').addClass('menu-open');
      $('.menu-close').show();
    });
    $('.menu-close').on('click', function(){
      $('.navigation-wrapper').removeClass('mobile-navigation');
      $('.navbar').removeClass('menu-open');
      $('.menu-close').hide();
    });

    var active_url = "";

    $(".navbar-mobile-header-icon").click(function(index){
      $('.navigation-wrapper').toggleClass('menu-overlay');
      $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
      $(".mobile-inner-nav").slideToggle(500);
      $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
        $(this).css({'animation-delay': (index/25)+'0.4s'});
      });
    });

    $('.dropdown-btn').on('click', function(e){
      e.preventDefault();
      setDropdown();
    });
    
    function setDropdown() {
      $('#myDropdown').slideToggle();
    }

    $('body').on('click', function(event){
      if (!event.target.matches('.dropdown-btn')) {

        var dropdowns = $(".dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    });

    // if($(window).width() < 769){
    //   var $item = $('.scrollable-panel li'), 
    //       visible = 3, //Set the number of items that will be visible
    //       index = 0, //Starting index
    //       endIndex = ( $item.length / visible ) - 1; //End index (NOTE:: Requires visible to be a factor of $item.length... You can improve this by rounding...)

    //   $('#right-arrow').click(function(){
    //     if(index < endIndex ){
    //       index++;
    //       $item.animate({'left':'-=300px'});
    //     }
    //   });

    //   $('#left-arrow').click(function(){
    //     if(index > 0){
    //       index--;            
    //       $item.animate({'left':'+=300px'});
    //     }
    //   });
    // }
  });
  $(window).resize(function () {
    $('.horizon-swiper').horizonSwiper({
      showItems: 3,
      arrows: true
    });
  });
</script>
    
      


  





  
  
  
  
    <div class="tertiary-nav bdr-btm-e0e0e0">
      <div class="container">
        <div class="p-t-b-15 clearfix">
          <div class="breadcrum-wrapper pull-left text-left">
          
            <a href="/guide">Docs</a> 
          
          </div>
          
          
          
        </div>
      </div>
    </div>

    <div class="nav-mobile-dropdown hidden-sm hidden-md hidden-lg bdr-btm-e0e0e0 clearfix">
      <div class="container text-right">
        <div class="breadcrum-wrapper pull-left text-left">
          
              <a href="/guide">Docs</a>
          
        </div>
        
        
      </div>
    </div>
  


<style type="text/css">

  
</style>
    
    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   
          
            
        			<!-- <div class="pageheader">
	<div class="common-container">
		
			<h2 class="page-title">Guide template</h2>
		
	</div>
</div> -->


        		
          

          
	<section id="guide" lang="en">
		<div class="container">
			<div class="row">
			  <!-- start body -->
				
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [6.4]
    </a></span> » <span class="breadcrumb-link"><a href="es-release-notes.html">Release Notes</a></span> » <span class="breadcrumb-node">Elasticsearch version 6.1.0</span></div><div class="navheader"><span class="prev"><a href="release-notes-6.1.1.html">
              « 
              Elasticsearch version 6.1.1</a>
           
        </span><span class="next">
           
          <a href="release-notes-6.0.1.html">Elasticsearch version 6.0.1
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="release-notes-6.1.0"></a>Elasticsearch version 6.1.0<a href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/release-notes/6.1.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><h3><a id="breaking-6.1.0"></a>Breaking Changes<a href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/release-notes/6.1.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term">
Network
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Allow only a fixed-size receive predictor <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26165" target="_top">#26165</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/23185" target="_top">#23185</a>)
</li></ul></div></dd><dt><span class="term">
REST
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Standardize underscore requirements in parameters <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27414" target="_top">#27414</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26886" target="_top">#26886</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27040" target="_top">#27040</a>)
</li></ul></div></dd><dt><span class="term">
Scroll
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Fail queries with scroll that explicitely set request_cache <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27342" target="_top">#27342</a>
</li></ul></div></dd><dt><span class="term">
Search
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Add a limit to from + size in top_hits and inner hits. <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26492" target="_top">#26492</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/11511" target="_top">#11511</a>)
</li></ul></div></dd><dt><span class="term">
Security
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
The <code class="literal">certgen</code> command now returns validation errors when it encounters problems
reading from an input file (with the <code class="literal">-in</code> command option). Previously these
errors might have been ignored or caused the command to abort with unclear
messages. For more information, see <a class="xref" href="certgen.html" title="elasticsearch-certgen"><em>elasticsearch-certgen</em></a>.
</li></ul></div></dd></dl></div><h3><a id="_breaking_java_changes_2"></a>Breaking Java Changes<a href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/release-notes/6.1.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term">
Aggregations
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Moves deferring code into its own subclass <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26421" target="_top">#26421</a>
</li></ul></div></dd><dt><span class="term">
Core
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Unify Settings xcontent reading and writing <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26739" target="_top">#26739</a>
</li></ul></div></dd><dt><span class="term">
Settings
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Return List instead of an array from settings <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26903" target="_top">#26903</a>
</li><li class="listitem">
Remove <code class="literal">Settings,put(Map&lt;String,String&gt;)</code> <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26785" target="_top">#26785</a>
</li></ul></div></dd></dl></div><h3><a id="_deprecations_3"></a>Deprecations<a href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/release-notes/6.1.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term">
Aggregations
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Deprecate global_ordinals_hash and global_ordinals_low_cardinality <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26173" target="_top">#26173</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26014" target="_top">#26014</a>)
</li></ul></div></dd><dt><span class="term">
Allocation
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Add deprecation warning for negative index.unassigned.node_left.delayed_timeout <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26832" target="_top">#26832</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26828" target="_top">#26828</a>)
</li></ul></div></dd><dt><span class="term">
Analysis
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Add limits for ngram and shingle settings <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27411" target="_top">#27411</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/25887" target="_top">#25887</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27211" target="_top">#27211</a>)
</li></ul></div></dd><dt><span class="term">
Geo
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
[GEO] 6x Deprecate ShapeBuilders and decouple geojson parse logic <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27345" target="_top">#27345</a>
</li></ul></div></dd><dt><span class="term">
Mapping
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Deprecate the <code class="literal">index_options</code> parameter for numeric fields <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26672" target="_top">#26672</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/21475" target="_top">#21475</a>)
</li></ul></div></dd><dt><span class="term">
Plugin Repository Azure
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Azure repository: Move to named configurations as we do for S3 repository and secure settings <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/23405" target="_top">#23405</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/22762" target="_top">#22762</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/22763" target="_top">#22763</a>)
</li></ul></div></dd><dt><span class="term">
Search
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
doc: deprecate _primary and _replica shard option <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26792" target="_top">#26792</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26335" target="_top">#26335</a>)
</li></ul></div></dd></dl></div><h3><a id="_new_features_2"></a>New Features<a href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/release-notes/6.1.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term">
Aggregations
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Aggregations: bucket_sort pipeline aggregation <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27152" target="_top">#27152</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/14928" target="_top">#14928</a>)
</li><li class="listitem">
Add composite aggregator <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26800" target="_top">#26800</a>
</li></ul></div></dd><dt><span class="term">
Analysis
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Added Bengali Analyzer to Elasticsearch with respect to the lucene update <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26527" target="_top">#26527</a>
</li></ul></div></dd><dt><span class="term">
Ingest
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
add URL-Decode Processor to Ingest <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26045" target="_top">#26045</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/25837" target="_top">#25837</a>)
</li></ul></div></dd><dt><span class="term">
Java High Level REST Client
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Added Delete Index support to high-level REST client <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27019" target="_top">#27019</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/25847" target="_top">#25847</a>)
</li></ul></div></dd><dt><span class="term">
Machine Learning
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
Added the ability to create job forecasts. This feature enables you to use
historical behavior to predict the future behavior of your time series. You can
create forecasts in Kibana or by using the <a class="link" href="ml-forecast.html" title="Forecast Jobs API">forecast jobs</a> API.
</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>You cannot create forecasts for jobs that were created in previous
versions; this functionality is available only for jobs created in 6.1 or later.</p></div></div></li><li class="listitem">
Added overall buckets, which summarize bucket results for multiple jobs.
For more information, see the <a class="link" href="ml-get-overall-buckets.html" title="Get Overall Buckets API">get overall buckets</a> API.
</li><li class="listitem">
Added job groups, which you can use to manage or retrieve information from
multiple jobs at once. Also updated many machine learning APIs to support groups and
wildcard expressions in the job identifier.
</li></ul></div></dd><dt><span class="term">
Nested Docs
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Multi-level Nested Sort with Filters <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26395" target="_top">#26395</a>
</li></ul></div></dd><dt><span class="term">
Query DSL
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Add terms_set query <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27145" target="_top">#27145</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26915" target="_top">#26915</a>)
</li><li class="listitem">
Introduce sorted_after query for sorted index <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26377" target="_top">#26377</a>
</li><li class="listitem">
Add support for auto_generate_synonyms_phrase_query in match_query, multi_match_query, query_string and simple_query_string <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26097" target="_top">#26097</a>
</li></ul></div></dd><dt><span class="term">
Search
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Expose <code class="literal">fuzzy_transpositions</code> parameter in fuzzy queries <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26870" target="_top">#26870</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/18348" target="_top">#18348</a>)
</li><li class="listitem">
Add upper limit for scroll expiry <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26448" target="_top">#26448</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/11511" target="_top">#11511</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/23268" target="_top">#23268</a>)
</li><li class="listitem">
Implement adaptive replica selection <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26128" target="_top">#26128</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/24915" target="_top">#24915</a>)
</li><li class="listitem">
configure distance limit <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/25731" target="_top">#25731</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/25528" target="_top">#25528</a>)
</li></ul></div></dd><dt><span class="term">
Similarities
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Add a scripted similarity. <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/25831" target="_top">#25831</a>
</li></ul></div></dd><dt><span class="term">
Suggesters
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Expose duplicate removal in the completion suggester <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26496" target="_top">#26496</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/23364" target="_top">#23364</a>)
</li><li class="listitem">
Support must and should for context query in context suggester <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26407" target="_top">#26407</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/24421" target="_top">#24421</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/24565" target="_top">#24565</a>)
</li></ul></div></dd></dl></div><h3><a id="_enhancements_7"></a>Enhancements<a href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/release-notes/6.1.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term">
Aggregations
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Allow aggregation sorting via nested aggregation <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26683" target="_top">#26683</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/16838" target="_top">#16838</a>)
</li></ul></div></dd><dt><span class="term">
Allocation
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Tie-break shard path decision based on total number of shards on path <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27039" target="_top">#27039</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26654" target="_top">#26654</a>)
</li><li class="listitem">
Balance shards for an index more evenly across multiple data paths <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26654" target="_top">#26654</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/16763" target="_top">#16763</a>)
</li><li class="listitem">
Expand "NO" decision message in NodeVersionAllocationDecider <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26542" target="_top">#26542</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/10403" target="_top">#10403</a>)
</li><li class="listitem">
_reroute’s retry_failed flag should reset failure counter <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/25888" target="_top">#25888</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/25291" target="_top">#25291</a>)
</li></ul></div></dd><dt><span class="term">
Analysis
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Add configurable <code class="literal">max_token_length</code> parameter to whitespace tokenizer <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26749" target="_top">#26749</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26643" target="_top">#26643</a>)
</li></ul></div></dd><dt><span class="term">
CRUD
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Add wait_for_active_shards parameter to index open command <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26682" target="_top">#26682</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/20937" target="_top">#20937</a>)
</li></ul></div></dd><dt><span class="term">
Core
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Fix classes that can exit <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27518" target="_top">#27518</a>
</li><li class="listitem">
Replace empty index block checks with global block checks in template delete/put actions <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27050" target="_top">#27050</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/10530" target="_top">#10530</a>)
</li><li class="listitem">
Allow Uid#decodeId to decode from a byte array slice <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26987" target="_top">#26987</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26931" target="_top">#26931</a>)
</li><li class="listitem">
Use separate searchers for "search visibility" vs "move indexing buffer to disk <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26972" target="_top">#26972</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/15768" target="_top">#15768</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26802" target="_top">#26802</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26912" target="_top">#26912</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/3593" target="_top">#3593</a>)
</li><li class="listitem">
Add ability to split shards <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26931" target="_top">#26931</a>
</li><li class="listitem">
Make circuit breaker mutations debuggable <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26067" target="_top">#26067</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/25891" target="_top">#25891</a>)
</li></ul></div></dd><dt><span class="term">
Dates
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
DateProcessor Locale <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26186" target="_top">#26186</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/25513" target="_top">#25513</a>)
</li></ul></div></dd><dt><span class="term">
Discovery
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Stop responding to ping requests before master abdication <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27329" target="_top">#27329</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27328" target="_top">#27328</a>)
</li></ul></div></dd><dt><span class="term">
Engine
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Ensure external refreshes will also refresh internal searcher to minimize segment creation <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27253" target="_top">#27253</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26972" target="_top">#26972</a>)
</li><li class="listitem">
Move IndexShard#getWritingBytes() under InternalEngine <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27209" target="_top">#27209</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26972" target="_top">#26972</a>)
</li><li class="listitem">
Refactor internal engine <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27082" target="_top">#27082</a>
</li></ul></div></dd><dt><span class="term">
Geo
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Add ignore_malformed to geo_shape fields <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/24654" target="_top">#24654</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/23747" target="_top">#23747</a>)
</li></ul></div></dd><dt><span class="term">
Ingest
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
add json-processor support for non-map json types <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27335" target="_top">#27335</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/25972" target="_top">#25972</a>)
</li><li class="listitem">
Introduce templating support to timezone/locale in DateProcessor <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27089" target="_top">#27089</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/24024" target="_top">#24024</a>)
</li><li class="listitem">
Add support for parsing inline script (#23824) <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26846" target="_top">#26846</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/23824" target="_top">#23824</a>)
</li><li class="listitem">
Consolidate locale parsing. <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26400" target="_top">#26400</a>
</li><li class="listitem">
Accept ingest simulate params as ints or strings <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/23885" target="_top">#23885</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/23823" target="_top">#23823</a>)
</li></ul></div></dd><dt><span class="term">
Internal
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Avoid uid creation in ParsedDocument <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27241" target="_top">#27241</a>
</li><li class="listitem">
Upgrade to Lucene 7.1.0 snapshot version <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26864" target="_top">#26864</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26527" target="_top">#26527</a>)
</li><li class="listitem">
Remove <code class="literal">_index</code> fielddata hack if cluster alias is present <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26082" target="_top">#26082</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/25885" target="_top">#25885</a>)
</li></ul></div></dd><dt><span class="term">
Java High Level REST Client
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Adjust RestHighLevelClient method modifiers <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27238" target="_top">#27238</a>
</li><li class="listitem">
Decouple BulkProcessor from ThreadPool <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26727" target="_top">#26727</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26028" target="_top">#26028</a>)
</li></ul></div></dd><dt><span class="term">
Logging
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Add more information on <span class="emphasis"><em>failed_to_convert</em></span> exception (#21946) <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27034" target="_top">#27034</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/21946" target="_top">#21946</a>)
</li><li class="listitem">
Improve shard-failed log messages. <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26866" target="_top">#26866</a>
</li></ul></div></dd><dt><span class="term">
Machine Learning
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Improved the way machine learning jobs are allocated to nodes, such that it is primarily
determined by the estimated memory requirement of the job. If there is insufficient
information about the job’s memory requirements, the allocation decision is based
on job counts per node.
</li><li class="listitem">
Increased the default value of the <code class="literal">xpack.ml.max_open_jobs</code> setting from <code class="literal">10</code>
to <code class="literal">20</code>. The allocation of jobs to nodes now considers memory usage as well as
job counts, so it’s reasonable to permit more small jobs on a single node. For
more information, see <a class="xref" href="ml-settings.html" title="Machine Learning Settings in Elasticsearch">Machine Learning Settings</a>.
</li><li class="listitem">
Decreased the default <code class="literal">model_memory_limit</code> property value to 1 GB for new jobs.
If you want to create a job that analyzes high cardinality fields, you can
increase this property value. For more information, see <a class="xref" href="ml-job-resource.html#ml-apilimits" title="Analysis Limitsedit">Analysis Limits<a href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/ml/apis/jobresource.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></a>.
</li><li class="listitem">
Improved analytics related to decay rates when predictions are very accurate.
</li><li class="listitem">
Improved analytics related to detecting non-negative quantities and using this
information to constrain analysis, predictions, and confidence intervals.
</li><li class="listitem">
Improved periodic trough or spike detection.
</li><li class="listitem">
Improved the speed of the aggregation of machine learning results.
</li><li class="listitem">
Improved probability calculation performance.
</li><li class="listitem">
Expedited bucket processing time in very large populations by determining when
there are nearly duplicate values in a bucket and de-duplicating the samples that
are added to the model.
</li><li class="listitem">
Improved handling of periodically missing values.
</li><li class="listitem">
Improved analytics related to diurnal periodicity.
</li><li class="listitem">
Reduced memory usage during population analysis by releasing redundant memory
after the bucket results are written.
</li><li class="listitem">
Improved modeling of long periodic components, particularly when there is a
long bucket span.
</li></ul></div></dd><dt><span class="term">
Mapping
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Allow ip_range to accept CIDR notation <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27192" target="_top">#27192</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26260" target="_top">#26260</a>)
</li><li class="listitem">
Deduplicate <code class="literal">_field_names</code>. <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26550" target="_top">#26550</a>
</li><li class="listitem">
Throw a better error message for empty field names <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26543" target="_top">#26543</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/23348" target="_top">#23348</a>)
</li><li class="listitem">
Stricter validation for min/max values for whole numbers <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26137" target="_top">#26137</a>
</li><li class="listitem">
Make FieldMapper.copyTo() always non-null. <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/25994" target="_top">#25994</a>
</li></ul></div></dd><dt><span class="term">
Monitoring
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Added the new <code class="literal">interval_ms</code> field to monitoring documents. This field
indicates the current collection interval for Elasticsearch or external monitored systems.
</li></ul></div></dd><dt><span class="term">
Nested Docs
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Use the primary_term field to identify parent documents <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27469" target="_top">#27469</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/24362" target="_top">#24362</a>)
</li><li class="listitem">
Prohibit using <code class="literal">nested_filter</code>, <code class="literal">nested_path</code> and new <code class="literal">nested</code> Option at the same time in FieldSortBuilder <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26490" target="_top">#26490</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/17286" target="_top">#17286</a>)
</li></ul></div></dd><dt><span class="term">
Network
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Remove manual tracking of registered channels <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27445" target="_top">#27445</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27260" target="_top">#27260</a>)
</li><li class="listitem">
Remove tcp profile from low level nio channel <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27441" target="_top">#27441</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27260" target="_top">#27260</a>)
</li><li class="listitem">
Decouple <code class="literal">ChannelFactory</code> from Tcp classes <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27286" target="_top">#27286</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27260" target="_top">#27260</a>)
</li></ul></div></dd><dt><span class="term">
Percolator
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Use Lucene’s CoveringQuery to select percolate candidate matches <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27271" target="_top">#27271</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26081" target="_top">#26081</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26307" target="_top">#26307</a>)
</li><li class="listitem">
Add support to percolate query to percolate multiple documents simultaneously <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26418" target="_top">#26418</a>
</li><li class="listitem">
Hint what clauses are important in a conjunction query based on fields <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26081" target="_top">#26081</a>
</li><li class="listitem">
Add support for selecting percolator query candidate matches containing range queries <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/25647" target="_top">#25647</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/21040" target="_top">#21040</a>)
</li></ul></div></dd><dt><span class="term">
Plugin Discovery EC2
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
update AWS SDK for ECS Task IAM support in discovery-ec2 <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26479" target="_top">#26479</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/23039" target="_top">#23039</a>)
</li></ul></div></dd><dt><span class="term">
Plugin Lang Painless
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Painless: Only allow Painless type names to be the same as the equivalent Java class. <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27264" target="_top">#27264</a>
</li><li class="listitem">
Allow for the Painless Definition to have multiple instances for white-listing <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27096" target="_top">#27096</a>
</li><li class="listitem">
Separate Painless Whitelist Loading from the Painless Definition <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26540" target="_top">#26540</a>
</li><li class="listitem">
Remove Sort enum from Painless Definition <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26179" target="_top">#26179</a>
</li></ul></div></dd><dt><span class="term">
Plugin Repository Azure
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Add azure storage endpoint suffix #26432 <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26568" target="_top">#26568</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26432" target="_top">#26432</a>)
</li><li class="listitem">
Support for accessing Azure repositories through a proxy <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/23518" target="_top">#23518</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/23506" target="_top">#23506</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/23517" target="_top">#23517</a>)
</li></ul></div></dd><dt><span class="term">
Plugin Repository S3
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Remove S3 output stream <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27280" target="_top">#27280</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27278" target="_top">#27278</a>)
</li><li class="listitem">
Update to AWS SDK 1.11.223 <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27278" target="_top">#27278</a>
</li></ul></div></dd><dt><span class="term">
Plugins
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Plugins: Add versionless alias to all security policy codebase properties <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26756" target="_top">#26756</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26521" target="_top">#26521</a>)
</li><li class="listitem">
Allow plugins to plug rescore implementations <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26368" target="_top">#26368</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26208" target="_top">#26208</a>)
</li></ul></div></dd><dt><span class="term">
Query DSL
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Add support for wildcard on <code class="literal">_index</code> <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27334" target="_top">#27334</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/25722" target="_top">#25722</a>)
</li></ul></div></dd><dt><span class="term">
Reindex API
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Update by Query is modified to accept short <code class="literal">script</code> parameter. <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26841" target="_top">#26841</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/24898" target="_top">#24898</a>)
</li><li class="listitem">
reindex: automatically choose the number of slices <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26030" target="_top">#26030</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/24547" target="_top">#24547</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/25582" target="_top">#25582</a>)
</li></ul></div></dd><dt><span class="term">
Rollover
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Add size-based condition to the index rollover API <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27160" target="_top">#27160</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27004" target="_top">#27004</a>)
</li><li class="listitem">
Add size-based condition to the index rollover API <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27115" target="_top">#27115</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27004" target="_top">#27004</a>)
</li></ul></div></dd><dt><span class="term">
Scripting
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Script: Convert script query to a dedicated script context <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26003" target="_top">#26003</a>
</li></ul></div></dd><dt><span class="term">
Search
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Make fields optional in multi_match query and rely on index.query.default_field by default <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27380" target="_top">#27380</a>
</li><li class="listitem">
fix unnecessary logger creation <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27349" target="_top">#27349</a>
</li><li class="listitem">
<code class="literal">ObjectParser</code> : replace <code class="literal">IllegalStateException</code> with <code class="literal">ParsingException</code> <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27302" target="_top">#27302</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27147" target="_top">#27147</a>)
</li><li class="listitem">
Uses norms for exists query if enabled <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27237" target="_top">#27237</a>
</li><li class="listitem">
Cross Cluster Search: make remote clusters optional <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27182" target="_top">#27182</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26118" target="_top">#26118</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27161" target="_top">#27161</a>)
</li><li class="listitem">
Enhances exists queries to reduce need for <code class="literal">_field_names</code> <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26930" target="_top">#26930</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26770" target="_top">#26770</a>)
</li><li class="listitem">
Change ParentFieldSubFetchPhase to create doc values iterator once per segment <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26815" target="_top">#26815</a>
</li><li class="listitem">
Change VersionFetchSubPhase to create doc values iterator once per segment <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26809" target="_top">#26809</a>
</li><li class="listitem">
Change ScriptFieldsFetchSubPhase to create search scripts once per segment <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26808" target="_top">#26808</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26775" target="_top">#26775</a>)
</li><li class="listitem">
Make sure SortBuilders rewrite inner nested sorts <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26532" target="_top">#26532</a>
</li><li class="listitem">
Extend testing of build method in ScriptSortBuilder <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26520" target="_top">#26520</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/17286" target="_top">#17286</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26490" target="_top">#26490</a>)
</li><li class="listitem">
Accept an array of field names and boosts in the index.query.default_field setting <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26320" target="_top">#26320</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/25946" target="_top">#25946</a>)
</li><li class="listitem">
Reject IPv6-mapped IPv4 addresses when using the CIDR notation. <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26254" target="_top">#26254</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26078" target="_top">#26078</a>)
</li><li class="listitem">
Rewrite range queries with open bounds to exists query <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26160" target="_top">#26160</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/22640" target="_top">#22640</a>)
</li></ul></div></dd><dt><span class="term">
Security
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Added the <code class="literal">manage_index_templates</code> cluster privilege to the built-in role
<code class="literal">kibana_system</code>. For more information, see
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/6.4/security-privileges.html#privileges-list-cluster" target="_top">Cluster Privileges</a>
and <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/6.4/built-in-roles.html" target="_top">Built-in Roles</a>.
</li><li class="listitem">
Newly created or updated watches execute with the privileges of the user that
last modified the watch.
</li><li class="listitem">
Added log messages when a PEM key is found when a PEM certificate was
expected (or vice versa) in the <code class="literal">xpack.ssl.key</code> or <code class="literal">xpack.ssl.certificate</code> settings.
</li><li class="listitem">
Added the new <code class="literal">certutil</code> command to simplify the creation of certificates for
use with the Elastic stack. For more information, see <a class="xref" href="certutil.html" title="elasticsearch-certutil"><em>elasticsearch-certutil</em></a>.
</li><li class="listitem">
Added automatic detection of support for AES 256 bit TLS ciphers and enabled
their use when the JVM supports them.
</li></ul></div></dd><dt><span class="term">
Sequence IDs
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Only fsync global checkpoint if needed <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27652" target="_top">#27652</a>
</li><li class="listitem">
Log primary-replica resync failures <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27421" target="_top">#27421</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/24841" target="_top">#24841</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27418" target="_top">#27418</a>)
</li><li class="listitem">
Lazy initialize checkpoint tracker bit sets <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27179" target="_top">#27179</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/10708" target="_top">#10708</a>)
</li><li class="listitem">
Returns the current primary_term for Get/MultiGet requests <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27177" target="_top">#27177</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26493" target="_top">#26493</a>)
</li></ul></div></dd><dt><span class="term">
Settings
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Allow affix settings to specify dependencies <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27161" target="_top">#27161</a>
</li><li class="listitem">
Represent lists as actual lists inside Settings <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26878" target="_top">#26878</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26723" target="_top">#26723</a>)
</li><li class="listitem">
Remove Settings#getAsMap() <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26845" target="_top">#26845</a>
</li><li class="listitem">
Replace group map settings with affix setting <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26819" target="_top">#26819</a>
</li><li class="listitem">
Throw exception if setting isn’t recognized <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26569" target="_top">#26569</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/25607" target="_top">#25607</a>)
</li><li class="listitem">
Settings: Move keystore creation to plugin installation <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26329" target="_top">#26329</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26309" target="_top">#26309</a>)
</li></ul></div></dd><dt><span class="term">
Snapshot/Restore
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Remove XContentType auto detection in BlobStoreRepository <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27480" target="_top">#27480</a>
</li><li class="listitem">
Snapshot: Migrate TransportRequestHandler to TransportMasterNodeAction <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27165" target="_top">#27165</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27151" target="_top">#27151</a>)
</li><li class="listitem">
Fix toString of class SnapshotStatus (#26851) <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26852" target="_top">#26852</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26851" target="_top">#26851</a>)
</li></ul></div></dd><dt><span class="term">
Stats
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Adds average document size to DocsStats <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27117" target="_top">#27117</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27004" target="_top">#27004</a>)
</li><li class="listitem">
Stats to record how often the ClusterState diff mechanism is used successfully <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27107" target="_top">#27107</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26973" target="_top">#26973</a>)
</li><li class="listitem">
Expose adaptive replica selection stats in /_nodes/stats API <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27090" target="_top">#27090</a>
</li><li class="listitem">
Add cgroup memory usage/limit to OS stats on Linux <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26166" target="_top">#26166</a>
</li><li class="listitem">
Add segment attributes to the <code class="literal">_segments</code> API. <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26157" target="_top">#26157</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26130" target="_top">#26130</a>)
</li></ul></div></dd><dt><span class="term">
Suggesters
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Improve error message for parse failures of completion fields <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27297" target="_top">#27297</a>
</li><li class="listitem">
Support <span class="emphasis"><em>AND</em></span> operation for context query in context suggester <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/24565" target="_top">#24565</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/24421" target="_top">#24421</a>)
</li></ul></div></dd><dt><span class="term">
Watcher
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Improved error messages when there are no accounts configured for Watcher.
</li><li class="listitem">
Added thread pool rejection information to execution state, which makes it
easier to debug execution failures.
</li><li class="listitem">
Added execution state information to watch status details. It is stored in the
<code class="literal">status.execution_state</code> field.
</li><li class="listitem">
Enabled the account monitoring <code class="literal">url</code> field in the <code class="literal">xpack.notification.jira</code>
setting to support customized paths. For more information about configuring Jira
accounts for use with watches, see
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/6.4/actions-jira.html" target="_top">Jira Action</a>.
</li><li class="listitem">
Improved handling of exceptions in Watcher to make it easier to debug
problems.
</li></ul></div></dd></dl></div><h3><a id="_bug_fixes_11"></a>Bug Fixes<a href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/release-notes/6.1.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term">
Aggregations
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Disable the "low cardinality" optimization of terms aggregations. <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27545" target="_top">#27545</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27543" target="_top">#27543</a>)
</li><li class="listitem">
scripted_metric _agg parameter disappears if params are provided <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27159" target="_top">#27159</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/19768" target="_top">#19768</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/19863" target="_top">#19863</a>)
</li></ul></div></dd><dt><span class="term">
Cluster
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Properly format IndexGraveyard deletion date as date <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27362" target="_top">#27362</a>
</li><li class="listitem">
Remove optimisations to reuse objects when applying a new <code class="literal">ClusterState</code> <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27317" target="_top">#27317</a>
</li></ul></div></dd><dt><span class="term">
Core
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Do not set data paths on no local storage required <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27587" target="_top">#27587</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27572" target="_top">#27572</a>)
</li><li class="listitem">
Ensure threadcontext is preserved when refresh listeners are invoked <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27565" target="_top">#27565</a>
</li><li class="listitem">
Ensure logging is configured for CLI commands <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27523" target="_top">#27523</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27521" target="_top">#27521</a>)
</li><li class="listitem">
Protect shard splitting from illegal target shards <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27468" target="_top">#27468</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26931" target="_top">#26931</a>)
</li><li class="listitem">
Avoid NPE when getting build information <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27442" target="_top">#27442</a>
</li><li class="listitem">
Fix <code class="literal">ShardSplittingQuery</code> to respect nested documents. <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27398" target="_top">#27398</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27378" target="_top">#27378</a>)
</li><li class="listitem">
When building Settings do not set SecureSettings if empty <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26988" target="_top">#26988</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/316" target="_top">#316</a>)
</li></ul></div></dd><dt><span class="term">
Engine
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Reset LiveVersionMap on sync commit <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27534" target="_top">#27534</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27516" target="_top">#27516</a>)
</li><li class="listitem">
Carry over version map size to prevent excessive resizing <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27516" target="_top">#27516</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/20498" target="_top">#20498</a>)
</li></ul></div></dd><dt><span class="term">
Geo
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Correct two equality checks on incomparable types <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27688" target="_top">#27688</a>
</li><li class="listitem">
[GEO] fix pointsOnly bug for MULTIPOINT <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27415" target="_top">#27415</a>
</li></ul></div></dd><dt><span class="term">
Index Templates
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Prevent constructing an index template without index patterns <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27662" target="_top">#27662</a>
</li></ul></div></dd><dt><span class="term">
Ingest
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Add pipeline support for REST API bulk upsert <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27075" target="_top">#27075</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/25601" target="_top">#25601</a>)
</li><li class="listitem">
Fixing Grok pattern for Apache 2.4 <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26635" target="_top">#26635</a>
</li></ul></div></dd><dt><span class="term">
Inner Hits
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Return an empty _source for nested inner hit when filtering on a field that doesn’t exist <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27531" target="_top">#27531</a>
</li></ul></div></dd><dt><span class="term">
Internal
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
When checking if key exists in ThreadContextStruct:putHeaders() method，should put requestHeaders in map first <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26068" target="_top">#26068</a>
</li><li class="listitem">
Adding a refresh listener to a recovering shard should be a noop <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26055" target="_top">#26055</a>
</li></ul></div></dd><dt><span class="term">
Java High Level REST Client
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Register ip_range aggregation with the high level client <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26383" target="_top">#26383</a>
</li><li class="listitem">
add top hits as a parsed aggregation to the rest high level client <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26370" target="_top">#26370</a>
</li></ul></div></dd><dt><span class="term">
Machine Learning
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Improved handling of scenarios where there are insufficient values to
interpolate trend components.
</li><li class="listitem">
Improved calculation of confidence intervals.
</li><li class="listitem">
Fixed degrees of freedom calculation that could lead to excessive error logging.
</li><li class="listitem">
Improved trend modeling with long bucket spans.
</li><li class="listitem">
Fixed timing of when model size statistics are written. Previously, if there
were multiple partitions, there could be multiple model size stats docs written
within the same bucket.
</li><li class="listitem">
Updated the calculation of the model memory to include the memory used by
partition, over, by, or influencer fields.
</li><li class="listitem">
Fixed calculation of the <code class="literal">frequency</code> property value for datafeeds that use
aggregations. The value must be a multiple of the histogram interval. For more
information, see
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/6.4/ml-configuring-aggregation.html" target="_top">Aggregating Data for Faster Performance</a>.
</li><li class="listitem">
Removed unnecessary messages from logs when a job is forcefully closed.
</li></ul></div></dd><dt><span class="term">
Mapping
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Fix dynamic mapping update generation. <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27467" target="_top">#27467</a>
</li><li class="listitem">
Fix merging of _meta field <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27352" target="_top">#27352</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27323" target="_top">#27323</a>)
</li><li class="listitem">
Fixed rounding of bounds in scaled float comparison <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27207" target="_top">#27207</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27189" target="_top">#27189</a>)
</li></ul></div></dd><dt><span class="term">
Nested Docs
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Ensure nested documents have consistent version and seq_ids <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27455" target="_top">#27455</a>
</li><li class="listitem">
Prevent duplicate fields when mixing parent and root nested includes <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27072" target="_top">#27072</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26990" target="_top">#26990</a>)
</li></ul></div></dd><dt><span class="term">
Network
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Throw UOE from compressible bytes stream reset <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27564" target="_top">#27564</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/24927" target="_top">#24927</a>)
</li><li class="listitem">
Bubble exceptions when closing compressible streams <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27542" target="_top">#27542</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27540" target="_top">#27540</a>)
</li><li class="listitem">
Do not set SO_LINGER on server channels <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26997" target="_top">#26997</a>
</li><li class="listitem">
Do not set SO_LINGER to 0 when not shutting down <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26871" target="_top">#26871</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26764" target="_top">#26764</a>)
</li><li class="listitem">
Close TcpTransport on RST in some Spots to Prevent Leaking TIME_WAIT Sockets <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26764" target="_top">#26764</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26701" target="_top">#26701</a>)
</li></ul></div></dd><dt><span class="term">
Packaging
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Removes minimum master nodes default number <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26803" target="_top">#26803</a>
</li><li class="listitem">
setgid on /etc/elasticearch on package install <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26412" target="_top">#26412</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26410" target="_top">#26410</a>)
</li></ul></div></dd><dt><span class="term">
Percolator
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Avoid TooManyClauses exception if number of terms / ranges is exactly equal to 1024 <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27519" target="_top">#27519</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/1" target="_top">#1</a>)
</li></ul></div></dd><dt><span class="term">
Plugin Analysis ICU
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Catch InvalidPathException in IcuCollationTokenFilterFactory <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27202" target="_top">#27202</a>
</li></ul></div></dd><dt><span class="term">
Plugin Lang Painless
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Painless: Fix variable scoping issue in lambdas <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27571" target="_top">#27571</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26760" target="_top">#26760</a>)
</li><li class="listitem">
Painless: Fix errors allowing void to be assigned to def. <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27460" target="_top">#27460</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27210" target="_top">#27210</a>)
</li></ul></div></dd><dt><span class="term">
Plugin Repository GCS
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Create new handlers for every new request in GoogleCloudStorageService <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27339" target="_top">#27339</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27092" target="_top">#27092</a>)
</li></ul></div></dd><dt><span class="term">
Recovery
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Flush old indices on primary promotion and relocation <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27580" target="_top">#27580</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27536" target="_top">#27536</a>)
</li></ul></div></dd><dt><span class="term">
Reindex API
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Reindex: Fix headers in reindex action <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26937" target="_top">#26937</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/22976" target="_top">#22976</a>)
</li></ul></div></dd><dt><span class="term">
Scroll
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Fix scroll query with a sort that is a prefix of the index sort <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27498" target="_top">#27498</a>
</li></ul></div></dd><dt><span class="term">
Search
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Fix profiling naming issues <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27133" target="_top">#27133</a>
</li><li class="listitem">
Fix max score tracking with field collapsing <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27122" target="_top">#27122</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/23840" target="_top">#23840</a>)
</li><li class="listitem">
Apply missing request options to the expand phase <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27118" target="_top">#27118</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26649" target="_top">#26649</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27079" target="_top">#27079</a>)
</li><li class="listitem">
Calculate and cache result when advanceExact is called <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26920" target="_top">#26920</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26817" target="_top">#26817</a>)
</li><li class="listitem">
Filter unsupported relation for RangeQueryBuilder <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26620" target="_top">#26620</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26575" target="_top">#26575</a>)
</li><li class="listitem">
Handle leniency for phrase query on a field indexed without positions <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26388" target="_top">#26388</a>
</li></ul></div></dd><dt><span class="term">
Security
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Fixed REST requests that required a body but did not validate it, resulting in
null pointer exceptions.
</li></ul></div></dd><dt><span class="term">
Sequence IDs
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Obey translog durability in global checkpoint sync <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27641" target="_top">#27641</a>
</li><li class="listitem">
Fix resync request serialization <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27418" target="_top">#27418</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/24841" target="_top">#24841</a>)
</li></ul></div></dd><dt><span class="term">
Settings
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Allow index settings to be reset by wildcards <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27671" target="_top">#27671</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27537" target="_top">#27537</a>)
</li></ul></div></dd><dt><span class="term">
Snapshot/Restore
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Do not swallow exception in ChecksumBlobStoreFormat.writeAtomic() <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27597" target="_top">#27597</a>
</li><li class="listitem">
Delete shard store files before restoring a snapshot <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27476" target="_top">#27476</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/20220" target="_top">#20220</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26865" target="_top">#26865</a>)
</li><li class="listitem">
Fix snapshot getting stuck in INIT state <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27214" target="_top">#27214</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27180" target="_top">#27180</a>)
</li><li class="listitem">
Fix default value of ignore_unavailable for snapshot REST API (#25359) <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27056" target="_top">#27056</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/25359" target="_top">#25359</a>)
</li><li class="listitem">
Do not create directory on readonly repository (#21495) <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/26909" target="_top">#26909</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/21495" target="_top">#21495</a>)
</li></ul></div></dd><dt><span class="term">
Stats
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Include internal refreshes in refresh stats <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27615" target="_top">#27615</a>
</li><li class="listitem">
Make Segment statistics aware of segments hold by internal readers <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27558" target="_top">#27558</a>
</li><li class="listitem">
Ensure <code class="literal">doc_stats</code> are changing even if refresh is disabled <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27505" target="_top">#27505</a>
</li></ul></div></dd><dt><span class="term">
Watcher
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Fixed handling of watcher templates. Missing watcher templates can be added by
any node if that node has a higher version than the master node.
</li></ul></div></dd></dl></div><h3><a id="_upgrades_3"></a>Upgrades<a href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/release-notes/6.1.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term">
Core
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Upgrade to Jackson 2.8.10 <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27230" target="_top">#27230</a>
</li><li class="listitem">
Upgrade to Lucene 7.1 <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27225" target="_top">#27225</a>
</li></ul></div></dd><dt><span class="term">
Plugin Discovery EC2
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Upgrade AWS SDK Jackson Databind to 2.6.7.1 <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27361" target="_top">#27361</a> (issues: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27278" target="_top">#27278</a>, <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/27359" target="_top">#27359</a>)
</li></ul></div></dd><dt><span class="term">
Plugin Discovery GCE
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Update Google SDK to version 1.23.0 <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27381" target="_top">#27381</a> (issue: <a class="ulink" href="https://github.com/elastic/elasticsearch/issues/26636" target="_top">#26636</a>)
</li></ul></div></dd><dt><span class="term">
Plugin Lang Painless
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Upgrade Painless from ANTLR 4.5.1-1 to  ANTLR 4.5.3. <a class="ulink" href="https://github.com/elastic/elasticsearch/pull/27153" target="_top">#27153</a>
</li></ul></div></dd></dl></div></div><div class="navfooter"><span class="prev"><a href="release-notes-6.1.1.html">
              « 
              Elasticsearch version 6.1.1</a>
           
        </span><span class="next">
           
          <a href="release-notes-6.0.1.html">Elasticsearch version 6.0.1
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
					<div id="rtpcontainer" style="display: block;">
						<div class="mktg-promo">
						<h3>Getting Started Videos</h3>
						<ul class="icons">
							<li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
							<li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
							<li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
						</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

        </div>
      	


<div id="footer-subscribe" class="home-footer-subscribe">
  <div class="subscribe-wrapper">
    <div class="container">
      <div class="subscribe-form-container">
        <div class="subscribe-title col-md-12 col-lg-6">
            <h5>Be in the know with the latest and greatest from Elastic.</h5>
        </div>
        <div class="subscribe-form col-md-12 col-lg-6">
          <form class="mktoForm sb-form"></form>
        </div>
      </div>
      <div class="form_thanks hide">
        
          <p>Thanks for subscribing! We'll keep you updated with new releases.</p>
        
      </div>
    </div>
  </div>
</div>
<!--subscribe newsletter end-->

<!-- Footer Section -->
<footer class="footer-wrapper">
  <div class="container">
    <div class="row footer-content">
        
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/products">Products ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/products/elasticsearch">Elasticsearch</a></li>
                  
                
              
                
                  
                    <li><a href="/products/kibana">Kibana</a></li>
                  
                
              
                
                  
                    <li><a href="/products/beats">Beats</a></li>
                  
                
              
                
                  
                    <li><a href="/products/logstash">Logstash</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack">Stack Features (formerly X-Pack)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/security">Security</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/alerting">Alerting</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/canvas">Canvas</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/monitoring">Monitoring</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/graph">Graph</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/reporting">Reporting</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/machine-learning">Machine Learning</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/elasticsearch-sql">Elasticsearch SQL</a></li>
                  
                
              
                
                  
                    <li><a href="/products/hadoop">Elasticsearch-Hadoop</a></li>
                  
                
              
                
                  
                    <li><a href="/products/ece">Elastic Cloud Enterprise</a></li>
                  
                
              
              </ul>
              
                <h3><a href=""></a></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/solutions">Solutions ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/solutions/logging">Logging</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/metrics">Metrics</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/site-search">Site Search</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/security-analytics">Security Analytics</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/apm">APM</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/app-search">App Search</a></li>
                  
                
              
              </ul>
              
                <h3><a href="/cloud">Elastic Cloud ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/cloud/elasticsearch-service">Elasticsearch Service</a></li>
                  
                
              
                
                  
                    <li><a href="/aws-elasticsearch-service">AWS Elasticsearch Service Comparison</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud/app-search-service">Elastic App Search Service</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud/site-search-service">Elastic Site Search Service</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3>Resources</h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/blog">Blog</a></li>
                  
                
              
                
                  
                    <li><a href="https://cloud-status.elastic.co">Cloud Status</a></li>
                  
                
              
                
                  
                    <li><a href="/community">Community</a></li>
                  
                
              
                
                  
                    <li><a href="/use-cases">Customers & Use Cases</a></li>
                  
                
              
                
                  
                    <li><a href="/guide">Documentation</a></li>
                  
                
              
                
                  
                    <li><a href="/elasticon">Elastic{ON} Events</a></li>
                  
                
              
                
                  
                    <li><a href="https://discuss.elastic.co/">Forums</a></li>
                  
                
              
                
                  
                    <li><a href="/community/meetups">Meetups</a></li>
                  
                
              
                
                  
                    <li><a href="/subscriptions">Subscriptions</a></li>
                  
                
              
                
                  
                    <li><a href="https://support.elastic.co">Support Portal</a></li>
                  
                
              
                
                  
                    <li><a href="/videos">Videos & Webinars</a></li>
                  
                
              
                
                  
                    <li><a href="/training">Training</a></li>
                  
                
              
              </ul>
              
                <h3></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/about">About ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/about/careers">Careers/Jobs</a></li>
                  
                
              
                
                  
                    <li><a href="/about/our-source-code">Our Source Code</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams">Teams</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams/board">Board of Directors</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams/leadership">Leadership</a></li>
                  
                
              
                
                  
                    <li><a href="/contact">Contact</a></li>
                  
                
              
                
                  
                    <li><a href="/about/history-of-elasticsearch">Our Story</a></li>
                  
                
              
                
                  
                    <li><a href="/about/why-open-source">Why Open Source</a></li>
                  
                
              
                
                  
                    <li><a href="/about/distributed">Distributed by Intention</a></li>
                  
                
              
                
                  
                    <li><a href="/about/partners">Partners</a></li>
                  
                
              
                
                  
                    <li><a href="/about/press">Media</a></li>
                  
                
              
                
                  
                    <li><a href="https://ir.elastic.co">Investor Relations</a></li>
                  
                
              
                
                  
                    <li><a href="https://www.elastic.shop">Elastic Store</a></li>
                  
                
              
              </ul>
              
                <h3><a href=""></a></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
       
    </div>
     <!-- Social Media Section -->
    <div class="row social-icon">
      <div class="col-xs-12 col-sm-12 col-md-6 col-md-offset-3">
	    <div class="row">
		     <div class="follow-us col-xs-12 col-sm-12 col-md-12">
			    <div class="social-label">FOLLOW US</div>
			    <ul class="social-icon-list">
          
          		 	<li class="Facebook"><a id="footer_facebook" href="https://www.facebook.com/elastic.co">Facebook</a></li>
          
          		 	<li class="Twitter"><a id="footer_twitter" href="https://www.twitter.com/elastic">Twitter</a></li>
          
          		 	<li class="LinkedIn"><a id="footer_linkedin" href="https://www.linkedin.com/company/elastic-co">LinkedIn</a></li>
          
          		 	<li class="Xing"><a id="footer_xing" href="https://www.xing.com/companies/elastic.co">Xing</a></li>
          
          		 	<li class="YouTube"><a id="footer_youtube" href="https://www.youtube.com/user/elasticsearch">YouTube</a></li>
          
		  		</ul>
		     </div>
	    </div>
      </div>
    </div>
    <!-- Social Media Section end-->
    <div class="row">
	<div class="col-xs-12 col-sm-12 col-md-11">
		<div class="copyright">
			<ul>
				<li><a href="/legal/trademarks">Trademarks</a></li>
				<li><a href="/legal/terms-of-use">Terms of Use</a></li>
				<li><a href="/legal/privacy-statement">Privacy</a></li>
				<li><a href="/brand">Brand</a></li>
			</ul>
			<div class="copyright-content">
				<div class="footer-text">
					<p>© 2018. Elasticsearch B.V. All Rights Reserved
					</p>
					<p>Elasticsearch is a trademark of Elasticsearch B.V., registered in the U.S. and in other countries.
					</p>
					<p>Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a> in the United States and/or other countries.
					</p>
				</div>
			</div>
		</div>
	</div>
	<div class="col-xs-2 col-xs-offset-5 col-sm-1 col-sm-offset-5 col-md-1 col-md-offset-0">
		<div class="footer-logo"><a href="/"><img src="/static/images/svg/logo-elastic-footer-stacked-999.svg" class="img-responsive"></a>
		</div>
	</div>
</div>
  </div>
</footer>
<!-- Footer Section end-->

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>
 
     
<script type="text/javascript">
$(document).ready(function(){
	if (window.location.hash.length) {
	      var target = $(window.location.hash);
	      target = target.length ? target : $(window.location.hash);
	      if (target.length) {
	        setTimeout(function(){ $(window).scrollTop(target.offset().top - 60); }, 1200);        
	      }
	}
	$('#guide').on('click','a[href*=#]:not([href=#])',function(e) {
			var flag=true;
		      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		          var target = $(this.hash);
		          target = target.length ? target :$(this.hash);
		          if (target.length) {
		            if(flag){
		              flag=false;
		              var heightScroll=($('.tertiary-nav.navbar-fixed-top').height())?60:110;
		              $('html,body').animate({
		                  scrollTop: target.offset().top - heightScroll
		                }, 2000, function(){
		                  flag=true;
		                });
		            }                    
		          }
		      }
		    
	});

})

</script>

     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>
