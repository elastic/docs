<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Security settings in Elasticsearch
        | Elasticsearch Reference [master]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [master]" /><link rel="up" href="configuring-security.html" title="Configuring security in Elasticsearch" /><link rel="prev" href="fips-140-compliance.html" title="FIPS 140-2" /><link rel="next" href="security-files.html" title="Security files" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="master" />
    

    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
<meta name="apple-mobile-web-app-title" content="Elastic">
<meta name="application-name" content="Elastic">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">
<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >



	



<!-- end DC tags -->


	<meta name="description" content="" />



	<meta name="localized" content="true" />


















		
			<meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
		

		

    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">

	 

    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    
    

    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

  <script type="text/javascript">
  // -------------------- set language based on browser language --------------------
  var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

  if($.cookie("is_lang_detected") == undefined){
    if(locales[lang] != undefined && locales[lang] != currentlocale){
      locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
      $.cookie("is_lang_detected",true ,{ path: '/'}); 
      window.location = locale_lang_url;
    } 
  }
        
  // --------------------- end of set language based on browser language -----------------
  </script>

	
	<link type="text/css" rel="stylesheet" href="/static/css/guide.css" />


  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
  <body >
  	<!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
                              height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
<script src="/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>


<script type="text/javascript">
  var active;
  
  active = Math.random() < 1 //0.9 
  
  elasticApm.init({
    active: active,
    serviceName: "elastic-co-frontend",
    serverUrl: "https://elastic-co-apm-server.app.elstc.co"
  })

  var pageLoadName
  var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
  var parts = pathname.split('/');

  if (parts.length && parts[1] === 'blog') {
    if (parts.length === 2) {
      pageLoadName =  '/blog';
    }
    else if (parts[2] === 'category') {
      pageLoadName =  '/blog/category';
    }
    else if (parts[2] === 'archive') {
      pageLoadName =  '/blog/archive';
    }
    else {
      pageLoadName =  '/blog/detail';
    }
  }
  else if (parts.length && parts[1] === 'elasticon') {
    if (parts.length === 2) {
      pageLoadName =  '/elasticon';
    }
    else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
      pageLoadName =  '/elasticon/overview';
    }
    else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
      pageLoadName =  '/elasticon/video';
    }
  }
  else if (parts.length && parts[1] === 'guide') {
    pageLoadName =  '/guide';
  }
  else if (parts.length === 2 && parts[1] === 'videos') {
    pageLoadName =  '/videos';
  }
  else if (parts.length > 2 && parts[1] === 'videos') {
    pageLoadName =  '/videos/detail';
  }
  else if (parts.length > 2 && parts[1] === 'webinars') {
    pageLoadName =  '/webinars/detail';
  }
  else {
    pageLoadName =  window.location.pathname;
  }

  console.log('apm pageLoadName:', pageLoadName, parts)
  elasticApm.setTags({env:"production"});
  elasticApm.setInitialPageLoadName(pageLoadName);
</script>

<!-- Elastic APM -->


    <!-- Header Section -->
    
<header class="header-wrapper">
  



  




<div class="navigation-wrapper">
  <div class="container">
    <nav class="navbar">
    <!-- Brand and toggle get grouped for better mobile display -->

    <div class="navbar-mobile-header navbar-header mr-20 mr-xs-0">
      <div class="row hidden-sm hidden-md hidden-lg">
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg">
          <div class="navbar-mobile-header-icon navbar-mobile-header-icon-out">
            <span></span>
            <span></span>
            <span></span>
          </div>
          
        </div>
        <div class="col-xs-2 text-center">
          <div class="navbar-brand" id="elastic">
            <div id="logo">
              <a class="logo-m hidden-sm hidden-md hidden-lg" href="/">
                <img src="/assets/blta09706b1c5cc1e99/elastic-logo-mobile.svg" alt="elastic-logo-mobile">
              </a>
            </div>
          </div>
        </div>
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg text-right">
          <ul class="menu-m hidden-sm hidden-md hidden-lg">
            <li class=""><a class="icon-contact" href="/contact"></a></li>

            <li id="searchbar"><a class="button icon" href="#" alt="Search"></a></li>
            <li class="lang global-language">
                
                  
                
                  
                    <a href="#">EN</a>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              <ul class="language-list">
                
                  
                    
                  
                  
                  <li><a href="/de/" data-value="/de/" id="locale-select">Deutsch</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="#" data-value="/" id="locale-select">English</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/es/" data-value="/es/" id="locale-select">Español</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/fr/" data-value="/fr/" id="locale-select">Français</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/jp/" data-value="/jp/" id="locale-select">日本語</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/kr/" data-value="/kr/" id="locale-select">한국어</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/cn/" data-value="/cn/" id="locale-select">简体中文</a></li>
                  
                
              </ul>
            </li>
          </ul>
        </div>
      </div>

      <div class="navbar-brand hidden-xs" id="elastic">
        <div id="logo">
          <a class="hidden-xs" id="elastic-logo" href="/">
            <img src="/assets/blt244a845f141977c3/elastic-logo.svg" alt="elastic-logo">
          </a>
        </div>
      </div>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse mobile-inner-nav">
      <nav class="nav navbar-nav primary-nav-hover" id="nav">
        <ul>
        
          
            
              
            
            <li>
              <a class=" " href="/products">Products</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/cloud">Cloud</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/services">Services</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/use-cases">Customers</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/learn">Learn</a>
            </li>
          
        
          
        
        </ul>
      </nav>
      <nav class="nav navbar-nav navbar-right hidden-xs">
        <ul>
          <li class="hidden-xs hidden-sm"><a href="/downloads">downloads</a></li>
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-download" href="/downloads"></a></li>
          <!-- To set parameters to contact button -->
          
           
            
          

          
            
            
          
          <li class="hidden-xs hidden-sm"><a class="btn btn-secondary btn-contact" href="/contact?storm=global-header-en">contact</a></li>
          <!-- ////////////////ends here///////////////-->          
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-contact" href="/contact?storm=global-header-en"></a></li>
          <li class="hidden-xs" id="searchbar"><a class="button icon" href="#" alt="Search"></a></li>

          <li class="hidden-xs lang global-language">
                
                  
                
                  
                    <a href="#">EN</a>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
               <ul class="language-list">
              
                
                  
                
              
              <li><a class="" href="/de/" data-value="/de/">Deutsch</a></li>
              
              
                
                  
                
              
              <li><a class="" href="#" data-value="/">English</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/es/" data-value="/es/">Español</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/fr/" data-value="/fr/">Français</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/jp/" data-value="/jp/">日本語</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/kr/" data-value="/kr/">한국어</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/cn/" data-value="/cn/">简体中文</a></li>
              
              
            </ul>
          </li>
        </ul>
      </nav>
    </div><!-- /.navbar-collapse -->
  </nav>
  </div>
</div>

<div class="header-search-wrapper open-search"> 
  <div class="container">
    <div class="big-search">
      <i class="big-search-icon"></i>
      <form id="searchfrm" name="searchForm" autocomplete="on" action="/search" method="get">
        <ul class="tags-wrapper">
          <li class="search-field"><input type="text" name="q" id="autocomplete" class="form-control global-input" autocomplete="off"></li>
        </ul>
      </form>
      <a class="header-search-cancel" href="#"></a>
    </div>
    <div class="nav-auto-complete"></div>
  </div>
</div>
</header>
<link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">
<style> 
    
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
    
</style>
<script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>
<script type="text/javascript">
  $(document).ready( function(){
    // if($('#scrollable-pane li').length > 3){
      $('.horizon-swiper').horizonSwiper({
        showItems: 3,
        arrows: true
      }); 
    // }
    
    $('.navbar-toggle').on('click', function(){
      $('.mobile-navigation, .menu-open').hide();
      $('.navigation-wrapper').addClass('mobile-navigation');
      $('.navbar').addClass('menu-open');
      $('.menu-close').show();
    });
    $('.menu-close').on('click', function(){
      $('.navigation-wrapper').removeClass('mobile-navigation');
      $('.navbar').removeClass('menu-open');
      $('.menu-close').hide();
    });

    var active_url = "";

    $(".navbar-mobile-header-icon").click(function(index){
      $('.navigation-wrapper').toggleClass('menu-overlay');
      $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
      $(".mobile-inner-nav").slideToggle(500);
      $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
        $(this).css({'animation-delay': (index/25)+'0.4s'});
      });
    });

    $('.dropdown-btn').on('click', function(e){
      e.preventDefault();
      setDropdown();
    });
    
    function setDropdown() {
      $('#myDropdown').slideToggle();
    }

    $('body').on('click', function(event){
      if (!event.target.matches('.dropdown-btn')) {

        var dropdowns = $(".dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    });

    // if($(window).width() < 769){
    //   var $item = $('.scrollable-panel li'), 
    //       visible = 3, //Set the number of items that will be visible
    //       index = 0, //Starting index
    //       endIndex = ( $item.length / visible ) - 1; //End index (NOTE:: Requires visible to be a factor of $item.length... You can improve this by rounding...)

    //   $('#right-arrow').click(function(){
    //     if(index < endIndex ){
    //       index++;
    //       $item.animate({'left':'-=300px'});
    //     }
    //   });

    //   $('#left-arrow').click(function(){
    //     if(index > 0){
    //       index--;            
    //       $item.animate({'left':'+=300px'});
    //     }
    //   });
    // }
  });
  $(window).resize(function () {
    $('.horizon-swiper').horizonSwiper({
      showItems: 3,
      arrows: true
    });
  });
</script>
    
      


  





  
  
  
  
    <div class="tertiary-nav bdr-btm-e0e0e0">
      <div class="container">
        <div class="p-t-b-15 clearfix">
          <div class="breadcrum-wrapper pull-left text-left">
          
            <a href="/guide">Docs</a> 
          
          </div>
          
          
          
        </div>
      </div>
    </div>

    <div class="nav-mobile-dropdown hidden-sm hidden-md hidden-lg bdr-btm-e0e0e0 clearfix">
      <div class="container text-right">
        <div class="breadcrum-wrapper pull-left text-left">
          
              <a href="/guide">Docs</a>
          
        </div>
        
        
      </div>
    </div>
  


<style type="text/css">

  
</style>
    
    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   
          
            
        			<!-- <div class="pageheader">
	<div class="common-container">
		
			<h2 class="page-title">Guide template</h2>
		
	</div>
</div> -->


        		
          

          
	<section id="guide" lang="en">
		<div class="container">
			<div class="row">
			  <!-- start body -->
				
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [master]
    </a></span> » <span class="breadcrumb-link"><a href="setup.html">Set up Elasticsearch</a></span> » <span class="breadcrumb-link"><a href="configuring-security.html">Configuring security in Elasticsearch</a></span> » <span class="breadcrumb-node">Security settings in Elasticsearch</span></div><div class="navheader"><span class="prev"><a href="fips-140-compliance.html">
              « 
              FIPS 140-2</a>
           
        </span><span class="next">
           
          <a href="security-files.html">Security files
               »
            </a></span></div><div class="xpack section"><div class="titlepage"><div><div><h2 class="title"><a id="security-settings"></a>Security settings in Elasticsearch<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>By default, the Elasticsearch security features are disabled when you have a basic or
trial license. To enable security features, use the <code class="literal">xpack.security.enabled</code>
setting.</p><p>You configure <code class="literal">xpack.security</code> settings  to
<a class="link" href="security-settings.html#anonymous-access-settings" title="Anonymous access settingsedit">enable anonymous access</a>
and perform message authentication,
<a class="link" href="security-settings.html#field-document-security-settings" title="Document and field level security settingsedit">set up document and field level security</a>,
<a class="link" href="security-settings.html#realm-settings" title="Realm settingsedit">configure realms</a>,
<a class="link" href="security-settings.html#ssl-tls-settings" title="Default TLS/SSL settingsedit">encrypt communications with SSL</a>, and
<a class="link" href="auditing-settings.html" title="Auditing Security Settings">audit security events</a>.</p><p>All of these settings can be added to the <code class="literal">elasticsearch.yml</code> configuration file,
with the exception of the secure settings, which you add to the Elasticsearch keystore.
For more information about creating and updating the Elasticsearch keystore, see
<a class="xref" href="secure-settings.html" title="Secure settings">Secure settings</a>.</p><h4><a id="general-security-settings"></a>General security settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.enabled</code>
</span></dt><dd><p class="simpara">
Set to <code class="literal">true</code> to enable Elasticsearch security features on the node.
</p><p class="simpara">If set to <code class="literal">false</code>, which is the default value for basic and trial licenses,
security features are disabled. It also affects all Kibana instances that
connect to this Elasticsearch instance; you do not need to disable security features in
those <code class="literal">kibana.yml</code> files. For more information about disabling security features
in specific Kibana instances, see
<a class="ulink" href="https://www.elastic.co/guide/en/kibana/master/security-settings-kb.html" target="_top">Kibana security settings</a>.</p><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>If you have gold or higher licenses, the default value is <code class="literal">true</code>; we
recommend that you explicitly add this setting to avoid confusion.</p></div></div></dd><dt><span class="term">
<code class="literal">xpack.security.hide_settings</code>
</span></dt><dd>
A comma-separated list of settings that are omitted from the results of the
<a class="link" href="cluster-nodes-info.html" title="Nodes Info">cluster nodes info API</a>. You can use wildcards to include
multiple settings in the list.  For example, the following value hides all the
settings for the ad1 active_directory realm:
<code class="literal">xpack.security.authc.realms.active_directory.ad1.*</code>.
The API already omits all <code class="literal">ssl</code> settings, <code class="literal">bind_dn</code>, and <code class="literal">bind_password</code> due to
the sensitive nature of the information.
</dd><dt><span class="term">
<code class="literal">xpack.security.fips_mode.enabled</code>
</span></dt><dd>
Enables fips mode of operation. Set this to <code class="literal">true</code> if you run this Elasticsearch instance in a FIPS 140-2 enabled JVM.  For more information, see <a class="xref" href="fips-140-compliance.html" title="FIPS 140-2">FIPS 140-2</a>. Defaults to <code class="literal">false</code>.
</dd></dl></div><h4><a id="password-security-settings"></a>Default password security settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.authc.accept_default_password</code>
</span></dt><dd>
In <code class="literal">elasticsearch.yml</code>, set this to <code class="literal">false</code> to disable support for the default "changeme" password.
</dd></dl></div><h4><a id="password-hashing-settings"></a>Password hashing settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.authc.password_hashing.algorithm</code>
</span></dt><dd>
Specifies the hashing algorithm that is used for secure user credential storage.
See <a class="xref" href="security-settings.html#password-hashing-algorithms" title="Table 3. Password hashing algorithms">Table 3, “Password hashing algorithms”</a>. Defaults to <code class="literal">bcrypt</code>.
</dd></dl></div><h4><a id="anonymous-access-settings"></a>Anonymous access settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>You can configure the following anonymous access settings in
<code class="literal">elasticsearch.yml</code>.  For more information, see <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/anonymous-access.html" target="_top">
Enabling anonymous access</a>.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.authc.anonymous.username</code>
</span></dt><dd>
The username (principal) of the anonymous user. Defaults to <code class="literal">_es_anonymous_user</code>.
</dd><dt><span class="term">
<code class="literal">xpack.security.authc.anonymous.roles</code>
</span></dt><dd>
The roles to associate with the anonymous user. Required.
</dd><dt><span class="term">
<code class="literal">xpack.security.authc.anonymous.authz_exception</code>
</span></dt><dd>
When <code class="literal">true</code>, an HTTP 403 response is returned if the anonymous user
does not have the appropriate permissions for the requested action. The
user is not prompted to provide credentials to access the requested
resource. When set to <code class="literal">false</code>, an HTTP 401 response is returned and the user
can provide credentials with the appropriate permissions to gain
access. Defaults to <code class="literal">true</code>.
</dd></dl></div><h4><a id="security-automata-settings"></a>Automata Settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>In places where the security features accept wildcard patterns (e.g. index
patterns in roles, group matches in the role mapping API), each pattern is
compiled into an Automaton. The follow settings are available to control this
behaviour.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.automata.max_determinized_states</code>
</span></dt><dd>
The upper limit on how many automaton states may be created by a single pattern.
This protects against too-difficult (e.g. exponentially hard) patterns.
Defaults to <code class="literal">100,000</code>.
</dd><dt><span class="term">
<code class="literal">xpack.security.automata.cache.enabled</code>
</span></dt><dd>
Whether to cache the compiled automata. Compiling automata can be CPU intensive
and may slowdown some operations. The cache reduces the frequency with which
automata need to be compiled.
Defaults to <code class="literal">true</code>.
</dd><dt><span class="term">
<code class="literal">xpack.security.automata.cache.size</code>
</span></dt><dd>
The maximum number of items to retain in the automata cache.
Defaults to <code class="literal">10,000</code>.
</dd><dt><span class="term">
<code class="literal">xpack.security.automata.cache.ttl</code>
</span></dt><dd>
The length of time to retain in an item in the automata cache (based on most
recent usage).
Defaults to <code class="literal">48h</code> (48 hours).
</dd></dl></div><h4><a id="field-document-security-settings"></a>Document and field level security settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>You can set the following document and field level security
settings in <code class="literal">elasticsearch.yml</code>. For more information, see
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/field-and-document-access-control.html" target="_top">Setting up document and field
level security</a>.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.dls_fls.enabled</code>
</span></dt><dd>
Set to <code class="literal">false</code> to prevent document and field level security
from being configured. Defaults to <code class="literal">true</code>.
</dd></dl></div><h4><a id="token-service-settings"></a>Token service settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>You can set the following token service settings in
<code class="literal">elasticsearch.yml</code>.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.authc.token.enabled</code>
</span></dt><dd>
Set to <code class="literal">false</code> to disable the built-in token service. Defaults to <code class="literal">true</code> unless
 <code class="literal">xpack.security.http.ssl.enabled</code> is <code class="literal">false</code>. This prevents sniffing the token
  from a connection over plain http.
</dd><dt><span class="term">
<code class="literal">xpack.security.authc.token.timeout</code>
</span></dt><dd>
The length of time that a token is valid for. By default this value is <code class="literal">20m</code> or
20 minutes. The maximum value is 1 hour.
</dd></dl></div><h4><a id="realm-settings"></a>Realm settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>You configure realm settings in the <code class="literal">xpack.security.authc.realms</code>
namespace in <code class="literal">elasticsearch.yml</code>. For example:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">xpack.security.authc.realms:

    native.realm1:
        order: 0
        ...

    ldap.realm2:
        order: 1
        ...

    active_directory.realm3:
        order: 2
        ...
    ...</pre></div><p>The valid settings vary depending on the realm type. For more
information, see <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/setting-up-authentication.html" target="_top">Setting up authentication</a>.</p><h5><a id="ref-realm-settings"></a>Settings valid for all realms<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">type</code>
</span></dt><dd>
The type of the realm: <code class="literal">native, `ldap</code>, <code class="literal">active_directory</code>, <code class="literal">pki</code>, or <code class="literal">file</code>. Required.
</dd><dt><span class="term">
<code class="literal">order</code>
</span></dt><dd>
The priority of the realm within the realm chain. Realms with a lower order are
consulted first. Although not required, use of this setting is strongly
recommended when you configure multiple realms. Defaults to <code class="literal">Integer.MAX_VALUE</code>.
</dd><dt><span class="term">
<code class="literal">enabled</code>
</span></dt><dd>
Indicates whether a realm is enabled. You can use this setting to disable a
realm without removing its configuration information. Defaults to <code class="literal">true</code>.
</dd></dl></div><h5><a id="ref-native-settings"></a>Native realm settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>For a native realm, the <code class="literal">type</code> must be set to <code class="literal">native</code>. In addition to the
<a class="link" href="security-settings.html#ref-realm-settings" title="Settings valid for all realmsedit">settings that are valid for all realms</a>, you can specify
the following optional settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">cache.ttl</code>
</span></dt><dd>
The time-to-live for cached user entries. A user and a hash of its
credentials are cached for this period of time. Specify the time period using
the standard Elasticsearch <a class="link" href="common-options.html#time-units" title="Time unitsedit">time units</a>. Defaults to <code class="literal">20m</code>.
</dd><dt><span class="term">
<code class="literal">cache.max_users</code>
</span></dt><dd>
The maximum number of user entries that can live in the
cache at any given time. Defaults to 100,000.
</dd><dt><span class="term">
<code class="literal">cache.hash_algo</code>
</span></dt><dd>
(Expert Setting) The hashing algorithm that is used for the
in-memory cached user credentials. For possible values, see <a class="xref" href="security-settings.html#cache-hash-algo" title="Table 2. Cache hash algorithms">Table 2, “Cache hash algorithms”</a>.
Defaults to <code class="literal">ssha256</code>.
</dd><dt><span class="term">
<code class="literal">authentication.enabled</code>
</span></dt><dd>
If set to <code class="literal">false</code>, disables authentication support in
this realm, so that it only supports user lookups.
(See the <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/run-as-privilege.html" target="_top">run as</a> and
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/realm-chains.html#authorization_realms" target="_top">authorization realms</a> features).
Defaults to <code class="literal">true</code>.
</dd></dl></div><h5><a id="ref-users-settings"></a>File realm settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The <code class="literal">type</code> setting must be set to <code class="literal">file</code>. In addition to the
<a class="link" href="security-settings.html#ref-realm-settings" title="Settings valid for all realmsedit">settings that are valid for all realms</a>, you can specify
the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">cache.ttl</code>
</span></dt><dd>
The time-to-live for cached user entries. A user and a hash of its credentials
are cached for this configured period of time. Defaults to <code class="literal">20m</code>. Specify values
using the standard Elasticsearch <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/common-options.html#time-units" target="_top">time units</a>.
Defaults to <code class="literal">20m</code>.
</dd><dt><span class="term">
<code class="literal">cache.max_users</code>
</span></dt><dd>
The maximum number of user entries that can live in the cache at a given time.
Defaults to 100,000.
</dd><dt><span class="term">
<code class="literal">cache.hash_algo</code>
</span></dt><dd>
(Expert Setting) The hashing algorithm that is used for the in-memory cached
user credentials. See <a class="xref" href="security-settings.html#cache-hash-algo" title="Table 2. Cache hash algorithms">Table 2, “Cache hash algorithms”</a>. Defaults to <code class="literal">ssha256</code>.
</dd><dt><span class="term">
<code class="literal">authentication.enabled</code>
</span></dt><dd>
If set to <code class="literal">false</code>, disables authentication support in
this realm, so that it only supports user lookups.
(See the <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/run-as-privilege.html" target="_top">run as</a> and
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/realm-chains.html#authorization_realms" target="_top">authorization realms</a> features).
Defaults to <code class="literal">true</code>.
</dd></dl></div><h5><a id="ref-ldap-settings"></a>LDAP realm settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The <code class="literal">type</code> setting must be set to <code class="literal">ldap</code>. In addition to the
<a class="xref" href="security-settings.html#ref-realm-settings" title="Settings valid for all realmsedit">Settings valid for all realms<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></a>, you can specify the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">url</code>
</span></dt><dd>
Specifies one or more LDAP URLs in the format
<code class="literal">ldap[s]://&lt;server&gt;:&lt;port&gt;</code>. Multiple URLs can be defined using a comma
separated value or array syntax: <code class="literal">[ "ldaps://server1:636", "ldaps://server2:636" ]</code>.
<code class="literal">ldaps</code> and <code class="literal">ldap</code> URL protocols cannot be mixed in the same realm. Required.
</dd><dt><span class="term">
<code class="literal">load_balance.type</code>
</span></dt><dd>
The behavior to use when there are multiple LDAP URLs defined. For supported
values see <a class="link" href="security-settings.html#load-balancing" title="Load balancing and failoveredit">load balancing and failover types</a>.
Defaults to <code class="literal">failover</code>.
</dd><dt><span class="term">
<code class="literal">load_balance.cache_ttl</code>
</span></dt><dd>
When using <code class="literal">dns_failover</code> or <code class="literal">dns_round_robin</code> as the load balancing type,
this setting controls the amount of time to cache DNS lookups. Defaults
to <code class="literal">1h</code>.
</dd><dt><span class="term">
<code class="literal">bind_dn</code>
</span></dt><dd>
The DN of the user that is used to bind to the LDAP and perform searches.
Only applicable in user search mode.
If not specified, an anonymous bind is attempted.
Defaults to Empty. Due to its potential security impact, <code class="literal">bind_dn</code> is not
exposed via the <a class="link" href="cluster-nodes-info.html" title="Nodes Info">nodes info API</a>.
</dd><dt><span class="term">
<code class="literal">bind_password</code>
</span></dt><dd>
<span class="deprecated">
      [<span class="version">6.3</span>]
      <span class="detail">Deprecated in 6.3. 
</span></span> Use <code class="literal">secure_bind_password</code> instead. The password for the user
that is used to bind to the LDAP directory.
Defaults to Empty. Due to its potential security impact, <code class="literal">bind_password</code> is not
exposed via the <a class="link" href="cluster-nodes-info.html" title="Nodes Info">nodes info API</a>.
</dd><dt><span class="term">
<code class="literal">secure_bind_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
The password for the user that is used to bind to the LDAP directory.
Defaults to Empty.
</dd><dt><span class="term">
<code class="literal">user_dn_templates</code>
</span></dt><dd>
The DN template that replaces the user name with the string <code class="literal">{0}</code>.
This setting is multivalued; you can specify multiple user contexts.
Required to operate in user template mode. If <code class="literal">user_search.base_dn</code> is specified,
this setting is not valid. For more information on
the different modes, see <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/ldap-realm.html" target="_top">LDAP realms</a>.
</dd><dt><span class="term">
<code class="literal">authorization_realms</code>
</span></dt><dd><p class="simpara">
The names of the realms that should be consulted for delegated authorization.
If this setting is used, then the LDAP realm does not perform role mapping and
instead loads the user from the listed realms. The referenced realms are
consulted in the order that they are defined in this list.
See <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/realm-chains.html#authorization_realms" target="_top">Delegating authorization to another realm</a>
</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>If any settings starting with <code class="literal">user_search</code> are specified, the
<code class="literal">user_dn_templates</code> settings are ignored.</p></div></div></dd><dt><span class="term">
<code class="literal">user_group_attribute</code>
</span></dt><dd>
Specifies the attribute to examine on the user for group membership.
If any <code class="literal">group_search</code> settings are specified, this setting is ignored. Defaults
to <code class="literal">memberOf</code>.
</dd><dt><span class="term">
<code class="literal">user_search.base_dn</code>
</span></dt><dd>
Specifies a container DN to search for users. Required
to operated in user search mode. If <code class="literal">user_dn_templates</code> is specified, this
setting is not valid. For more information on
the different modes, see <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/ldap-realm.html" target="_top">LDAP realms</a>.
</dd><dt><span class="term">
<code class="literal">user_search.scope</code>
</span></dt><dd>
The scope of the user search. Valid values are <code class="literal">sub_tree</code>, <code class="literal">one_level</code> or
<code class="literal">base</code>. <code class="literal">one_level</code> only searches objects directly contained within the
<code class="literal">base_dn</code>. <code class="literal">sub_tree</code> searches all objects contained under <code class="literal">base_dn</code>.
<code class="literal">base</code> specifies that the <code class="literal">base_dn</code> is the user object, and that it is
the only user considered. Defaults to  <code class="literal">sub_tree</code>.
</dd><dt><span class="term">
<code class="literal">user_search.filter</code>
</span></dt><dd>
Specifies the filter used to search the directory in attempts to match
an entry with the username provided by the user. Defaults to <code class="literal">(uid={0})</code>.
<code class="literal">{0}</code> is substituted with the username provided when searching.
</dd><dt><span class="term">
<code class="literal">user_search.attribute</code>
</span></dt><dd>
<span class="deprecated">
      [<span class="version">5.6</span>]
      <span class="detail">Deprecated in 5.6. 
</span></span> Use <code class="literal">user_search.filter</code> instead.
The attribute to match with the username sent with the request. Defaults to <code class="literal">uid</code>.
</dd><dt><span class="term">
<code class="literal">user_search.pool.enabled</code>
</span></dt><dd>
Enables or disables connection pooling for user search. If set to <code class="literal">false</code>, a new
connection is created for every search. The
default is <code class="literal">true</code> when <code class="literal">bind_dn</code> is set.
</dd><dt><span class="term">
<code class="literal">user_search.pool.size</code>
</span></dt><dd>
The maximum number of connections to the LDAP server to allow in the
connection pool. Defaults to <code class="literal">20</code>.
</dd><dt><span class="term">
<code class="literal">user_search.pool.initial_size</code>
</span></dt><dd>
The initial number of connections to create to the LDAP server on startup.
Defaults to <code class="literal">0</code>. If the LDAP server is down, values greater than <code class="literal">0</code> could cause
startup failures.
</dd><dt><span class="term">
<code class="literal">user_search.pool.health_check.enabled</code>
</span></dt><dd>
Enables or disables a health check on LDAP connections in the connection
pool. Connections are checked in the background at the specified interval.
Defaults to <code class="literal">true</code>.
</dd><dt><span class="term">
<code class="literal">user_search.pool.health_check.dn</code>
</span></dt><dd>
The distinguished name that is retrieved as part of the health check.
Defaults to the value of <code class="literal">bind_dn</code> if present; if
not, falls back to <code class="literal">user_search.base_dn</code>.
</dd><dt><span class="term">
<code class="literal">user_search.pool.health_check.interval</code>
</span></dt><dd>
The interval to perform background checks of connections in the pool.
Defaults to <code class="literal">60s</code>.
</dd><dt><span class="term">
<code class="literal">group_search.base_dn</code>
</span></dt><dd>
The container DN to search for groups in which the user has membership. When
this element is absent, Elasticsearch searches for the attribute specified by
<code class="literal">user_group_attribute</code> set on the user in order to determine group membership.
</dd><dt><span class="term">
<code class="literal">group_search.scope</code>
</span></dt><dd>
Specifies whether the group search should be <code class="literal">sub_tree</code>, <code class="literal">one_level</code> or
<code class="literal">base</code>.  <code class="literal">one_level</code> only searches objects directly contained within the
<code class="literal">base_dn</code>. <code class="literal">sub_tree</code> searches all objects contained under <code class="literal">base_dn</code>.
<code class="literal">base</code> specifies that the <code class="literal">base_dn</code> is a group object, and that it is the
only group considered. Defaults to  <code class="literal">sub_tree</code>.
</dd><dt><span class="term">
<code class="literal">group_search.filter</code>
</span></dt><dd>
Specifies a filter to use to look up a group.
When not set, the realm searches for <code class="literal">group</code>, <code class="literal">groupOfNames</code>, <code class="literal">groupOfUniqueNames</code>,
or <code class="literal">posixGroup</code> with the attributes <code class="literal">member</code>, <code class="literal">memberOf</code>, or <code class="literal">memberUid</code>.  Any
instance of <code class="literal">{0}</code> in the filter is replaced by the user attribute defined in
<code class="literal">group_search.user_attribute</code>.
</dd><dt><span class="term">
<code class="literal">group_search.user_attribute</code>
</span></dt><dd>
Specifies the user attribute that is fetched and provided as a parameter to
the filter.  If not set, the user DN is passed into the filter. Defaults to Empty.
</dd><dt><span class="term">
<code class="literal">unmapped_groups_as_roles</code>
</span></dt><dd>
If set to <code class="literal">true</code>, the names of any unmapped LDAP groups are used as role names
and assigned to the user. A group is considered to be <span class="emphasis"><em>unmapped</em></span> if it is not
referenced in a
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/mapping-roles.html#mapping-roles-file" target="_top">role-mapping file</a>. API-based
role mappings are not considered. Defaults to <code class="literal">false</code>.
</dd><dt><span class="term">
<code class="literal">files.role_mapping</code>
</span></dt><dd>
The <a class="link" href="security-files.html" title="Security files">location</a> for the <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/mapping-roles.html#mapping-roles" target="_top">
YAML role mapping configuration file</a>. Defaults to
<code class="literal">ES_PATH_CONF/role_mapping.yml</code>.
</dd><dt><span class="term">
<code class="literal">follow_referrals</code>
</span></dt><dd>
Specifies whether Elasticsearch should follow referrals returned
by the LDAP server. Referrals are URLs returned by the server that are to be
used to continue the LDAP operation (for example, search). Defaults to <code class="literal">true</code>.
</dd><dt><span class="term">
<code class="literal">metadata</code>
</span></dt><dd>
A list of additional LDAP attributes that should be loaded from the
LDAP server and stored in the authenticated user’s metadata field.
</dd><dt><span class="term">
<code class="literal">timeout.tcp_connect</code>
</span></dt><dd>
The TCP connect timeout period for establishing an LDAP connection.
An <code class="literal">s</code> at the end indicates seconds, or <code class="literal">ms</code> indicates milliseconds.
Defaults to <code class="literal">5s</code> (5 seconds ).
</dd><dt><span class="term">
<code class="literal">timeout.tcp_read</code>
</span></dt><dd>
The TCP read timeout period after establishing an LDAP connection.
An <code class="literal">s</code> at the end indicates seconds, or <code class="literal">ms</code> indicates milliseconds.
Defaults to <code class="literal">5s</code> (5 seconds ).
</dd><dt><span class="term">
<code class="literal">timeout.ldap_search</code>
</span></dt><dd>
The LDAP Server enforced timeout period for an LDAP search.
An <code class="literal">s</code> at the end indicates seconds, or <code class="literal">ms</code> indicates milliseconds.
Defaults to <code class="literal">5s</code> (5 seconds ).
</dd><dt><span class="term">
<code class="literal">ssl.key</code>
</span></dt><dd>
Path to a PEM encoded file containing the private key, which is used if the
LDAP server requires client authentication. <code class="literal">ssl.key</code> and <code class="literal">ssl.keystore.path</code>
cannot be used at the same time.
</dd><dt><span class="term">
<code class="literal">ssl.key_passphrase</code>
</span></dt><dd>
The passphrase that is used to decrypt the private key. This value is
optional as the key may not be encrypted.
</dd><dt><span class="term">
<code class="literal">ssl.secure_key_passphrase</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
The passphrase that is used to decrypt the private key.
</dd><dt><span class="term">
<code class="literal">ssl.certificate</code>
</span></dt><dd>
Path to a PEM encoded file containing the certificate (or certificate chain)
that will be presented to clients when they connect.
</dd><dt><span class="term">
<code class="literal">ssl.certificate_authorities</code>
</span></dt><dd>
List of paths to PEM encoded certificate files that should be trusted.
<code class="literal">ssl.certificate_authorities</code> and <code class="literal">ssl.truststore.path</code> cannot be used at the
same time.
</dd><dt><span class="term">
<code class="literal">ssl.keystore.path</code>
</span></dt><dd>
The path to the Java Keystore file that contains a private key and certificate.
<code class="literal">ssl.key</code> and <code class="literal">ssl.keystore.path</code> may not be used at the same time.
</dd><dt><span class="term">
<code class="literal">ssl.keystore.type</code>
</span></dt><dd>
The format of the keystore file. Should be <code class="literal">jks</code> to use the Java
Keystore format, <code class="literal">PKCS12</code> to use PKCS#12 files, or <code class="literal">PKCS11</code> to use a PKCS#11 token.
The default is <code class="literal">jks</code>.
</dd><dt><span class="term">
<code class="literal">ssl.keystore.password</code>
</span></dt><dd>
The password to the keystore.
</dd><dt><span class="term">
<code class="literal">ssl.keystore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
The password to the keystore.
</dd><dt><span class="term">
<code class="literal">ssl.keystore.key_password</code>
</span></dt><dd>
The password for the key in the keystore. Defaults to the keystore password.
</dd><dt><span class="term">
<code class="literal">ssl.keystore.secure_key_password</code>
</span></dt><dd>
The password for the key in the keystore. Defaults to the keystore password.
</dd><dt><span class="term">
<code class="literal">ssl.truststore.path</code>
</span></dt><dd>
The path to the Java Keystore file that contains the certificates to trust.
<code class="literal">ssl.certificate_authorities</code> and <code class="literal">ssl.truststore.path</code> cannot be used at the same time.
</dd><dt><span class="term">
<code class="literal">ssl.truststore.password</code>
</span></dt><dd>
The password to the truststore.
</dd><dt><span class="term">
<code class="literal">ssl.truststore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
The password to the truststore.
</dd><dt><span class="term">
<code class="literal">ssl.truststore.type</code>
</span></dt><dd>
The format of the keystore file. Should be <code class="literal">jks</code> to use the Java
Keystore format, <code class="literal">PKCS12</code> to use PKCS#12 files, or <code class="literal">PKCS11</code> to use a PKCS#11 token.
The default is <code class="literal">jks</code>.
</dd><dt><span class="term">
<code class="literal">ssl.verification_mode</code>
</span></dt><dd><p class="simpara">
Indicates the type of verification when using <code class="literal">ldaps</code> to protect against man
in the middle attacks and certificate forgery. Values are <code class="literal">none</code>, <code class="literal">certificate</code>,
and <code class="literal">full</code>. Defaults to the value of <code class="literal">xpack.ssl.verification_mode</code>.
</p><p class="simpara">See <a class="link" href="security-settings.html#ssl-tls-settings" title="Default TLS/SSL settingsedit"><code class="literal">xpack.ssl.verification_mode</code></a> for an explanation of
these values.</p></dd><dt><span class="term">
<code class="literal">ssl.supported_protocols</code>
</span></dt><dd>
Supported protocols for TLS/SSL (with versions). Defaults to the value of
<code class="literal">xpack.ssl.supported_protocols</code>.
</dd><dt><span class="term">
<code class="literal">ssl.cipher_suites</code>
</span></dt><dd>
Specifies the cipher suites that should be supported when
communicating with the LDAP server.
Supported cipher suites can be found in Oracle’s <a class="ulink" href="http://docs.oracle.com/javase/8/docs/technotes/guides/security/SunProviders.html" target="_top">
Java Cryptography Architecture documentation</a>. Defaults to the value of
<code class="literal">xpack.ssl.cipher_suites</code>.
</dd><dt><span class="term">
<code class="literal">cache.ttl</code>
</span></dt><dd>
Specifies the time-to-live for cached user entries. A user and a hash of its
credentials are cached for this period of time. Use the standard Elasticsearch
<a class="link" href="common-options.html#time-units" title="Time unitsedit">time units</a>. Defaults to  <code class="literal">20m</code>.
</dd><dt><span class="term">
<code class="literal">cache.max_users</code>
</span></dt><dd>
Specifies the maximum number of user entries that the cache can contain.
Defaults to <code class="literal">100000</code>.
</dd><dt><span class="term">
<code class="literal">cache.hash_algo</code>
</span></dt><dd>
(Expert Setting) Specifies the hashing algorithm that is used for the
in-memory cached user credentials. See <a class="xref" href="security-settings.html#cache-hash-algo" title="Table 2. Cache hash algorithms">Table 2, “Cache hash algorithms”</a>. Defaults to <code class="literal">ssha256</code>.
</dd><dt><span class="term">
<code class="literal">authentication.enabled</code>
</span></dt><dd>
If set to <code class="literal">false</code>, disables authentication support in
this realm, so that it only supports user lookups.
(See the <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/run-as-privilege.html" target="_top">run as</a> and
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/realm-chains.html#authorization_realms" target="_top">authorization realms</a> features).
Defaults to <code class="literal">true</code>.
</dd></dl></div><h5><a id="ref-ad-settings"></a>Active Directory realm settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The <code class="literal">type</code> setting must be set to <code class="literal">active_directory</code>. In addition to the
<a class="link" href="security-settings.html#ref-realm-settings" title="Settings valid for all realmsedit">settings that are valid for all realms</a>, you can specify
the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">url</code>
</span></dt><dd>
An LDAP URL of the form <code class="literal">ldap[s]://&lt;server&gt;:&lt;port&gt;</code>. Elasticsearch attempts to
authenticate against this URL. If the URL is not specified, it is derived from
the <code class="literal">domain_name</code> setting and assumes an unencrypted connection to port 389.
Defaults to <code class="literal">ldap://&lt;domain_name&gt;:389</code>. This setting is required when connecting
using SSL/TLS or when using a custom port.
</dd><dt><span class="term">
<code class="literal">load_balance.type</code>
</span></dt><dd>
The behavior to use when there are multiple LDAP URLs defined. For supported
values see <a class="link" href="security-settings.html#load-balancing" title="Load balancing and failoveredit">load balancing and failover types</a>.
Defaults to <code class="literal">failover</code>.
</dd><dt><span class="term">
<code class="literal">load_balance.cache_ttl</code>
</span></dt><dd>
When using <code class="literal">dns_failover</code> or <code class="literal">dns_round_robin</code> as the load balancing type,
this setting controls the amount of time to cache DNS lookups. Defaults
to <code class="literal">1h</code>.
</dd><dt><span class="term">
<code class="literal">domain_name</code>
</span></dt><dd>
The domain name of Active Directory. If the <code class="literal">url</code> and the <code class="literal">user_search_dn</code>
settings are not specified, the cluster can derive those values from this
setting. Required.
</dd><dt><span class="term">
<code class="literal">bind_dn</code>
</span></dt><dd>
The DN of the user that is used to bind to Active Directory and perform searches.
Defaults to Empty. Due to its potential security impact, <code class="literal">bind_dn</code> is not
exposed via the <a class="link" href="cluster-nodes-info.html" title="Nodes Info">nodes info API</a>.
</dd><dt><span class="term">
<code class="literal">bind_password</code>
</span></dt><dd>
<span class="deprecated">
      [<span class="version">6.3</span>]
      <span class="detail">Deprecated in 6.3. 
</span></span> Use <code class="literal">secure_bind_password</code> instead. The password for the user
that is used to bind to Active Directory. Defaults to Empty. Due to its
potential security impact, <code class="literal">bind_password</code> is not exposed via the
<a class="link" href="cluster-nodes-info.html" title="Nodes Info">nodes info API</a>.
</dd><dt><span class="term">
<code class="literal">secure_bind_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
The password for the user that is used to bind to Active Directory.
Defaults to Empty.
</dd><dt><span class="term">
<code class="literal">unmapped_groups_as_roles</code>
</span></dt><dd>
If set to <code class="literal">true</code>, the names of any unmapped Active Directory groups are used as
role names and assigned to the user. A group is considered <span class="emphasis"><em>unmapped</em></span> when it
is not referenced in any role-mapping files. API-based role mappings are not
considered. Defaults to <code class="literal">false</code>.
</dd><dt><span class="term">
<code class="literal">files.role_mapping</code>
</span></dt><dd>
The <a class="link" href="security-files.html" title="Security files">location</a> for the YAML
role mapping configuration file. Defaults to <code class="literal">ES_PATH_CONF/role_mapping.yml</code>.
</dd><dt><span class="term">
<code class="literal">user_search.base_dn</code>
</span></dt><dd>
The context to search for a user. Defaults to the root
of the Active Directory domain.
</dd><dt><span class="term">
<code class="literal">user_search.scope</code>
</span></dt><dd>
Specifies whether the user search should be <code class="literal">sub_tree</code>, <code class="literal">one_level</code> or <code class="literal">base</code>.
<code class="literal">one_level</code> only searches users directly contained within the <code class="literal">base_dn</code>.
<code class="literal">sub_tree</code> searches all objects contained under <code class="literal">base_dn</code>. <code class="literal">base</code>
specifies that the <code class="literal">base_dn</code> is a user object, and that it is the
only user considered. Defaults to <code class="literal">sub_tree</code>.
</dd><dt><span class="term">
<code class="literal">user_search.filter</code>
</span></dt><dd>
Specifies a filter to use to lookup a user given a username.  The default
filter looks up <code class="literal">user</code> objects with either <code class="literal">sAMAccountName</code> or
<code class="literal">userPrincipalName</code>. If specified, this must be a valid LDAP user search filter.
For example <code class="literal">(&amp;(objectClass=user)(sAMAccountName={0}))</code>. For more information,
see
<a class="ulink" href="https://msdn.microsoft.com/en-us/library/aa746475(v=vs.85).aspx" target="_top">Search Filter Syntax</a>.
</dd><dt><span class="term">
<code class="literal">user_search.upn_filter</code>
</span></dt><dd>
Specifies a filter to use to lookup a user given a user principal name.
The default filter looks up <code class="literal">user</code> objects with
a matching <code class="literal">userPrincipalName</code>. If specified, this
must be a valid LDAP user search filter. For example,
<code class="literal">(&amp;(objectClass=user)(userPrincipalName={1}))</code>. <code class="literal">{1}</code> is the full user principal name
provided by the user. For more information, see
<a class="ulink" href="https://msdn.microsoft.com/en-us/library/aa746475(v=vs.85).aspx" target="_top">Search Filter Syntax</a>.
</dd><dt><span class="term">
<code class="literal">user_search.down_level_filter</code>
</span></dt><dd>
Specifies a filter to use to lookup a user given a down level logon name
(DOMAIN\user). The default filter looks up <code class="literal">user</code> objects with a matching
<code class="literal">sAMAccountName</code> in the domain provided. If specified, this
must be a valid LDAP user search filter. For example,
<code class="literal">(&amp;(objectClass=user)(sAMAccountName={0}))</code>. For more information, see
<a class="ulink" href="https://msdn.microsoft.com/en-us/library/aa746475(v=vs.85).aspx" target="_top">Search Filter Syntax</a>.
</dd><dt><span class="term">
<code class="literal">user_search.pool.enabled</code>
</span></dt><dd>
Enables or disables connection pooling for user search. When
disabled a new connection is created for every search. The
default is <code class="literal">true</code> when <code class="literal">bind_dn</code> is provided.
</dd><dt><span class="term">
<code class="literal">user_search.pool.size</code>
</span></dt><dd>
The maximum number of connections to the Active Directory server to allow in the
connection pool. Defaults to <code class="literal">20</code>.
</dd><dt><span class="term">
<code class="literal">user_search.pool.initial_size</code>
</span></dt><dd>
The initial number of connections to create to the Active Directory server on startup.
Defaults to <code class="literal">0</code>. If the LDAP server is down, values greater than 0
could cause startup failures.
</dd><dt><span class="term">
<code class="literal">user_search.pool.health_check.enabled</code>
</span></dt><dd>
Enables or disables a health check on Active Directory connections in the connection
pool. Connections are checked in the background at the specified interval.
Defaults to <code class="literal">true</code>.
</dd><dt><span class="term">
<code class="literal">user_search.pool.health_check.dn</code>
</span></dt><dd>
The distinguished name to be retrieved as part of the health check.
Defaults to the value of <code class="literal">bind_dn</code> if that setting is present. Otherwise, it
defaults to the value of the <code class="literal">user_search.base_dn</code> setting.
</dd><dt><span class="term">
<code class="literal">user_search.pool.health_check.interval</code>
</span></dt><dd>
The interval to perform background checks of connections in the pool.
Defaults to <code class="literal">60s</code>.
</dd><dt><span class="term">
<code class="literal">group_search.base_dn</code>
</span></dt><dd>
The context to search for groups in which the user has membership.  Defaults
to the root of the Active Directory domain.
</dd><dt><span class="term">
<code class="literal">group_search.scope</code>
</span></dt><dd>
Specifies whether the group search should be <code class="literal">sub_tree</code>, <code class="literal">one_level</code> or
<code class="literal">base</code>.  <code class="literal">one_level</code> searches for groups directly contained within the
<code class="literal">base_dn</code>. <code class="literal">sub_tree</code> searches all objects contained under <code class="literal">base_dn</code>.
<code class="literal">base</code> specifies that the <code class="literal">base_dn</code> is a group object, and that it is
the only group considered. Defaults to <code class="literal">sub_tree</code>.
</dd><dt><span class="term">
<code class="literal">metadata</code>
</span></dt><dd>
A list of additional LDAP attributes that should be loaded from the
LDAP server and stored in the authenticated user’s metadata field.
</dd><dt><span class="term">
<code class="literal">timeout.tcp_connect</code>
</span></dt><dd>
The TCP connect timeout period for establishing an LDAP connection.
An <code class="literal">s</code> at the end indicates seconds, or <code class="literal">ms</code> indicates milliseconds.
Defaults to <code class="literal">5s</code> (5 seconds ).
</dd><dt><span class="term">
<code class="literal">timeout.tcp_read</code>
</span></dt><dd>
The TCP read timeout period after establishing an LDAP connection.
An <code class="literal">s</code> at the end indicates seconds, or <code class="literal">ms</code> indicates milliseconds.
Defaults to <code class="literal">5s</code> (5 seconds ).
</dd><dt><span class="term">
<code class="literal">timeout.ldap_search</code>
</span></dt><dd>
The LDAP Server enforced timeout period for an LDAP search.
An <code class="literal">s</code> at the end indicates seconds, or <code class="literal">ms</code> indicates milliseconds.
Defaults to <code class="literal">5s</code> (5 seconds ).
</dd><dt><span class="term">
<code class="literal">ssl.certificate</code>
</span></dt><dd>
Path to a PEM encoded file containing the certificate (or certificate chain)
that will be presented to clients when they connect.
</dd><dt><span class="term">
<code class="literal">ssl.certificate_authorities</code>
</span></dt><dd>
List of paths to PEM encoded certificate files that should be trusted.
<code class="literal">ssl.certificate_authorities</code> and <code class="literal">ssl.truststore.path</code> cannot be used at the
same time.
</dd><dt><span class="term">
<code class="literal">ssl.key</code>
</span></dt><dd>
Path to the PEM encoded file containing the private key, which is used when the
Active Directory server requires client authentication. <code class="literal">ssl.key</code> and
<code class="literal">ssl.keystore.path</code> cannot be used at the same time.
</dd><dt><span class="term">
<code class="literal">ssl.key_passphrase</code>
</span></dt><dd>
The passphrase that is used to decrypt the private key. This value is
optional as the key might not be encrypted.
</dd><dt><span class="term">
<code class="literal">ssl.secure_key_passphrase</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
The passphrase that is used to decrypt the private key. This value is
optional as the key might not be encrypted.
</dd><dt><span class="term">
<code class="literal">ssl.keystore.key_password</code>
</span></dt><dd>
The password for the key in the keystore. Defaults to the keystore password.
</dd><dt><span class="term">
<code class="literal">ssl.keystore.secure_key_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
The password for the key in the keystore. Defaults to the keystore password.
</dd><dt><span class="term">
<code class="literal">ssl.keystore.password</code>
</span></dt><dd>
The password to the keystore.
</dd><dt><span class="term">
<code class="literal">ssl.secure_keystore.password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
The password to the keystore.
</dd><dt><span class="term">
<code class="literal">ssl.keystore.path</code>
</span></dt><dd>
The path to the Java Keystore file that contains a private key and certificate.
<code class="literal">ssl.key</code> and <code class="literal">ssl.keystore.path</code> cannot be used at the same time.
</dd><dt><span class="term">
<code class="literal">ssl.keystore.type</code>
</span></dt><dd>
The format of the keystore file. Should be <code class="literal">jks</code> to use the Java
Keystore format, <code class="literal">PKCS12</code> to use PKCS#12 files, or <code class="literal">PKCS11</code> to use a PKCS#11 token.
The default is <code class="literal">jks</code>.
</dd><dt><span class="term">
<code class="literal">ssl.truststore.password</code>
</span></dt><dd>
The password to the truststore.
</dd><dt><span class="term">
<code class="literal">ssl.truststore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
The password to the truststore.
</dd><dt><span class="term">
<code class="literal">ssl.truststore.path</code>
</span></dt><dd>
The path to the Java Keystore file that contains the certificates to trust.
<code class="literal">ssl.certificate_authorities</code> and <code class="literal">ssl.truststore.path</code> cannot be used at the
same time.
</dd><dt><span class="term">
<code class="literal">ssl.truststore.type</code>
</span></dt><dd>
The format of the truststore file. Should be <code class="literal">jks</code> to use the Java
Keystore format, <code class="literal">PKCS12</code> to use PKCS#12 files, or <code class="literal">PKCS11</code> to use a PKCS#11 token.
The default is <code class="literal">jks</code>.
</dd><dt><span class="term">
<code class="literal">ssl.verification_mode</code>
</span></dt><dd><p class="simpara">
Indicates the type of verification when using <code class="literal">ldaps</code> to protect against man
in the middle attacks and certificate forgery. Values are <code class="literal">none</code>, <code class="literal">certificate</code>,
and <code class="literal">full</code>. Defaults to the value of <code class="literal">xpack.ssl.verification_mode</code>.
</p><p class="simpara">See <a class="link" href="security-settings.html#ssl-tls-settings" title="Default TLS/SSL settingsedit"><code class="literal">xpack.ssl.verification_mode</code></a> for an explanation of
these values.</p></dd><dt><span class="term">
<code class="literal">ssl.supported_protocols</code>
</span></dt><dd>
Supported protocols for TLS/SSL (with versions). Defaults to the value of
<code class="literal">xpack.ssl.supported_protocols</code>.
</dd><dt><span class="term">
<code class="literal">ssl.cipher_suites</code>
</span></dt><dd>
Specifies the cipher suites that should be supported when
communicating with the Active Directory server.
Supported cipher suites can be found in Oracle’s <a class="ulink" href="http://docs.oracle.com/javase/8/docs/technotes/guides/security/SunProviders.html" target="_top">
Java Cryptography Architecture documentation</a>. Defaults to the value of
<code class="literal">xpack.ssl.cipher_suites</code>.
</dd><dt><span class="term">
<code class="literal">cache.ttl</code>
</span></dt><dd>
Specifies the time-to-live for cached user entries. A user and a hash of its
credentials are cached for this configured period of time. Use the
standard Elasticsearch <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/common-options.html#time-units" target="_top">time units</a>).
Defaults to <code class="literal">20m</code>.
</dd><dt><span class="term">
<code class="literal">cache.max_users</code>
</span></dt><dd>
Specifies the maximum number of user entries that the cache can contain.
Defaults to <code class="literal">100000</code>.
</dd><dt><span class="term">
<code class="literal">cache.hash_algo</code>
</span></dt><dd>
(Expert Setting) Specifies the hashing algorithm that is used for
the in-memory cached user credentials. See <a class="xref" href="security-settings.html#cache-hash-algo" title="Table 2. Cache hash algorithms">Table 2, “Cache hash algorithms”</a>. Defaults to <code class="literal">ssha256</code>.
</dd><dt><span class="term">
<code class="literal">authentication.enabled</code>
</span></dt><dd>
If set to <code class="literal">false</code>, disables authentication support in
this realm, so that it only supports user lookups.
(See the <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/run-as-privilege.html" target="_top">run as</a> and
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/realm-chains.html#authorization_realms" target="_top">authorization realms</a> features).
Defaults to <code class="literal">true</code>.
</dd><dt><span class="term">
<code class="literal">follow_referrals</code>
</span></dt><dd>
If set to <code class="literal">true</code>, Elasticsearch follows referrals returned by the LDAP server.
Referrals are URLs returned by the server that are to be used to continue the
LDAP operation (such as <code class="literal">search</code>). Defaults to <code class="literal">true</code>.
</dd></dl></div><h5><a id="ref-pki-settings"></a>PKI realm settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The <code class="literal">type</code> setting must be set to <code class="literal">pki</code>. In addition to the
<a class="link" href="security-settings.html#ref-realm-settings" title="Settings valid for all realmsedit">settings that are valid for all realms</a>, you can specify
the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">username_pattern</code>
</span></dt><dd>
The regular expression pattern used to extract the username from the
certificate DN. The first match group is the used as the username.
Defaults to <code class="literal">CN=(.*?)(?:,\|$)</code>.
</dd><dt><span class="term">
<code class="literal">certificate_authorities</code>
</span></dt><dd>
List of paths to the PEM certificate files that should be used to authenticate a
user’s certificate as trusted. Defaults to the trusted certificates configured
for SSL. This setting cannot be used with <code class="literal">truststore.path</code>.
</dd><dt><span class="term">
<code class="literal">truststore.algorithm</code>
</span></dt><dd>
Algorithm for the truststore. Defaults to <code class="literal">SunX509</code>.
</dd><dt><span class="term">
<code class="literal">truststore.password</code>
</span></dt><dd>
The password for the truststore. Must be provided if <code class="literal">truststore.path</code> is set.
</dd><dt><span class="term">
<code class="literal">truststore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
The password for the truststore.
</dd><dt><span class="term">
<code class="literal">truststore.path</code>
</span></dt><dd>
The path of a truststore to use. Defaults to the trusted certificates configured
for SSL. This setting cannot be used with <code class="literal">certificate_authorities</code>.
</dd><dt><span class="term">
<code class="literal">files.role_mapping</code>
</span></dt><dd>
Specifies the <a class="link" href="security-files.html" title="Security files">location</a> of the
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/mapping-roles.html" target="_top">YAML role  mapping configuration file</a>.
Defaults to <code class="literal">ES_PATH_CONF/role_mapping.yml</code>.
</dd><dt><span class="term">
<code class="literal">authorization_realms</code>
</span></dt><dd>
The names of the realms that should be consulted for delegated authorization.
If this setting is used, then the PKI realm does not perform role mapping and
instead loads the user from the listed realms.
See <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/realm-chains.html#authorization_realms" target="_top">Delegating authorization to another realm</a>
</dd><dt><span class="term">
<code class="literal">cache.ttl</code>
</span></dt><dd>
Specifies the time-to-live for cached user entries. A user and a hash of its
credentials are cached for this period of time. Use the
standard Elasticsearch <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/common-options.html#time-units" target="_top">time units</a>).
Defaults to <code class="literal">20m</code>.
</dd><dt><span class="term">
<code class="literal">cache.max_users</code>
</span></dt><dd>
Specifies the maximum number of user entries that the cache can contain.
Defaults to <code class="literal">100000</code>.
</dd></dl></div><h5><a id="ref-saml-settings"></a>SAML realm settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The <code class="literal">type</code> setting must be set to <code class="literal">saml</code>. In addition to the
<a class="link" href="security-settings.html#ref-realm-settings" title="Settings valid for all realmsedit">settings that are valid for all realms</a>, you can specify
the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">idp.entity_id</code>
</span></dt><dd>
The Entity ID of the SAML Identity Provider. An Entity ID is a URI with a
maximum length of 1024 characters. It can be a URL (<a class="ulink" href="https://idp.example.com/" target="_top">https://idp.example.com/</a>) or
a URN (<code class="literal">urn:example.com:idp</code>) and can be found in the configuration or the SAML
metadata of the Identity Provider.
</dd><dt><span class="term">
<code class="literal">idp.metadata.path</code>
</span></dt><dd>
The path <span class="emphasis"><em>(recommended)</em></span> or URL to a SAML 2.0 metadata file describing the
capabilities and configuration of the Identity Provider.
If a path is provided, then it is resolved relative to the Elasticsearch config
directory.
If a URL is provided, then it must be either a <code class="literal">file</code> URL or a <code class="literal">https</code> URL.
Elasticsearch automatically polls this metadata resource and reloads
the IdP configuration when changes are detected.
File based resources are polled at a frequency determined by the global Elasticsearch
<code class="literal">resource.reload.interval.high</code> setting, which defaults to 5 seconds.
HTTPS resources are polled at a frequency determined by the realm’s
<code class="literal">idp.metadata.http.refresh</code> setting.
</dd><dt><span class="term">
<code class="literal">idp.metadata.http.refresh</code>
</span></dt><dd>
Controls the frequency with which <code class="literal">https</code> metadata is checked for changes.
Defaults to <code class="literal">1h</code> (1 hour).
</dd><dt><span class="term">
<code class="literal">idp.use_single_logout</code>
</span></dt><dd>
Indicates whether to utilise the Identity Provider’s Single Logout service
(if one exists in the IdP metadata file).
Defaults to <code class="literal">true</code>.
</dd><dt><span class="term">
<code class="literal">sp.entity_id</code>
</span></dt><dd>
The Entity ID to use for this SAML Service Provider. This should be entered as a
URI. We recommend that you use the base URL of your Kibana instance. For example,
<code class="literal">https://kibana.example.com/</code>.
</dd><dt><span class="term">
<code class="literal">sp.acs</code>
</span></dt><dd>
The URL of the Assertion Consumer Service within Kibana. Typically this is the
"api/security/v1/saml" endpoint of your Kibana server. For example,
<code class="literal">https://kibana.example.com/api/security/v1/saml</code>.
</dd><dt><span class="term">
<code class="literal">sp.logout</code>
</span></dt><dd>
The URL of the Single Logout service within Kibana. Typically this is the
"logout" endpoint of your Kibana server. For example,
<code class="literal">https://kibana.example.com/logout</code>.
</dd><dt><span class="term">
<code class="literal">attributes.principal</code>
</span></dt><dd>
The Name of the SAML attribute that contains the user’s principal (username).
</dd><dt><span class="term">
<code class="literal">attributes.groups</code>
</span></dt><dd>
The Name of the SAML attribute that contains the user’s groups.
</dd><dt><span class="term">
<code class="literal">attributes.name</code>
</span></dt><dd>
The Name of the SAML attribute that contains the user’s full name.
</dd><dt><span class="term">
<code class="literal">attributes.mail</code>
</span></dt><dd>
The Name of the SAML attribute that contains the user’s email address.
</dd><dt><span class="term">
<code class="literal">attributes.dn</code>
</span></dt><dd>
The Name of the SAML attribute that contains the user’s X.50
<span class="emphasis"><em>Distinguished Name</em></span>.
</dd><dt><span class="term">
<code class="literal">attribute_patterns.principal</code>
</span></dt><dd>
A Java regular expression that is matched against the SAML attribute specified
by <code class="literal">attributes.pattern</code> before it is applied to the user’s <span class="emphasis"><em>principal</em></span> property.
The attribute value must match the pattern and the value of the first
<span class="emphasis"><em>capturing group</em></span> is used as the principal. For example, <code class="literal">^([^@]+)@example\\.com$</code>
matches email addresses from the "example.com" domain and uses the local-part as
the principal.
</dd><dt><span class="term">
<code class="literal">attribute_patterns.groups</code>
</span></dt><dd>
As per <code class="literal">attribute_patterns.principal</code>, but for the <span class="emphasis"><em>group</em></span> property.
</dd><dt><span class="term">
<code class="literal">attribute_patterns.name</code>
</span></dt><dd>
As per <code class="literal">attribute_patterns.principal</code>, but for the <span class="emphasis"><em>name</em></span> property.
</dd><dt><span class="term">
<code class="literal">attribute_patterns.mail</code>
</span></dt><dd>
As per <code class="literal">attribute_patterns.principal</code>, but for the <span class="emphasis"><em>mail</em></span> property.
</dd><dt><span class="term">
<code class="literal">attribute_patterns.dn</code>
</span></dt><dd>
As per <code class="literal">attribute_patterns.principal</code>, but for the <span class="emphasis"><em>dn</em></span> property.
</dd><dt><span class="term">
<code class="literal">nameid_format</code>
</span></dt><dd>
The NameID format that should be requested when asking the IdP to authenticate
the current user. Defaults to requesting <span class="emphasis"><em>transient</em></span> names
(<code class="literal">urn:oasis:names:tc:SAML:2.0:nameid-format:transient</code>).
</dd><dt><span class="term">
<code class="literal">nameid.allow_create</code>
</span></dt><dd>
The value of the <code class="literal">AllowCreate</code> attribute of the
<code class="literal">NameIdPolicy</code> element in an authentication request. Defaults to <code class="literal">false</code>.
</dd><dt><span class="term">
<code class="literal">nameid.sp_qualifier</code>
</span></dt><dd>
The value of the <code class="literal">SPNameQualifier</code> attribute of the
<code class="literal">NameIdPolicy</code> element in an authentication request. The default is to not
include the <code class="literal">SPNameQualifier</code> attribute.
</dd><dt><span class="term">
<code class="literal">force_authn</code>
</span></dt><dd>
Specifies whether to set the <code class="literal">ForceAuthn</code> attribute when requesting that the IdP
authenticate the current user. If set to <code class="literal">true</code>, the IdP is required to verify
the user’s identity, irrespective of any existing sessions they might have.
Defaults to <code class="literal">false</code>.
</dd><dt><span class="term">
<code class="literal">populate_user_metadata</code>
</span></dt><dd>
Specifies whether to populate the Elasticsearch user’s metadata with the values that are
provided by the SAML attributes. Defaults to <code class="literal">true</code>.
</dd><dt><span class="term">
<code class="literal">authorization_realms</code>
</span></dt><dd>
The names of the realms that should be consulted for delegated authorization.
If this setting is used, then the SAML realm does not perform role mapping and
instead loads the user from the listed realms.
See <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/realm-chains.html#authorization_realms" target="_top">Delegating authorization to another realm</a>
</dd><dt><span class="term">
<code class="literal">allowed_clock_skew</code>
</span></dt><dd>
The maximum amount of skew that can be tolerated between the IdP’s clock and the
Elasticsearch node’s clock.
Defaults to <code class="literal">3m</code> (3 minutes).
</dd><dt><span class="term">
<code class="literal">req_authn_context_class_ref</code>
</span></dt><dd><p class="simpara">
A comma separated list of Authentication Context Class Reference values to be
included in the Requested Authentication Context when requesting the IdP to
authenticate the current user. The Authentication Context of the corresponding
authentication response should contain at least one of the requested values.
</p><p class="simpara">For more information, see
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/saml-guide-authentication.html#req-authn-context" target="_top">Requesting specific authentication methods</a>.</p></dd></dl></div><h5><a id="ref-saml-signing-settings"></a>SAML realm signing settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>If a signing key is configured (that is, either <code class="literal">signing.key</code> or
<code class="literal">signing.keystore.path</code> is set), then Elasticsearch signs outgoing SAML messages.
Signing can be configured using the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">signing.saml_messages</code>
</span></dt><dd>
A list of SAML message types that should be signed or <code class="literal">*</code> to sign all messages.
Each element in the list should be the local name of a SAML XML Element.
Supported element types are <code class="literal">AuthnRequest</code>, <code class="literal">LogoutRequest</code> and <code class="literal">LogoutResponse</code>.
Only valid if <code class="literal">signing.key</code> or <code class="literal">signing.keystore.path</code> is also specified.
Defaults to <code class="literal">*</code>.
</dd><dt><span class="term">
<code class="literal">signing.key</code>
</span></dt><dd>
Specifies the path to the PEM encoded private key to use for SAML message signing.
<code class="literal">signing.key</code> and <code class="literal">signing.keystore.path</code> cannot be used at the same time.
</dd><dt><span class="term">
<code class="literal">signing.secure_key_passphrase</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Specifies the passphrase to decrypt the PEM encoded private key (<code class="literal">signing.key</code>)
if it is encrypted.
</dd><dt><span class="term">
<code class="literal">signing.certificate</code>
</span></dt><dd>
Specifies the path to the PEM encoded certificate (or certificate chain) that
corresponds to the <code class="literal">signing.key</code>. This certificate must also be included in the
Service Provider metadata or manually configured within the IdP to allow for
signature validation. This setting can only be used if <code class="literal">signing.key</code> is set.
</dd><dt><span class="term">
<code class="literal">signing.keystore.path</code>
</span></dt><dd>
The path to the keystore that contains a private key and certificate.
Must be either a Java Keystore (jks) or a PKCS#12 file.
<code class="literal">signing.key</code> and <code class="literal">signing.keystore.path</code> cannot be used at the same time.
</dd><dt><span class="term">
<code class="literal">signing.keystore.type</code>
</span></dt><dd>
The type of the keystore in <code class="literal">signing.keystore.path</code>.
Must be either <code class="literal">jks</code> or <code class="literal">PKCS12</code>. If the keystore path ends in ".p12", ".pfx",
or "pkcs12", this setting defaults to <code class="literal">PKCS12</code>. Otherwise, it defaults to <code class="literal">jks</code>.
</dd><dt><span class="term">
<code class="literal">signing.keystore.alias</code>
</span></dt><dd>
Specifies the alias of the key within the keystore that should be
used for SAML message signing. If the keystore contains more than one private
key, this setting must be specified.
</dd><dt><span class="term">
<code class="literal">signing.keystore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
The password to the keystore in <code class="literal">signing.keystore.path</code>.
</dd><dt><span class="term">
<code class="literal">signing.keystore.secure_key_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
The password for the key in the keystore (<code class="literal">signing.keystore.path</code>).
Defaults to the keystore password.
</dd></dl></div><h5><a id="ref-saml-encryption-settings"></a>SAML realm encryption settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>If an encryption key is configured (that is, either <code class="literal">encryption.key</code> or
<code class="literal">encryption.keystore.path</code> is set), then Elasticsearch publishes an encryption
certificate when generating metadata and attempts to decrypt incoming SAML
content. Encryption can be configured using the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">encryption.key</code>
</span></dt><dd>
Specifies the path to the PEM encoded private key to use for SAML message
decryption.
<code class="literal">encryption.key</code> and <code class="literal">encryption.keystore.path</code> cannot be used at the same time.
</dd><dt><span class="term">
<code class="literal">encryption.secure_key_passphrase</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Specifies the passphrase to decrypt the PEM encoded private key
(<code class="literal">encryption.key</code>) if it is encrypted.
</dd><dt><span class="term">
<code class="literal">encryption.certificate</code>
</span></dt><dd>
Specifies the path to the PEM encoded certificate (or certificate chain) that is
associated with the <code class="literal">encryption.key</code>. This certificate must also be included in
the Service Provider metadata or manually configured within the IdP to enable
message encryption. This setting can be used only if <code class="literal">encryption.key</code> is set.
</dd><dt><span class="term">
<code class="literal">encryption.keystore.path</code>
</span></dt><dd>
The path to the keystore that contains a private key and certificate.
Must be either a Java Keystore (jks) or a PKCS#12 file.
<code class="literal">encryption.key</code> and <code class="literal">encryption.keystore.path</code> cannot be used at the same time.
</dd><dt><span class="term">
<code class="literal">encryption.keystore.type</code>
</span></dt><dd>
The type of the keystore (<code class="literal">encryption.keystore.path</code>).
Must be either <code class="literal">jks</code> or <code class="literal">PKCS12</code>. If the keystore path ends in ".p12", ".pfx",
or "pkcs12", this setting defaults to <code class="literal">PKCS12</code>. Otherwise, it defaults to <code class="literal">jks</code>.
</dd><dt><span class="term">
<code class="literal">encryption.keystore.alias</code>
</span></dt><dd>
Specifies the alias of the key within the keystore (<code class="literal">encryption.keystore.path</code>)
that should be used for SAML message decryption. If not specified, all compatible
key pairs from the keystore are considered as candidate keys for decryption.
</dd><dt><span class="term">
<code class="literal">encryption.keystore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
The password to the keystore (<code class="literal">encryption.keystore.path</code>).
</dd><dt><span class="term">
<code class="literal">encryption.keystore.secure_key_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
The password for the key in the keystore (<code class="literal">encryption.keystore.path</code>). Only a
single password is supported. If you are using multiple decryption keys,
they cannot have individual passwords.
</dd></dl></div><h5><a id="ref-saml-ssl-settings"></a>SAML realm SSL settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>If you are loading the IdP metadata over SSL/TLS (that is, <code class="literal">idp.metadata.path</code>
is a URL using the <code class="literal">https</code> protocol), the following settings can be used to
configure SSL. If these are not specified, then the
<a class="link" href="security-settings.html#ssl-tls-settings" title="Default TLS/SSL settingsedit">default SSL settings</a> are used.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>These settings are not used for any purpose other than loading metadata
over https.</p></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">ssl.key</code>
</span></dt><dd>
Specifies the path to the PEM encoded private key to use for http client
authentication (if required). <code class="literal">ssl.key</code> and <code class="literal">ssl.keystore.path</code> cannot be used
at the same time.
</dd><dt><span class="term">
<code class="literal">ssl.key_passphrase</code>
</span></dt><dd>
Specifies the
passphrase to decrypt the PEM encoded private key (<code class="literal">ssl.key</code>) if it is
encrypted. Cannot be used with <code class="literal">ssl.secure_key_passphrase</code>.
</dd><dt><span class="term">
<code class="literal">ssl.secure_key_passphrase</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Specifies the
passphrase to decrypt the PEM encoded private key (<code class="literal">ssl.key</code>) if it is
encrypted. Cannot be used with <code class="literal">ssl.key_passphrase</code>.
</dd><dt><span class="term">
<code class="literal">ssl.certificate</code>
</span></dt><dd>
Specifies the
path to the PEM encoded certificate (or certificate chain) that is associated
with the key (<code class="literal">ssl.key</code>). This setting can be used only if <code class="literal">ssl.key</code> is set.
</dd><dt><span class="term">
<code class="literal">ssl.certificate_authorities</code>
</span></dt><dd>
Specifies the
paths to the PEM encoded certificate authority certificates that should be
trusted. <code class="literal">ssl.certificate_authorities</code> and <code class="literal">ssl.truststore.path</code> cannot be
used at the same time.
</dd><dt><span class="term">
<code class="literal">ssl.keystore.path</code>
</span></dt><dd>
Specifies the path to
the keystore that contains a private key and certificate.
Must be either a Java Keystore (jks) or a PKCS#12 file.
<code class="literal">ssl.key</code> and <code class="literal">ssl.keystore.path</code> cannot be used at the same time.
</dd><dt><span class="term">
<code class="literal">ssl.keystore.type</code>
</span></dt><dd>
The type of the keystore (<code class="literal">ssl.keystore.path</code>). Must be either <code class="literal">jks</code> or <code class="literal">PKCS12</code>.
If the keystore path ends in ".p12", ".pfx" or "pkcs12", this setting defaults
to <code class="literal">PKCS12</code>. Otherwise, it defaults to <code class="literal">jks</code>.
</dd><dt><span class="term">
<code class="literal">ssl.keystore.password</code>
</span></dt><dd>
The password to the keystore (<code class="literal">ssl.keystore.path</code>). This setting cannot be used
with <code class="literal">ssl.keystore.secure_password</code>.
</dd><dt><span class="term">
<code class="literal">ssl.keystore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
The password to the keystore (<code class="literal">ssl.keystore.path</code>).
This setting cannot be used with <code class="literal">ssl.keystore.password</code>.
</dd><dt><span class="term">
<code class="literal">ssl.keystore.key_password</code>
</span></dt><dd>
The password for the key in the keystore (<code class="literal">ssl.keystore.path</code>).
Defaults to the keystore password. This setting cannot be used with
<code class="literal">ssl.keystore.secure_key_password</code>.
</dd><dt><span class="term">
<code class="literal">ssl.keystore.secure_key_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
The password for the key in the keystore (<code class="literal">ssl.keystore.path</code>).
Defaults to the keystore password. This setting cannot be used with
<code class="literal">ssl.keystore.key_password</code>.
</dd><dt><span class="term">
<code class="literal">ssl.truststore.path</code>
</span></dt><dd>
The path to the
keystore that contains the certificates to trust.
Must be either a Java Keystore (jks) or a PKCS#12 file.
<code class="literal">ssl.certificate_authorities</code> and <code class="literal">ssl.truststore.path</code> cannot be used at the
same time.
</dd><dt><span class="term">
<code class="literal">ssl.truststore.type</code>
</span></dt><dd>
The type of the truststore (<code class="literal">ssl.truststore.path</code>). Must be either <code class="literal">jks</code> or
<code class="literal">PKCS12</code>. If the keystore path ends in ".p12", ".pfx" or "pkcs12", this setting
defaults to <code class="literal">PKCS12</code>. Otherwise, it defaults to <code class="literal">jks</code>.
</dd><dt><span class="term">
<code class="literal">ssl.truststore.password</code>
</span></dt><dd>
The password to the truststore (<code class="literal">ssl.truststore.path</code>). This setting cannot be
used with <code class="literal">ssl.truststore.secure_password</code>.
</dd><dt><span class="term">
<code class="literal">ssl.truststore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
The password to the truststore (<code class="literal">ssl.truststore.path</code>). This setting cannot be
used with <code class="literal">ssl.truststore.password</code>.
</dd><dt><span class="term">
<code class="literal">ssl.verification_mode</code>
</span></dt><dd><p class="simpara">
One of <code class="literal">full</code>
(verify the hostname and the certificate path), <code class="literal">certificate</code> (verify the
certificate path, but not the hostname) or <code class="literal">none</code> (perform no verification).
Defaults to <code class="literal">full</code>.
</p><p class="simpara">See <a class="link" href="security-settings.html#ssl-tls-settings" title="Default TLS/SSL settingsedit"><code class="literal">xpack.ssl.verification_mode</code></a> for a more detailed
explanation of these values.</p></dd><dt><span class="term">
<code class="literal">ssl.supported_protocols</code>
</span></dt><dd>
Specifies the supported protocols for TLS/SSL.
</dd><dt><span class="term">
<code class="literal">ssl.cipher_suites</code>
</span></dt><dd>
Specifies the
cipher suites that should be supported.
</dd></dl></div><h5><a id="ref-kerberos-settings"></a>Kerberos realm settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>For a Kerberos realm, the <code class="literal">type</code> must be set to <code class="literal">kerberos</code>. In addition to the
<a class="link" href="security-settings.html#ref-realm-settings" title="Settings valid for all realmsedit">settings that are valid for all realms</a>, you can specify
the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">keytab.path</code>
</span></dt><dd>
Specifies the path to the Kerberos keytab file that contains the
service principal used by this Elasticsearch node. This must be a location within the
Elasticsearch configuration directory and the file must have read permissions. Required.
</dd><dt><span class="term">
<code class="literal">remove_realm_name</code>
</span></dt><dd>
Set to <code class="literal">true</code> to remove the realm part of principal names.
Principal names in Kerberos have the form <code class="literal">user/instance@REALM</code>. If this option
is <code class="literal">true</code>, the realm part (<code class="literal">@REALM</code>) will not be included in the username.
Defaults to <code class="literal">false</code>.
</dd><dt><span class="term">
<code class="literal">krb.debug</code>
</span></dt><dd>
Set to <code class="literal">true</code> to enable debug logs for the Java login module that
provides support for Kerberos authentication. Defaults to <code class="literal">false</code>.
</dd><dt><span class="term">
<code class="literal">cache.ttl</code>
</span></dt><dd>
The time-to-live for cached user entries. A user is cached for
this period of time. Specify the time period using the standard Elasticsearch
<a class="link" href="common-options.html#time-units" title="Time unitsedit">time units</a>. Defaults to <code class="literal">20m</code>.
</dd><dt><span class="term">
<code class="literal">cache.max_users</code>
</span></dt><dd>
The maximum number of user entries that can live in the
cache at any given time. Defaults to 100,000.
</dd><dt><span class="term">
<code class="literal">authorization_realms</code>
</span></dt><dd>
The names of the realms that should be consulted for delegated authorization.
If this setting is used, then the Kerberos realm does not perform role mapping and
instead loads the user from the listed realms.
See <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/realm-chains.html#authorization_realms" target="_top">Delegating authorization to another realm</a>
</dd></dl></div><h5><a id="load-balancing"></a>Load balancing and failover<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The <code class="literal">load_balance.type</code> setting can have the following values:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<code class="literal">failover</code>: The URLs specified are used in the order that they are specified.
The first server that can be connected to will be used for all subsequent
connections. If a connection to that server fails then the next server that a
connection can be established to will be used for subsequent connections.
</li><li class="listitem">
<code class="literal">dns_failover</code>: In this mode of operation, only a single URL may be specified.
This URL must contain a DNS name. The system will be queried for all IP
addresses that correspond to this DNS name. Connections to the Active Directory
or LDAP server will always be tried in the order in which they were retrieved.
This differs from <code class="literal">failover</code> in that there is no reordering of the list and if a
server has failed at the beginning of the list, it will still be tried for each
subsequent connection.
</li><li class="listitem">
<code class="literal">round_robin</code>: Connections will continuously iterate through the list of
provided URLs. If a server is unavailable, iterating through the list of URLs
will continue until a successful connection is made.
</li><li class="listitem">
<code class="literal">dns_round_robin</code>: In this mode of operation, only a single URL may be
specified. This URL must contain a DNS name. The system will be queried for all
IP addresses that correspond to this DNS name. Connections will continuously
iterate through the list of addresses. If a server is unavailable, iterating
through the list of URLs will continue until a successful connection is made.
</li></ul></div><h4><a id="ssl-tls-settings"></a>Default TLS/SSL settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>You can configure the following TLS/SSL settings in
<code class="literal">elasticsearch.yml</code>. For more information, see
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/encrypting-communications.html" target="_top">Encrypting communications</a>. These
settings are used unless they have been overridden by more specific
settings such as those for HTTP or Transport.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.ssl.supported_protocols</code>
</span></dt><dd><p class="simpara">
Supported protocols with versions. Valid protocols: <code class="literal">SSLv2Hello</code>,
<code class="literal">SSLv3</code>, <code class="literal">TLSv1</code>, <code class="literal">TLSv1.1</code>, <code class="literal">TLSv1.2</code>. Defaults to <code class="literal">TLSv1.2</code>, <code class="literal">TLSv1.1</code>,
<code class="literal">TLSv1</code>.
</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>If <code class="literal">xpack.security.fips_mode.enabled</code> is <code class="literal">true</code>, you cannot use <code class="literal">SSLv2Hello</code>
or <code class="literal">SSLv3</code>. See <a class="xref" href="fips-140-compliance.html" title="FIPS 140-2">FIPS 140-2</a>.</p></div></div></dd><dt><span class="term">
<code class="literal">xpack.ssl.client_authentication</code>
</span></dt><dd>
Controls the server’s behavior in regard to requesting a certificate
from client connections. Valid values are <code class="literal">required</code>, <code class="literal">optional</code>, and <code class="literal">none</code>.
<code class="literal">required</code> forces a client to present a certificate, while <code class="literal">optional</code>
requests a client certificate but the client is not required to present one.
Defaults to <code class="literal">required</code>. This global setting is not applicable for HTTP, see
 <a class="xref" href="security-settings.html#http-tls-ssl-settings" title="HTTP TLS/SSL Settings">HTTP TLS/SSL Settings</a>.
</dd><dt><span class="term">
<code class="literal">xpack.ssl.verification_mode</code>
</span></dt><dd><p class="simpara">
Controls the verification of certificates. Valid values are:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<code class="literal">full</code>, which verifies that the provided certificate is signed by a trusted
       authority (CA) and also verifies that the server’s hostname (or IP
       address) matches the names identified within the certificate.
</li><li class="listitem">
<code class="literal">certificate</code>, which verifies that the provided certificate is signed by a
       trusted authority (CA), but does not perform any hostname verification.
</li><li class="listitem"><p class="simpara">
<code class="literal">none</code>, which performs <span class="emphasis"><em>no verification</em></span> of the server’s certificate. This mode
       disables many of the security benefits of SSL/TLS and should only be
       used after very careful consideration. It is primarily intended as a
       temporary diagnostic mechanism when attempting to resolve TLS errors,
       and its use on production clusters is strongly discouraged.
</p><p class="simpara">The default value is <code class="literal">full</code>.</p></li></ul></div></dd><dt><span class="term">
<code class="literal">xpack.ssl.cipher_suites</code>
</span></dt><dd>
Supported cipher suites can be found in Oracle’s <a class="ulink" href="http://docs.oracle.com/javase/8/docs/technotes/guides/security/SunProviders.html" target="_top">
Java Cryptography Architecture documentation</a>. Defaults to <code class="literal">TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256</code>,
<code class="literal">TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256</code>, <code class="literal">TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA</code>, <code class="literal">TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA</code>,
<code class="literal">TLS_RSA_WITH_AES_128_CBC_SHA256</code>, <code class="literal">TLS_RSA_WITH_AES_128_CBC_SHA</code>. If the <span class="emphasis"><em>Java Cryptography Extension (JCE) Unlimited Strength
Jurisdiction Policy Files</em></span> has been installed, the default value also includes <code class="literal">TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384</code>,
<code class="literal">TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384</code>, <code class="literal">TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA</code>, <code class="literal">TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA</code>,
<code class="literal">TLS_RSA_WITH_AES_256_CBC_SHA256</code>, <code class="literal">TLS_RSA_WITH_AES_256_CBC_SHA</code>.
</dd></dl></div><h5><a id="tls-ssl-key-settings"></a>Default TLS/SSL key and trusted certificate settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The following settings are used to specify a private key, certificate, and the
trusted certificates that should be used when communicating over an SSL/TLS connection.
If none of the settings below are specified, the
<a class="link" href="security-settings.html#ssl-tls-settings" title="Default TLS/SSL settingsedit">default settings</a> are used. If no trusted certificates are configured, the default certificates that are trusted by the JVM will be
trusted along with the certificate(s) from the <a class="link" href="security-settings.html#tls-ssl-key-settings" title="Default TLS/SSL key and trusted certificate settingsedit">key settings</a>. The key and certificate must be in place
for connections that require client authentication or when acting as a SSL enabled server.</p><h5><a id="_pem_encoded_files_2"></a>PEM encoded files<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>When using PEM encoded files, use the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.ssl.key</code>
</span></dt><dd>
Path to the PEM encoded file containing the private key.
</dd><dt><span class="term">
<code class="literal">xpack.ssl.key_passphrase</code>
</span></dt><dd>
The passphrase that is used to decrypt the private key. This value is
optional as the key might not be encrypted.
</dd><dt><span class="term">
<code class="literal">xpack.ssl.secure_key_passphrase</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
The passphrase that is used to decrypt the private key. This value is
optional as the key might not be encrypted.
</dd><dt><span class="term">
<code class="literal">xpack.ssl.certificate</code>
</span></dt><dd>
Path to a PEM encoded file containing the certificate (or certificate chain)
that will be presented to clients when they connect.
</dd><dt><span class="term">
<code class="literal">xpack.ssl.certificate_authorities</code>
</span></dt><dd>
List of paths to the PEM encoded certificate files that should be trusted.
</dd></dl></div><h5><a id="_java_keystore_files_2"></a>Java keystore files<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>When using Java keystore files (JKS), which contain the private key, certificate
and certificates that should be trusted, use the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.ssl.keystore.path</code>
</span></dt><dd>
Path to the keystore that holds the private key and certificate.
</dd><dt><span class="term">
<code class="literal">xpack.ssl.keystore.password</code>
</span></dt><dd>
Password to the keystore.
</dd><dt><span class="term">
<code class="literal">xpack.ssl.keystore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password to the keystore.
</dd><dt><span class="term">
<code class="literal">xpack.ssl.keystore.key_password</code>
</span></dt><dd>
Password for the private key in the keystore. Defaults to the
same value as <code class="literal">xpack.ssl.keystore.password</code>.
</dd><dt><span class="term">
<code class="literal">xpack.ssl.keystore.secure_key_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password for the private key in the keystore.
</dd><dt><span class="term">
<code class="literal">xpack.ssl.truststore.path</code>
</span></dt><dd>
Path to the truststore file.
</dd><dt><span class="term">
<code class="literal">xpack.ssl.truststore.password</code>
</span></dt><dd>
Password to the truststore.
</dd><dt><span class="term">
<code class="literal">xpack.ssl.truststore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password to the truststore.
</dd></dl></div><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>If <code class="literal">xpack.security.fips_mode.enabled</code> is <code class="literal">true</code>, you cannot use Java
keystore files. See <a class="xref" href="fips-140-compliance.html" title="FIPS 140-2">FIPS 140-2</a>.</p></div></div><h5><a id="_pkcs_12_files_2"></a>PKCS#12 files<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>When using PKCS#12 container files (<code class="literal">.p12</code> or <code class="literal">.pfx</code>), which contain the
private key, certificate, and certificates that should be trusted, use
the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.ssl.keystore.path</code>
</span></dt><dd>
Path to the PKCS#12 file that holds the private key and certificate.
</dd><dt><span class="term">
<code class="literal">xpack.ssl.keystore.type</code>
</span></dt><dd>
Set this to <code class="literal">PKCS12</code>.
</dd><dt><span class="term">
<code class="literal">xpack.ssl.keystore.password</code>
</span></dt><dd>
Password to the PKCS#12 file.
</dd><dt><span class="term">
<code class="literal">xpack.ssl.keystore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password to the PKCS#12 file.
</dd><dt><span class="term">
<code class="literal">xpack.ssl.keystore.key_password</code>
</span></dt><dd>
Password for the private key in the PKCS12 file.
Defaults to the same value as <code class="literal">xpack.ssl.keystore.password</code>.
</dd><dt><span class="term">
<code class="literal">xpack.ssl.keystore.secure_key_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password for the private key in the PKCS12 file.
</dd><dt><span class="term">
<code class="literal">xpack.ssl.truststore.path</code>
</span></dt><dd>
Path to the truststore file.
</dd><dt><span class="term">
<code class="literal">xpack.ssl.truststore.type</code>
</span></dt><dd>
Set this to <code class="literal">PKCS12</code>.
</dd><dt><span class="term">
<code class="literal">xpack.ssl.truststore.password</code>
</span></dt><dd>
Password to the truststore.
</dd><dt><span class="term">
<code class="literal">xpack.ssl.truststore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password to the truststore.
</dd></dl></div><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>If <code class="literal">xpack.security.fips_mode.enabled</code> is <code class="literal">true</code>, you cannot use PKCS#12
keystore files. See <a class="xref" href="fips-140-compliance.html" title="FIPS 140-2">FIPS 140-2</a>.</p></div></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><a id="pkcs12-truststore-note"></a><p>Storing trusted certificates in a PKCS#12 file, although supported, is
uncommon in practice. The <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/certutil.html" target="_top"><code class="literal">elasticsearch-certutil</code></a> tool,
as well as Java’s <code class="literal">keytool</code>, are designed to generate PKCS#12 files that
can be used both as a keystore and as a truststore, but this may not be the
case for container files that are created using other tools. Usually,
PKCS#12 files only contain secret and private entries. To confirm that
a PKCS#12 container includes trusted certificate ("anchor") entries look for
<code class="literal">2.16.840.1.113894.746875.1.1: &lt;Unsupported tag 6&gt;</code> in the
<code class="literal">openssl pkcs12 -info</code> output, or <code class="literal">trustedCertEntry</code> in the
<code class="literal">keytool -list</code> output.</p></div></div><h5><a id="_pkcs_11_tokens_2"></a>PKCS#11 tokens<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>When using a PKCS#11 cryptographic token, which contains the
private key, certificate, and certificates that should be trusted, use
the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.ssl.keystore.type</code>
</span></dt><dd>
Set this to <code class="literal">PKCS11</code>.
</dd><dt><span class="term">
<code class="literal">xpack.ssl.truststore.type</code>
</span></dt><dd>
Set this to <code class="literal">PKCS11</code>.
</dd></dl></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><a id="pkcs11-truststore-note"></a><p>When configuring the PKCS#11 token that your JVM is configured to use as
a keystore or a truststore for Elasticsearch, the PIN for the token can be
configured by setting the appropriate value to <code class="literal">xpack.ssl.truststore.password</code>
or <code class="literal">xpack.ssl.truststore.secure_password</code>. In the absence of the above, Elasticsearch will
fallback to use he appropriate JVM setting (<code class="literal">-Djavax.net.ssl.trustStorePassword</code>)
if that is set.
Since there can only be one PKCS#11 token configured, only one keystore and
truststore will be usable for configuration in Elasticsearch. This in turn means
that only one certificate can be used for TLS both in the transport and the
http layer.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="http-tls-ssl-settings"></a>HTTP TLS/SSL Settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/ssl-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>You can configure the following TLS/SSL settings. If the settings are not configured,
the <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/security-settings.html#ssl-tls-settings" target="_top">Default TLS/SSL Settings</a>
are used.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.http.ssl.enabled</code>
</span></dt><dd>
Used to enable or disable TLS/SSL. The default is <code class="literal">false</code>.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.supported_protocols</code>
</span></dt><dd>
Supported protocols with versions. Valid protocols: <code class="literal">SSLv2Hello</code>,
<code class="literal">SSLv3</code>, <code class="literal">TLSv1</code>, <code class="literal">TLSv1.1</code>, <code class="literal">TLSv1.2</code>. Defaults to <code class="literal">TLSv1.2</code>, <code class="literal">TLSv1.1</code>,
<code class="literal">TLSv1</code>. Defaults to the value of <code class="literal">xpack.ssl.supported_protocols</code>.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.client_authentication</code>
</span></dt><dd>
Controls the server’s behavior in regard to requesting a certificate
from client connections. Valid values are <code class="literal">required</code>, <code class="literal">optional</code>, and <code class="literal">none</code>.
<code class="literal">required</code> forces a client to present a certificate, while <code class="literal">optional</code>
requests a client certificate but the client is not required to present one.
Defaults to <code class="literal">none</code>.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.cipher_suites</code>
</span></dt><dd>
Supported cipher suites can be found in Oracle’s <a class="ulink" href="http://docs.oracle.com/javase/8/docs/technotes/guides/security/SunProviders.html" target="_top">
Java Cryptography Architecture documentation</a>. Defaults to the value of
<code class="literal">xpack.ssl.cipher_suites</code>.
</dd></dl></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_http_tls_ssl_key_and_trusted_certificate_settings"></a>HTTP TLS/SSL Key and Trusted Certificate Settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/ssl-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The following settings are used to specify a private key, certificate, and the
trusted certificates that should be used when communicating over an SSL/TLS connection.
A private key and certificate must be configured.
If none of the settings below are specified, the <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/security-settings.html#ssl-tls-settings" target="_top">Default TLS/SSL Settings</a> are used.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_pem_encoded_files_3"></a>PEM Encoded Files<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/ssl-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>When using PEM encoded files, use the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.http.ssl.key</code>
</span></dt><dd>
Path to a PEM encoded file containing the private key.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.key_passphrase</code>
</span></dt><dd>
The passphrase that is used to decrypt the private key. This value is optional
as the key might not be encrypted.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.secure_key_passphrase</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
The passphrase that is used to decrypt the private key. This value is optional
as the key might not be encrypted.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.certificate</code>
</span></dt><dd>
Path to a PEM encoded file containing the certificate (or certificate chain)
that will be presented when requested.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.certificate_authorities</code>
</span></dt><dd>
List of paths to the PEM encoded certificate files that should be trusted.
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_java_keystore_files_3"></a>Java Keystore Files<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/ssl-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>When using Java keystore files (JKS), which contain the private key, certificate
and certificates that should be trusted, use the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.http.ssl.keystore.path</code>
</span></dt><dd>
Path to the keystore that holds the private key and certificate.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.keystore.password</code>
</span></dt><dd>
Password to the keystore.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.keystore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password to the keystore.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.keystore.key_password</code>
</span></dt><dd>
Password for the private key in the keystore. Defaults to the
same value as <code class="literal">xpack.security.http.ssl.keystore.password</code>.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.keystore.secure_key_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password for the private key in the keystore.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.truststore.path</code>
</span></dt><dd>
Path to the truststore file.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.truststore.password</code>
</span></dt><dd>
Password to the truststore.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.truststore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password to the truststore.
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_pkcs_12_files_3"></a>PKCS#12 Files<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/ssl-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Elasticsearch can be configured to use PKCS#12 container files (<code class="literal">.p12</code> or <code class="literal">.pfx</code> files)
that contain the private key, certificate and certificates that should be trusted.</p><p>PKCS#12 files are configured in the same way as Java Keystore Files:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.http.ssl.keystore.path</code>
</span></dt><dd>
Path to the PKCS#12 file that holds the private key and certificate.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.keystore.type</code>
</span></dt><dd>
Set this to <code class="literal">PKCS12</code> to indicate that the keystore is a PKCS#12 file.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.keystore.password</code>
</span></dt><dd>
Password to the PKCS#12 file.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.keystore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password to the PKCS#12 file.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.keystore.key_password</code>
</span></dt><dd>
Password for the private key stored in the PKCS#12 file.
Defaults to the same value as <code class="literal">xpack.security.http.ssl.keystore.password</code>.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.keystore.secure_key_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password for the private key stored in the PKCS#12 file.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.truststore.path</code>
</span></dt><dd>
Path to the PKCS#12 file that holds the certificates to be trusted.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.truststore.type</code>
</span></dt><dd>
Set this to <code class="literal">PKCS12</code> to indicate that the truststore is a PKCS#12 file.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.truststore.password</code>
</span></dt><dd>
Password to the PKCS#12 file.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.ssl.truststore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password to the PKCS#12 file.
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_pkcs_11_tokens_3"></a>PKCS#11 Tokens<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/ssl-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Elasticsearch can be configured to use a PKCS#11 token that contains the private key,
certificate and certificates that should be trusted.</p><p>PKCS#11 token require additional configuration on the JVM level and can be enabled
via the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.http.keystore.type</code>
</span></dt><dd>
Set this to <code class="literal">PKCS11</code> to indicate that the PKCS#11 token should be used as a keystore.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.truststore.type</code>
</span></dt><dd>
Set this to <code class="literal">PKCS11</code> to indicate that the PKCS#11 token should be used as a truststore.
</dd></dl></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="transport-tls-ssl-settings"></a>Transport TLS/SSL Settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/ssl-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>You can configure the following TLS/SSL settings. If the settings are not configured,
the <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/security-settings.html#ssl-tls-settings" target="_top">Default TLS/SSL Settings</a>
are used.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.enabled</code>
</span></dt><dd>
Used to enable or disable TLS/SSL. The default is <code class="literal">false</code>.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.supported_protocols</code>
</span></dt><dd>
Supported protocols with versions. Valid protocols: <code class="literal">SSLv2Hello</code>,
<code class="literal">SSLv3</code>, <code class="literal">TLSv1</code>, <code class="literal">TLSv1.1</code>, <code class="literal">TLSv1.2</code>. Defaults to <code class="literal">TLSv1.2</code>, <code class="literal">TLSv1.1</code>,
<code class="literal">TLSv1</code>. Defaults to the value of <code class="literal">xpack.ssl.supported_protocols</code>.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.client_authentication</code>
</span></dt><dd>
Controls the server’s behavior in regard to requesting a certificate
from client connections. Valid values are <code class="literal">required</code>, <code class="literal">optional</code>, and <code class="literal">none</code>.
<code class="literal">required</code> forces a client to present a certificate, while <code class="literal">optional</code>
requests a client certificate but the client is not required to present one.
Defaults to the value of <code class="literal">xpack.ssl.client_authentication</code>.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.verification_mode</code>
</span></dt><dd>
Controls the verification of certificates. Valid values are <code class="literal">none</code>,
<code class="literal">certificate</code>, and <code class="literal">full</code>.
See <a class="link" href="security-settings.html#ssl-tls-settings" title="Default TLS/SSL settingsedit"><code class="literal">xpack.ssl.verification_mode</code></a> for a description of these values.
Defaults to the value of <code class="literal">xpack.ssl.verification_mode</code>.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.cipher_suites</code>
</span></dt><dd>
Supported cipher suites can be found in Oracle’s <a class="ulink" href="http://docs.oracle.com/javase/8/docs/technotes/guides/security/SunProviders.html" target="_top">
Java Cryptography Architecture documentation</a>. Defaults to the value of
<code class="literal">xpack.ssl.cipher_suites</code>.
</dd></dl></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_transport_tls_ssl_key_and_trusted_certificate_settings"></a>Transport TLS/SSL Key and Trusted Certificate Settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/ssl-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The following settings are used to specify a private key, certificate, and the
trusted certificates that should be used when communicating over an SSL/TLS connection.
A private key and certificate must be configured.
If none of the settings below are specified, the <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/security-settings.html#ssl-tls-settings" target="_top">Default TLS/SSL Settings</a> are used.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_pem_encoded_files_4"></a>PEM Encoded Files<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/ssl-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>When using PEM encoded files, use the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.key</code>
</span></dt><dd>
Path to a PEM encoded file containing the private key.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.key_passphrase</code>
</span></dt><dd>
The passphrase that is used to decrypt the private key. This value is optional
as the key might not be encrypted.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.secure_key_passphrase</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
The passphrase that is used to decrypt the private key. This value is optional
as the key might not be encrypted.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.certificate</code>
</span></dt><dd>
Path to a PEM encoded file containing the certificate (or certificate chain)
that will be presented when requested.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.certificate_authorities</code>
</span></dt><dd>
List of paths to the PEM encoded certificate files that should be trusted.
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_java_keystore_files_4"></a>Java Keystore Files<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/ssl-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>When using Java keystore files (JKS), which contain the private key, certificate
and certificates that should be trusted, use the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.keystore.path</code>
</span></dt><dd>
Path to the keystore that holds the private key and certificate.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.keystore.password</code>
</span></dt><dd>
Password to the keystore.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.keystore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password to the keystore.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.keystore.key_password</code>
</span></dt><dd>
Password for the private key in the keystore. Defaults to the
same value as <code class="literal">xpack.security.transport.ssl.keystore.password</code>.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.keystore.secure_key_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password for the private key in the keystore.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.truststore.path</code>
</span></dt><dd>
Path to the truststore file.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.truststore.password</code>
</span></dt><dd>
Password to the truststore.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.truststore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password to the truststore.
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_pkcs_12_files_4"></a>PKCS#12 Files<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/ssl-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Elasticsearch can be configured to use PKCS#12 container files (<code class="literal">.p12</code> or <code class="literal">.pfx</code> files)
that contain the private key, certificate and certificates that should be trusted.</p><p>PKCS#12 files are configured in the same way as Java Keystore Files:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.keystore.path</code>
</span></dt><dd>
Path to the PKCS#12 file that holds the private key and certificate.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.keystore.type</code>
</span></dt><dd>
Set this to <code class="literal">PKCS12</code> to indicate that the keystore is a PKCS#12 file.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.keystore.password</code>
</span></dt><dd>
Password to the PKCS#12 file.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.keystore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password to the PKCS#12 file.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.keystore.key_password</code>
</span></dt><dd>
Password for the private key stored in the PKCS#12 file.
Defaults to the same value as <code class="literal">xpack.security.transport.ssl.keystore.password</code>.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.keystore.secure_key_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password for the private key stored in the PKCS#12 file.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.truststore.path</code>
</span></dt><dd>
Path to the PKCS#12 file that holds the certificates to be trusted.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.truststore.type</code>
</span></dt><dd>
Set this to <code class="literal">PKCS12</code> to indicate that the truststore is a PKCS#12 file.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.truststore.password</code>
</span></dt><dd>
Password to the PKCS#12 file.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.ssl.truststore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password to the PKCS#12 file.
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_pkcs_11_tokens_4"></a>PKCS#11 Tokens<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/ssl-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Elasticsearch can be configured to use a PKCS#11 token that contains the private key,
certificate and certificates that should be trusted.</p><p>PKCS#11 token require additional configuration on the JVM level and can be enabled
via the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.transport.keystore.type</code>
</span></dt><dd>
Set this to <code class="literal">PKCS11</code> to indicate that the PKCS#11 token should be used as a keystore.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.truststore.type</code>
</span></dt><dd>
Set this to <code class="literal">PKCS11</code> to indicate that the PKCS#11 token should be used as a truststore.
</dd></dl></div><h5><a id="ssl-tls-profile-settings"></a>Transport profile TLS/SSL settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The same settings that are available for the <a class="link" href="security-settings.html#transport-tls-ssl-settings" title="Transport TLS/SSL Settings">default transport</a>
are also available for each transport profile. By default, the settings for a
transport profile will be the same as the default transport unless they
are specified.</p><p>As an example, lets look at the key setting. For the default transport
this is <code class="literal">xpack.security.transport.ssl.key</code>. In order to use this setting in a
transport profile, use the prefix <code class="literal">transport.profiles.$PROFILE.xpack.security.</code> and
append the portion of the setting after <code class="literal">xpack.security.transport.</code>. For the key
setting, this would be <code class="literal">transport.profiles.$PROFILE.xpack.security.ssl.key</code>.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="auditing-tls-ssl-settings"></a>Auditing TLS/SSL Settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/ssl-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>You can configure the following TLS/SSL settings. If the settings are not configured,
the <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/security-settings.html#ssl-tls-settings" target="_top">Default TLS/SSL Settings</a>
are used.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.supported_protocols</code>
</span></dt><dd>
Supported protocols with versions. Valid protocols: <code class="literal">SSLv2Hello</code>,
<code class="literal">SSLv3</code>, <code class="literal">TLSv1</code>, <code class="literal">TLSv1.1</code>, <code class="literal">TLSv1.2</code>. Defaults to <code class="literal">TLSv1.2</code>, <code class="literal">TLSv1.1</code>,
<code class="literal">TLSv1</code>. Defaults to the value of <code class="literal">xpack.ssl.supported_protocols</code>.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.verification_mode</code>
</span></dt><dd>
Controls the verification of certificates. Valid values are <code class="literal">none</code>,
<code class="literal">certificate</code>, and <code class="literal">full</code>.
See <a class="link" href="security-settings.html#ssl-tls-settings" title="Default TLS/SSL settingsedit"><code class="literal">xpack.ssl.verification_mode</code></a> for a description of these values.
Defaults to the value of <code class="literal">xpack.ssl.verification_mode</code>.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.cipher_suites</code>
</span></dt><dd>
Supported cipher suites can be found in Oracle’s <a class="ulink" href="http://docs.oracle.com/javase/8/docs/technotes/guides/security/SunProviders.html" target="_top">
Java Cryptography Architecture documentation</a>. Defaults to the value of
<code class="literal">xpack.ssl.cipher_suites</code>.
</dd></dl></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_auditing_tls_ssl_key_and_trusted_certificate_settings"></a>Auditing TLS/SSL Key and Trusted Certificate Settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/ssl-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The following settings are used to specify a private key, certificate, and the
trusted certificates that should be used when communicating over an SSL/TLS connection.
A private key and certificate are optional and would be used if the server requires client authentication for PKI
authentication.
If none of the settings below are specified, the <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/security-settings.html#ssl-tls-settings" target="_top">Default TLS/SSL Settings</a> are used.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_pem_encoded_files_5"></a>PEM Encoded Files<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/ssl-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>When using PEM encoded files, use the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.key</code>
</span></dt><dd>
Path to a PEM encoded file containing the private key.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.key_passphrase</code>
</span></dt><dd>
The passphrase that is used to decrypt the private key. This value is optional
as the key might not be encrypted.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.secure_key_passphrase</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
The passphrase that is used to decrypt the private key. This value is optional
as the key might not be encrypted.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.certificate</code>
</span></dt><dd>
Path to a PEM encoded file containing the certificate (or certificate chain)
that will be presented when requested.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.certificate_authorities</code>
</span></dt><dd>
List of paths to the PEM encoded certificate files that should be trusted.
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_java_keystore_files_5"></a>Java Keystore Files<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/ssl-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>When using Java keystore files (JKS), which contain the private key, certificate
and certificates that should be trusted, use the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.keystore.path</code>
</span></dt><dd>
Path to the keystore that holds the private key and certificate.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.keystore.password</code>
</span></dt><dd>
Password to the keystore.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.keystore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password to the keystore.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.keystore.key_password</code>
</span></dt><dd>
Password for the private key in the keystore. Defaults to the
same value as <code class="literal">xpack.security.audit.index.client.xpack.ssl.keystore.password</code>.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.keystore.secure_key_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password for the private key in the keystore.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.truststore.path</code>
</span></dt><dd>
Path to the truststore file.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.truststore.password</code>
</span></dt><dd>
Password to the truststore.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.truststore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password to the truststore.
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_pkcs_12_files_5"></a>PKCS#12 Files<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/ssl-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Elasticsearch can be configured to use PKCS#12 container files (<code class="literal">.p12</code> or <code class="literal">.pfx</code> files)
that contain the private key, certificate and certificates that should be trusted.</p><p>PKCS#12 files are configured in the same way as Java Keystore Files:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.keystore.path</code>
</span></dt><dd>
Path to the PKCS#12 file that holds the private key and certificate.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.keystore.type</code>
</span></dt><dd>
Set this to <code class="literal">PKCS12</code> to indicate that the keystore is a PKCS#12 file.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.keystore.password</code>
</span></dt><dd>
Password to the PKCS#12 file.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.keystore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password to the PKCS#12 file.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.keystore.key_password</code>
</span></dt><dd>
Password for the private key stored in the PKCS#12 file.
Defaults to the same value as <code class="literal">xpack.security.audit.index.client.xpack.ssl.keystore.password</code>.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.keystore.secure_key_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password for the private key stored in the PKCS#12 file.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.truststore.path</code>
</span></dt><dd>
Path to the PKCS#12 file that holds the certificates to be trusted.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.truststore.type</code>
</span></dt><dd>
Set this to <code class="literal">PKCS12</code> to indicate that the truststore is a PKCS#12 file.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.truststore.password</code>
</span></dt><dd>
Password to the PKCS#12 file.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.ssl.truststore.secure_password</code> (<a class="link" href="secure-settings.html" title="Secure settings">Secure</a>)
</span></dt><dd>
Password to the PKCS#12 file.
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_pkcs_11_tokens_5"></a>PKCS#11 Tokens<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/ssl-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Elasticsearch can be configured to use a PKCS#11 token that contains the private key,
certificate and certificates that should be trusted.</p><p>PKCS#11 token require additional configuration on the JVM level and can be enabled
via the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.keystore.type</code>
</span></dt><dd>
Set this to <code class="literal">PKCS11</code> to indicate that the PKCS#11 token should be used as a keystore.
</dd><dt><span class="term">
<code class="literal">xpack.security.audit.index.client.xpack.truststore.type</code>
</span></dt><dd>
Set this to <code class="literal">PKCS11</code> to indicate that the PKCS#11 token should be used as a truststore.
</dd></dl></div><p>See also <a class="xref" href="auditing-settings.html#remote-audit-settings" title="Remote Audit Log Indexing Configuration Settings">Remote Audit Log Indexing Configuration Settings</a>.</p><h4><a id="ip-filtering-settings"></a>IP filtering settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>You can configure the following settings for <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/ip-filtering.html" target="_top">IP filtering</a>.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">xpack.security.transport.filter.allow</code>
</span></dt><dd>
List of IP addresses to allow.
</dd><dt><span class="term">
<code class="literal">xpack.security.transport.filter.deny</code>
</span></dt><dd>
List of IP addresses to deny.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.filter.allow</code>
</span></dt><dd>
List of IP addresses to allow just for HTTP.
</dd><dt><span class="term">
<code class="literal">xpack.security.http.filter.deny</code>
</span></dt><dd>
List of IP addresses to deny just for HTTP.
</dd><dt><span class="term">
<code class="literal">transport.profiles.$PROFILE.xpack.security.filter.allow</code>
</span></dt><dd>
List of IP addresses to allow for this profile.
</dd><dt><span class="term">
<code class="literal">transport.profiles.$PROFILE.xpack.security.filter.deny</code>
</span></dt><dd>
List of IP addresses to deny for this profile.
</dd></dl></div><h4><a id="hashing-settings"></a>User cache and password hash algorithms<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/settings/security-hash-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>Certain realms store user credentials in memory. To limit exposure
to credential theft and mitigate credential compromise, the cache only stores
a hashed version of the user credentials in memory. By default, the user cache
is hashed with a salted <code class="literal">sha-256</code> hash algorithm. You can use a different
hashing algorithm by setting the <code class="literal">cache.hash_algo</code> realm settings to any of the
following values:</p><div class="table"><a id="cache-hash-algo"></a><p class="title"><strong>Table 2. Cache hash algorithms</strong></p><div class="table-contents"><table summary="Cache hash algorithms" cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><tbody><tr><td align="left" valign="top"><p>Algorithm</p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Description</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ssha256</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses a salted <code class="literal">sha-256</code> algorithm (default).</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">md5</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">MD5</code> algorithm.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">sha1</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">SHA1</code> algorithm.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">bcrypt</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 1024 rounds.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">bcrypt4</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 16 rounds.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">bcrypt5</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 32 rounds.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">bcrypt6</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 64 rounds.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">bcrypt7</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 128 rounds.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">bcrypt8</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 256 rounds.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">bcrypt9</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 512 rounds.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">pbkdf2</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">PBKDF2</code> key derivation function with <code class="literal">HMAC-SHA512</code> as a
                             pseudorandom function using 10000 iterations.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">pbkdf2_1000</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">PBKDF2</code> key derivation function with <code class="literal">HMAC-SHA512</code> as a
                             pseudorandom function using 1000 iterations.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">pbkdf2_10000</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">PBKDF2</code> key derivation function with <code class="literal">HMAC-SHA512</code> as a
                             pseudorandom function using 10000 iterations.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">pbkdf2_50000</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">PBKDF2</code> key derivation function with <code class="literal">HMAC-SHA512</code> as a
                             pseudorandom function using 50000 iterations.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">pbkdf2_100000</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">PBKDF2</code> key derivation function with <code class="literal">HMAC-SHA512</code> as a
                             pseudorandom function using 100000 iterations.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">pbkdf2_500000</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">PBKDF2</code> key derivation function with <code class="literal">HMAC-SHA512</code> as a
                              pseudorandom function using 500000 iterations.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">pbkdf2_1000000</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">PBKDF2</code> key derivation function with <code class="literal">HMAC-SHA512</code> as a
                             pseudorandom function using 1000000 iterations.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">noop</code>,<code class="literal">clear_text</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Doesn’t hash the credentials and keeps it in clear text in
                            memory. CAUTION: keeping clear text is considered insecure
                            and can be compromised at the OS level (for example through
                            memory dumps and using <code class="literal">ptrace</code>).</p></td></tr></tbody></table></div></div><br class="table-break" /><p>Likewise, realms that store passwords hash them using cryptographically strong
and password-specific salt values. You can configure the algorithm for password
hashing by setting the <code class="literal">xpack.security.authc.password_hashing.algorithm</code> setting
to one of the following:</p><div class="table"><a id="password-hashing-algorithms"></a><p class="title"><strong>Table 3. Password hashing algorithms</strong></p><div class="table-contents"><table summary="Password hashing algorithms" cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><tbody><tr><td align="left" valign="top"><p>Algorithm</p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Description</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">bcrypt</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 1024 rounds. (default)</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">bcrypt4</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 16 rounds.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">bcrypt5</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 32 rounds.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">bcrypt6</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 64 rounds.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">bcrypt7</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 128 rounds.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">bcrypt8</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 256 rounds.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">bcrypt9</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 512 rounds.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">bcrypt10</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 1024 rounds.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">bcrypt11</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 2048 rounds.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">bcrypt12</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 4096 rounds.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">bcrypt13</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 8192 rounds.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">bcrypt14</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 16384 rounds.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">pbkdf2</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">PBKDF2</code> key derivation function with <code class="literal">HMAC-SHA512</code> as a
                             pseudorandom function using 10000 iterations.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">pbkdf2_1000</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">PBKDF2</code> key derivation function with <code class="literal">HMAC-SHA512</code> as a
                             pseudorandom function using 1000 iterations.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">pbkdf2_10000</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">PBKDF2</code> key derivation function with <code class="literal">HMAC-SHA512</code> as a
                             pseudorandom function using 10000 iterations.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">pbkdf2_50000</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">PBKDF2</code> key derivation function with <code class="literal">HMAC-SHA512</code> as a
                             pseudorandom function using 50000 iterations.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">pbkdf2_100000</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">PBKDF2</code> key derivation function with <code class="literal">HMAC-SHA512</code> as a
                             pseudorandom function using 100000 iterations.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">pbkdf2_500000</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">PBKDF2</code> key derivation function with <code class="literal">HMAC-SHA512</code> as a
                              pseudorandom function using 500000 iterations.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">pbkdf2_1000000</code></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>Uses <code class="literal">PBKDF2</code> key derivation function with <code class="literal">HMAC-SHA512</code> as a
                             pseudorandom function using 1000000 iterations.</p></td></tr></tbody></table></div></div><br class="table-break" /></div></div></div><div class="navfooter"><span class="prev"><a href="fips-140-compliance.html">
              « 
              FIPS 140-2</a>
           
        </span><span class="next">
           
          <a href="security-files.html">Security files
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
					<div id="rtpcontainer" style="display: block;">
						<div class="mktg-promo">
						<h3>Getting Started Videos</h3>
						<ul class="icons">
							<li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
							<li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
							<li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
						</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

        </div>
      	


<div id="footer-subscribe" class="home-footer-subscribe">
  <div class="subscribe-wrapper">
    <div class="container">
      <div class="subscribe-form-container">
        <div class="subscribe-title col-md-12 col-lg-6">
            <h5>Be in the know with the latest and greatest from Elastic.</h5>
        </div>
        <div class="subscribe-form col-md-12 col-lg-6">
          <form class="mktoForm sb-form"></form>
        </div>
      </div>
      <div class="form_thanks hide">
        
          <p>Thanks for subscribing! We'll keep you updated with new releases.</p>
        
      </div>
    </div>
  </div>
</div>
<!--subscribe newsletter end-->

<!-- Footer Section -->
<footer class="footer-wrapper">
  <div class="container">
    <div class="row footer-content">
        
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/products">Products ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/products/elasticsearch">Elasticsearch</a></li>
                  
                
              
                
                  
                    <li><a href="/products/kibana">Kibana</a></li>
                  
                
              
                
                  
                    <li><a href="/products/beats">Beats</a></li>
                  
                
              
                
                  
                    <li><a href="/products/logstash">Logstash</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack">Stack Features (formerly X-Pack)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/security">Security</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/alerting">Alerting</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/canvas">Canvas</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/monitoring">Monitoring</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/graph">Graph</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/reporting">Reporting</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/machine-learning">Machine Learning</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/elasticsearch-sql">Elasticsearch SQL</a></li>
                  
                
              
                
                  
                    <li><a href="/products/hadoop">Elasticsearch-Hadoop</a></li>
                  
                
              
                
                  
                    <li><a href="/products/ece">Elastic Cloud Enterprise</a></li>
                  
                
              
              </ul>
              
                <h3><a href=""></a></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/solutions">Solutions ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/solutions/logging">Logging</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/metrics">Metrics</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/site-search">Site Search</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/security-analytics">Security Analytics</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/apm">APM</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/app-search">App Search</a></li>
                  
                
              
              </ul>
              
                <h3><a href="/cloud">Elastic Cloud ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/cloud/elasticsearch-service">Elasticsearch Service</a></li>
                  
                
              
                
                  
                    <li><a href="/aws-elasticsearch-service">AWS Elasticsearch Service Comparison</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud/app-search-service">Elastic App Search Service</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud/site-search-service">Elastic Site Search Service</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3>Resources</h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/blog">Blog</a></li>
                  
                
              
                
                  
                    <li><a href="https://cloud-status.elastic.co">Cloud Status</a></li>
                  
                
              
                
                  
                    <li><a href="/community">Community</a></li>
                  
                
              
                
                  
                    <li><a href="/use-cases">Customers & Use Cases</a></li>
                  
                
              
                
                  
                    <li><a href="/guide">Documentation</a></li>
                  
                
              
                
                  
                    <li><a href="/elasticon">Elastic{ON} Events</a></li>
                  
                
              
                
                  
                    <li><a href="https://discuss.elastic.co/">Forums</a></li>
                  
                
              
                
                  
                    <li><a href="/community/meetups">Meetups</a></li>
                  
                
              
                
                  
                    <li><a href="/subscriptions">Subscriptions</a></li>
                  
                
              
                
                  
                    <li><a href="https://support.elastic.co">Support Portal</a></li>
                  
                
              
                
                  
                    <li><a href="/videos">Videos & Webinars</a></li>
                  
                
              
                
                  
                    <li><a href="/training">Training</a></li>
                  
                
              
              </ul>
              
                <h3></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/about">About ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/about/careers">Careers/Jobs</a></li>
                  
                
              
                
                  
                    <li><a href="/about/our-source-code">Our Source Code</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams">Teams</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams/board">Board of Directors</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams/leadership">Leadership</a></li>
                  
                
              
                
                  
                    <li><a href="/contact">Contact</a></li>
                  
                
              
                
                  
                    <li><a href="/about/history-of-elasticsearch">Our Story</a></li>
                  
                
              
                
                  
                    <li><a href="/about/why-open-source">Why Open Source</a></li>
                  
                
              
                
                  
                    <li><a href="/about/distributed">Distributed by Intention</a></li>
                  
                
              
                
                  
                    <li><a href="/about/partners">Partners</a></li>
                  
                
              
                
                  
                    <li><a href="/about/press">Media</a></li>
                  
                
              
                
                  
                    <li><a href="https://ir.elastic.co">Investor Relations</a></li>
                  
                
              
                
                  
                    <li><a href="https://www.elastic.shop">Elastic Store</a></li>
                  
                
              
              </ul>
              
                <h3><a href=""></a></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
       
    </div>
     <!-- Social Media Section -->
    <div class="row social-icon">
      <div class="col-xs-12 col-sm-12 col-md-6 col-md-offset-3">
	    <div class="row">
		     <div class="follow-us col-xs-12 col-sm-12 col-md-12">
			    <div class="social-label">FOLLOW US</div>
			    <ul class="social-icon-list">
          
          		 	<li class="Facebook"><a id="footer_facebook" href="https://www.facebook.com/elastic.co">Facebook</a></li>
          
          		 	<li class="Twitter"><a id="footer_twitter" href="https://www.twitter.com/elastic">Twitter</a></li>
          
          		 	<li class="LinkedIn"><a id="footer_linkedin" href="https://www.linkedin.com/company/elastic-co">LinkedIn</a></li>
          
          		 	<li class="Xing"><a id="footer_xing" href="https://www.xing.com/companies/elastic.co">Xing</a></li>
          
          		 	<li class="YouTube"><a id="footer_youtube" href="https://www.youtube.com/user/elasticsearch">YouTube</a></li>
          
		  		</ul>
		     </div>
	    </div>
      </div>
    </div>
    <!-- Social Media Section end-->
    <div class="row">
	<div class="col-xs-12 col-sm-12 col-md-11">
		<div class="copyright">
			<ul>
				<li><a href="/legal/trademarks">Trademarks</a></li>
				<li><a href="/legal/terms-of-use">Terms of Use</a></li>
				<li><a href="/legal/privacy-statement">Privacy</a></li>
				<li><a href="/brand">Brand</a></li>
			</ul>
			<div class="copyright-content">
				<div class="footer-text">
					<p>© 2018. Elasticsearch B.V. All Rights Reserved
					</p>
					<p>Elasticsearch is a trademark of Elasticsearch B.V., registered in the U.S. and in other countries.
					</p>
					<p>Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a> in the United States and/or other countries.
					</p>
				</div>
			</div>
		</div>
	</div>
	<div class="col-xs-2 col-xs-offset-5 col-sm-1 col-sm-offset-5 col-md-1 col-md-offset-0">
		<div class="footer-logo"><a href="/"><img src="/static/images/svg/logo-elastic-footer-stacked-999.svg" class="img-responsive"></a>
		</div>
	</div>
</div>
  </div>
</footer>
<!-- Footer Section end-->

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>
 
     
<script type="text/javascript">
$(document).ready(function(){
	if (window.location.hash.length) {
	      var target = $(window.location.hash);
	      target = target.length ? target : $(window.location.hash);
	      if (target.length) {
	        setTimeout(function(){ $(window).scrollTop(target.offset().top - 60); }, 1200);        
	      }
	}
	$('#guide').on('click','a[href*=#]:not([href=#])',function(e) {
			var flag=true;
		      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		          var target = $(this.hash);
		          target = target.length ? target :$(this.hash);
		          if (target.length) {
		            if(flag){
		              flag=false;
		              var heightScroll=($('.tertiary-nav.navbar-fixed-top').height())?60:110;
		              $('html,body').animate({
		                  scrollTop: target.offset().top - heightScroll
		                }, 2000, function(){
		                  flag=true;
		                });
		            }                    
		          }
		      }
		    
	});

})

</script>

     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>