<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Node
        | Elasticsearch Reference [6.6]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [6.6]" /><link rel="up" href="modules.html" title="Modules" /><link rel="prev" href="modules-network.html" title="Network Settings" /><link rel="next" href="modules-plugins.html" title="Plugins" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/6.6" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="6.6" />
    

    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
<meta name="apple-mobile-web-app-title" content="Elastic">
<meta name="application-name" content="Elastic">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">
<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >



	



<!-- end DC tags -->


	<meta name="description" content="" />



	<meta name="localized" content="true" />


















		
			<meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
		

		

    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">

	 

    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    
    

    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

  <script type="text/javascript">
  // -------------------- set language based on browser language --------------------
  var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

  if($.cookie("is_lang_detected") == undefined){
    if(locales[lang] != undefined && locales[lang] != currentlocale){
      locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
      $.cookie("is_lang_detected",true ,{ path: '/'}); 
      window.location = locale_lang_url;
    } 
  }
        
  // --------------------- end of set language based on browser language -----------------
  </script>

	
	<link type="text/css" rel="stylesheet" href="/static/css/guide.css" />


  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
  <body >
  	<!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
                              height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
<script src="/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>


<script type="text/javascript">
  var active;
  
  active = Math.random() < 1 //0.9 
  
  elasticApm.init({
    active: active,
    serviceName: "elastic-co-frontend",
    serverUrl: "https://elastic-co-apm-server.app.elstc.co"
  })

  var pageLoadName
  var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
  var parts = pathname.split('/');

  if (parts.length && parts[1] === 'blog') {
    if (parts.length === 2) {
      pageLoadName =  '/blog';
    }
    else if (parts[2] === 'category') {
      pageLoadName =  '/blog/category';
    }
    else if (parts[2] === 'archive') {
      pageLoadName =  '/blog/archive';
    }
    else {
      pageLoadName =  '/blog/detail';
    }
  }
  else if (parts.length && parts[1] === 'elasticon') {
    if (parts.length === 2) {
      pageLoadName =  '/elasticon';
    }
    else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
      pageLoadName =  '/elasticon/overview';
    }
    else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
      pageLoadName =  '/elasticon/video';
    }
  }
  else if (parts.length && parts[1] === 'guide') {
    pageLoadName =  '/guide';
  }
  else if (parts.length === 2 && parts[1] === 'videos') {
    pageLoadName =  '/videos';
  }
  else if (parts.length > 2 && parts[1] === 'videos') {
    pageLoadName =  '/videos/detail';
  }
  else if (parts.length > 2 && parts[1] === 'webinars') {
    pageLoadName =  '/webinars/detail';
  }
  else {
    pageLoadName =  window.location.pathname;
  }

  console.log('apm pageLoadName:', pageLoadName, parts)
  elasticApm.setTags({env:"production"});
  elasticApm.setInitialPageLoadName(pageLoadName);
</script>

<!-- Elastic APM -->


    <!-- Header Section -->
    
<header class="header-wrapper">
  



  




<div class="navigation-wrapper">
  <div class="container">
    <nav class="navbar">
    <!-- Brand and toggle get grouped for better mobile display -->

    <div class="navbar-mobile-header navbar-header mr-20 mr-xs-0">
      <div class="row hidden-sm hidden-md hidden-lg">
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg">
          <div class="navbar-mobile-header-icon navbar-mobile-header-icon-out">
            <span></span>
            <span></span>
            <span></span>
          </div>
          
        </div>
        <div class="col-xs-2 text-center">
          <div class="navbar-brand" id="elastic">
            <div id="logo">
              <a class="logo-m hidden-sm hidden-md hidden-lg" href="/">
                <img src="/assets/blta09706b1c5cc1e99/elastic-logo-mobile.svg" alt="elastic-logo-mobile">
              </a>
            </div>
          </div>
        </div>
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg text-right">
          <ul class="menu-m hidden-sm hidden-md hidden-lg">
            <li class=""><a class="icon-contact" href="/contact"></a></li>

            <li id="searchbar"><a class="button icon" href="#" alt="Search"></a></li>
            <li class="lang global-language">
                
                  
                
                  
                    <a href="#">EN</a>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              <ul class="language-list">
                
                  
                    
                  
                  
                  <li><a href="/de/" data-value="/de/" id="locale-select">Deutsch</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="#" data-value="/" id="locale-select">English</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/es/" data-value="/es/" id="locale-select">Español</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/fr/" data-value="/fr/" id="locale-select">Français</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/jp/" data-value="/jp/" id="locale-select">日本語</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/kr/" data-value="/kr/" id="locale-select">한국어</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/cn/" data-value="/cn/" id="locale-select">简体中文</a></li>
                  
                
              </ul>
            </li>
          </ul>
        </div>
      </div>

      <div class="navbar-brand hidden-xs" id="elastic">
        <div id="logo">
          <a class="hidden-xs" id="elastic-logo" href="/">
            <img src="/assets/blt244a845f141977c3/elastic-logo.svg" alt="elastic-logo">
          </a>
        </div>
      </div>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse mobile-inner-nav">
      <nav class="nav navbar-nav primary-nav-hover" id="nav">
        <ul>
        
          
            
              
            
            <li>
              <a class=" " href="/products">Products</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/cloud">Cloud</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/services">Services</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/use-cases">Customers</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/learn">Learn</a>
            </li>
          
        
          
        
        </ul>
      </nav>
      <nav class="nav navbar-nav navbar-right hidden-xs">
        <ul>
          <li class="hidden-xs hidden-sm"><a href="/downloads">downloads</a></li>
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-download" href="/downloads"></a></li>
          <!-- To set parameters to contact button -->
          
           
            
          

          
            
            
          
          <li class="hidden-xs hidden-sm"><a class="btn btn-secondary btn-contact" href="/contact?storm=global-header-en">contact</a></li>
          <!-- ////////////////ends here///////////////-->          
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-contact" href="/contact?storm=global-header-en"></a></li>
          <li class="hidden-xs" id="searchbar"><a class="button icon" href="#" alt="Search"></a></li>

          <li class="hidden-xs lang global-language">
                
                  
                
                  
                    <a href="#">EN</a>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
               <ul class="language-list">
              
                
                  
                
              
              <li><a class="" href="/de/" data-value="/de/">Deutsch</a></li>
              
              
                
                  
                
              
              <li><a class="" href="#" data-value="/">English</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/es/" data-value="/es/">Español</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/fr/" data-value="/fr/">Français</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/jp/" data-value="/jp/">日本語</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/kr/" data-value="/kr/">한국어</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/cn/" data-value="/cn/">简体中文</a></li>
              
              
            </ul>
          </li>
        </ul>
      </nav>
    </div><!-- /.navbar-collapse -->
  </nav>
  </div>
</div>

<div class="header-search-wrapper open-search"> 
  <div class="container">
    <div class="big-search">
      <i class="big-search-icon"></i>
      <form id="searchfrm" name="searchForm" autocomplete="on" action="/search" method="get">
        <ul class="tags-wrapper">
          <li class="search-field"><input type="text" name="q" id="autocomplete" class="form-control global-input" autocomplete="off"></li>
        </ul>
      </form>
      <a class="header-search-cancel" href="#"></a>
    </div>
    <div class="nav-auto-complete"></div>
  </div>
</div>
</header>
<link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">
<style> 
    
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
    
</style>
<script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>
<script type="text/javascript">
  $(document).ready( function(){
    // if($('#scrollable-pane li').length > 3){
      $('.horizon-swiper').horizonSwiper({
        showItems: 3,
        arrows: true
      }); 
    // }
    
    $('.navbar-toggle').on('click', function(){
      $('.mobile-navigation, .menu-open').hide();
      $('.navigation-wrapper').addClass('mobile-navigation');
      $('.navbar').addClass('menu-open');
      $('.menu-close').show();
    });
    $('.menu-close').on('click', function(){
      $('.navigation-wrapper').removeClass('mobile-navigation');
      $('.navbar').removeClass('menu-open');
      $('.menu-close').hide();
    });

    var active_url = "";

    $(".navbar-mobile-header-icon").click(function(index){
      $('.navigation-wrapper').toggleClass('menu-overlay');
      $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
      $(".mobile-inner-nav").slideToggle(500);
      $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
        $(this).css({'animation-delay': (index/25)+'0.4s'});
      });
    });

    $('.dropdown-btn').on('click', function(e){
      e.preventDefault();
      setDropdown();
    });
    
    function setDropdown() {
      $('#myDropdown').slideToggle();
    }

    $('body').on('click', function(event){
      if (!event.target.matches('.dropdown-btn')) {

        var dropdowns = $(".dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    });

    // if($(window).width() < 769){
    //   var $item = $('.scrollable-panel li'), 
    //       visible = 3, //Set the number of items that will be visible
    //       index = 0, //Starting index
    //       endIndex = ( $item.length / visible ) - 1; //End index (NOTE:: Requires visible to be a factor of $item.length... You can improve this by rounding...)

    //   $('#right-arrow').click(function(){
    //     if(index < endIndex ){
    //       index++;
    //       $item.animate({'left':'-=300px'});
    //     }
    //   });

    //   $('#left-arrow').click(function(){
    //     if(index > 0){
    //       index--;            
    //       $item.animate({'left':'+=300px'});
    //     }
    //   });
    // }
  });
  $(window).resize(function () {
    $('.horizon-swiper').horizonSwiper({
      showItems: 3,
      arrows: true
    });
  });
</script>
    
      


  





  
  
  
  
    <div class="tertiary-nav bdr-btm-e0e0e0">
      <div class="container">
        <div class="p-t-b-15 clearfix">
          <div class="breadcrum-wrapper pull-left text-left">
          
            <a href="/guide">Docs</a> 
          
          </div>
          
          
          
        </div>
      </div>
    </div>

    <div class="nav-mobile-dropdown hidden-sm hidden-md hidden-lg bdr-btm-e0e0e0 clearfix">
      <div class="container text-right">
        <div class="breadcrum-wrapper pull-left text-left">
          
              <a href="/guide">Docs</a>
          
        </div>
        
        
      </div>
    </div>
  


<style type="text/css">

  
</style>
    
    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   
          
            
        			<!-- <div class="pageheader">
	<div class="common-container">
		
			<h2 class="page-title">Guide template</h2>
		
	</div>
</div> -->


        		
          

          
	<section id="guide" lang="en">
		<div class="container">
			<div class="row">
			  <!-- start body -->
				
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [6.6]
    </a></span> » <span class="breadcrumb-link"><a href="modules.html">Modules</a></span> » <span class="breadcrumb-node">Node</span></div><div class="navheader"><span class="prev"><a href="modules-network.html">
              « 
              Network Settings</a>
           
        </span><span class="next">
           
          <a href="modules-plugins.html">Plugins
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="modules-node"></a>Node<a href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/modules/node.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Any time that you start an instance of Elasticsearch, you are starting a
<span class="emphasis"><em>node</em></span>. A collection of connected nodes is  called a
<a class="link" href="modules-cluster.html" title="Cluster">cluster</a>. If you are running a single node of Elasticsearch,
then you have a cluster of one node.</p><p>Every node in the cluster can handle <a class="link" href="modules-http.html" title="HTTP">HTTP</a> and
<a class="link" href="modules-transport.html" title="Transport">Transport</a> traffic by default. The transport layer
is used exclusively for communication between nodes and the
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/client/java-api/6.6/transport-client.html" target="_top">Java <code class="literal">TransportClient</code></a>; the HTTP layer is
used only by external REST clients.</p><p>All nodes know about all the other nodes in the cluster and can forward client
requests to the appropriate node. Besides that, each node serves one or more
purpose:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="modules-node.html#master-node" title="Master Eligible Nodeedit">Master-eligible node</a>
</span></dt><dd>
A node that has <code class="literal">node.master</code> set to <code class="literal">true</code> (default), which makes it eligible
to be <a class="link" href="modules-discovery-zen.html" title="Zen Discovery">elected as the <span class="emphasis"><em>master</em></span> node</a>, which controls
the cluster.
</dd><dt><span class="term">
<a class="link" href="modules-node.html#data-node" title="Data Nodeedit">Data node</a>
</span></dt><dd>
A node that has <code class="literal">node.data</code> set to <code class="literal">true</code> (default). Data nodes hold data and
perform data related operations such as CRUD, search, and aggregations.
</dd><dt><span class="term">
<a class="link" href="ingest.html" title="Ingest Node">Ingest node</a>
</span></dt><dd>
A node that has <code class="literal">node.ingest</code> set to <code class="literal">true</code> (default). Ingest nodes are able
to apply an <a class="link" href="pipeline.html" title="Pipeline Definition">ingest pipeline</a> to a document in order to transform
and enrich the document before indexing. With a heavy ingest load, it makes
sense to use dedicated ingest nodes and to mark the master and data nodes as
<code class="literal">node.ingest: false</code>.
</dd><dt><span class="term">
<a class="link" href="modules-tribe.html" title="Tribe node">Tribe node</a>
</span></dt><dd>
A tribe node, configured via the <code class="literal">tribe.*</code> settings, is a special type  of
coordinating only node that can connect to multiple clusters and perform
search and other operations across all connected clusters.
</dd></dl></div><p>By default a node is a master-eligible node and a data node, plus it can
pre-process documents through ingest pipelines. This is very convenient for
small clusters but, as the cluster grows, it becomes important to consider
separating dedicated master-eligible nodes from dedicated data nodes.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><h3>Coordinating node<a id="coordinating-node"></a></h3><p>Requests like search requests or bulk-indexing requests may involve data held
on different data nodes. A search request, for example, is executed in two
phases which are coordinated by the node which receives the client request — the <span class="emphasis"><em>coordinating node</em></span>.</p><p>In the <span class="emphasis"><em>scatter</em></span> phase, the coordinating node forwards the request to the data
nodes which hold the data.  Each data node executes the request locally and
returns its results to the coordinating node. In the <span class="emphasis"><em>gather</em></span>  phase, the
coordinating node reduces each data node’s results into a single global
resultset.</p><p>Every node is implicitly a coordinating node. This means that a node that has
all three <code class="literal">node.master</code>, <code class="literal">node.data</code> and <code class="literal">node.ingest</code> set to <code class="literal">false</code> will
only act as a coordinating node, which cannot be disabled. As a result, such
a node needs to have enough memory and CPU in order to deal with the gather
phase.</p></div></div><h3><a id="master-node"></a>Master Eligible Node<a href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/modules/node.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The master node is responsible for lightweight cluster-wide actions such as
creating or deleting an index, tracking which nodes are part of the cluster,
and deciding which shards to allocate to which nodes. It is important for
cluster health to have a stable master node.</p><p>Any master-eligible node (all nodes by default) may be elected to become the
master node by the <a class="link" href="modules-discovery-zen.html" title="Zen Discovery">master election process</a>.</p><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>Master nodes must have access to the <code class="literal">data/</code> directory (just like
<code class="literal">data</code> nodes) as this is where the cluster state is persisted between node restarts.</p></div></div><p>Indexing and searching your data is CPU-, memory-, and I/O-intensive work
which can put pressure on a node’s resources. To ensure that your master
node is stable and not under pressure, it is a good idea in a bigger
cluster to split the roles between dedicated master-eligible nodes and
dedicated data nodes.</p><p>While master nodes can also behave as <a class="link" href="modules-node.html#coordinating-node" title="Coordinating node">coordinating nodes</a>
and route search and indexing requests from clients to data nodes, it is
better <span class="emphasis"><em>not</em></span> to use dedicated master nodes for this purpose. It is important
for the stability of the cluster that master-eligible nodes do as little work
as possible.</p><p>To create a dedicated master-eligible node, set:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">node.master: true <a id="CO365-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
node.data: false <a id="CO365-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
node.ingest: false <a id="CO365-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
cluster.remote.connect: false <a id="CO365-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO365-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">node.master</code> role is enabled by default.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO365-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.data</code> role (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO365-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.ingest</code> role (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO365-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable cross-cluster search (enabled by default).
</p></td></tr></table></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>These settings apply only when X-Pack is not installed. To create a
dedicated master-eligible node when X-Pack is installed, see <a class="link" href="modules-node.html#modules-node-xpack" title="X-Pack node settingsedit">X-Pack node settings</a>.</p></div></div><h4><a id="split-brain"></a>Avoiding split brain with <code class="literal">minimum_master_nodes</code><a href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/modules/node.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>To prevent data loss, it is vital to configure the
<code class="literal">discovery.zen.minimum_master_nodes</code> setting (which defaults to <code class="literal">1</code>) so that
each master-eligible node knows the <span class="emphasis"><em>minimum number of master-eligible nodes</em></span>
that must be visible in order to form a cluster.</p><p>To explain, imagine that you have a cluster consisting of two master-eligible
nodes. A network failure breaks communication between these two nodes.  Each
node sees one master-eligible node… itself. With <code class="literal">minimum_master_nodes</code> set
to the default of <code class="literal">1</code>,  this is sufficient to form a cluster. Each node elects
itself as the new master (thinking that the other master-eligible node has
died) and the result is two clusters, or a <span class="emphasis"><em>split brain</em></span>.  These two nodes
will never rejoin until one node is restarted.  Any data that has been written
to the restarted node will be lost.</p><p>Now imagine that you have a cluster with three master-eligible nodes, and
<code class="literal">minimum_master_nodes</code> set to <code class="literal">2</code>.  If a network split separates one node from
the other two nodes, the side with one node cannot see enough master-eligible
nodes and will realise that it cannot elect itself as master.  The side with
two nodes will elect a new master (if needed) and continue functioning
correctly.  As soon as the network split is resolved, the single node will
rejoin the cluster and start serving requests again.</p><p>This setting should be set to a <span class="emphasis"><em>quorum</em></span> of master-eligible nodes:</p><pre class="literallayout">(master_eligible_nodes / 2) + 1</pre><p>In other words, if there are three master-eligible nodes, then minimum master
nodes should be set to <code class="literal">(3 / 2) + 1</code> or <code class="literal">2</code>:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">discovery.zen.minimum_master_nodes: 2 <a id="CO366-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO366-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Defaults to <code class="literal">1</code>.
</p></td></tr></table></div><p>To be able to remain available when one of the master-eligible nodes fails,
clusters should have at least three master-eligible nodes, with
<code class="literal">minimum_master_nodes</code> set accordingly. A <a class="link" href="rolling-upgrades.html" title="Rolling upgrades">rolling upgrade</a>,
performed without any downtime, also requires at least three master-eligible
nodes to avoid the possibility of data loss if a network split occurs while the
upgrade is in progress.</p><p>This setting can also be changed dynamically on a live cluster with the
<a class="link" href="cluster-update-settings.html" title="Cluster Update Settings">cluster update settings API</a>:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">PUT _cluster/settings
{
  "transient": {
    "discovery.zen.minimum_master_nodes": 2
  }
}</pre></div><div class="console_widget" data-snippet="snippets/modules-node/1.json"></div><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>An advantage of splitting the master and data roles between dedicated
nodes is that you can have just three master-eligible nodes and set
<code class="literal">minimum_master_nodes</code> to <code class="literal">2</code>. You never have to change this setting, no
matter how many dedicated data nodes you add to the cluster.</p></div></div><h3><a id="data-node"></a>Data Node<a href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/modules/node.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Data nodes hold the shards that contain the documents you have indexed. Data
nodes handle data related operations like CRUD, search, and aggregations.
These operations are I/O-, memory-, and CPU-intensive. It is important to
monitor these resources and to add more data nodes if they are overloaded.</p><p>The main benefit of having dedicated data nodes is the separation of the
master and data roles.</p><p>To create a dedicated data node, set:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">node.master: false <a id="CO367-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
node.data: true <a id="CO367-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
node.ingest: false <a id="CO367-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
cluster.remote.connect: false <a id="CO367-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO367-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.master</code> role (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO367-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">node.data</code> role is enabled by default.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO367-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.ingest</code> role (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO367-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable cross-cluster search (enabled by default).
</p></td></tr></table></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>These settings apply only when X-Pack is not installed. To create a
dedicated data node when X-Pack is installed, see <a class="link" href="modules-node.html#modules-node-xpack" title="X-Pack node settingsedit">X-Pack node settings</a>.</p></div></div><h3><a id="node-ingest-node"></a>Ingest Node<a href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/modules/node.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Ingest nodes can execute pre-processing pipelines, composed of one or more
ingest processors. Depending on the type of operations performed by the ingest
processors and the required resources, it may make sense to have dedicated
ingest nodes, that will only perform this specific task.</p><p>To create a dedicated ingest node, set:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">node.master: false <a id="CO368-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
node.data: false <a id="CO368-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
node.ingest: true <a id="CO368-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
cluster.remote.connect: false <a id="CO368-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO368-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.master</code> role (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO368-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.data</code> role (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO368-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">node.ingest</code> role is enabled by default.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO368-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable cross-cluster search (enabled by default).
</p></td></tr></table></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>These settings apply only when X-Pack is not installed. To create a
dedicated ingest node when X-Pack is installed, see <a class="link" href="modules-node.html#modules-node-xpack" title="X-Pack node settingsedit">X-Pack node settings</a>.</p></div></div><h3><a id="coordinating-only-node"></a>Coordinating only node<a href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/modules/node.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>If you take away the ability to be able to handle master duties, to hold data,
and pre-process documents, then you are left with a <span class="emphasis"><em>coordinating</em></span> node that
can only route requests, handle the search reduce phase, and distribute bulk
indexing. Essentially, coordinating only nodes behave as smart load balancers.</p><p>Coordinating only nodes can benefit large clusters by offloading the
coordinating node role from data and master-eligible nodes.  They join the
cluster and receive the full <a class="link" href="cluster-state.html" title="Cluster State">cluster state</a>, like every other
node, and they use the cluster state to route requests directly to the
appropriate place(s).</p><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>Adding too many coordinating only nodes to a cluster can increase the
burden on the entire cluster because the elected master node must await
acknowledgement of cluster state updates from every node! The benefit of
coordinating only nodes should not be overstated — data nodes can happily
serve the same purpose.</p></div></div><p>To create a dedicated coordinating node, set:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">node.master: false <a id="CO369-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
node.data: false <a id="CO369-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
node.ingest: false <a id="CO369-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
cluster.remote.connect: false <a id="CO369-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO369-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.master</code> role (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO369-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.data</code> role (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO369-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.ingest</code> role (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO369-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable cross-cluster search (enabled by default).
</p></td></tr></table></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>These settings apply only when X-Pack is not installed. To create a
dedicated coordinating node when X-Pack is installed, see <a class="link" href="modules-node.html#modules-node-xpack" title="X-Pack node settingsedit">X-Pack node settings</a>.</p></div></div><h2><a id="_node_data_path_settings"></a>Node data path settings<a href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/modules/node.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2><h3><a id="data-path"></a><code class="literal">path.data</code><a href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/modules/node.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Every data and master-eligible node requires access to a data directory where
shards and index and cluster metadata will be stored. The <code class="literal">path.data</code> defaults
to <code class="literal">$ES_HOME/data</code> but can be configured in the <code class="literal">elasticsearch.yml</code> config
file an absolute path or a path relative to <code class="literal">$ES_HOME</code> as follows:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">path.data:  /var/elasticsearch/data</pre></div><p>Like all node settings, it can also be specified on the command line as:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">./bin/elasticsearch -Epath.data=/var/elasticsearch/data</pre></div><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>When using the <code class="literal">.zip</code> or <code class="literal">.tar.gz</code> distributions, the <code class="literal">path.data</code> setting
should be configured to locate the data directory outside the Elasticsearch
home directory, so that the home directory can be deleted without deleting
your data! The RPM and Debian distributions do this for you already.</p></div></div><h3><a id="max-local-storage-nodes"></a><code class="literal">node.max_local_storage_nodes</code><a href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/modules/node.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The <a class="link" href="modules-node.html#data-path" title="path.dataedit">data path</a> can be shared by multiple nodes, even by nodes from different
clusters. This is very useful for testing failover and different configurations on your development
machine. In production, however, it is recommended to run only one node of Elasticsearch per server.</p><p>By default, Elasticsearch is configured to prevent more than one node from sharing the same data
path. To allow for more than one node (e.g., on your development machine), use the setting
<code class="literal">node.max_local_storage_nodes</code> and set this to a positive integer larger than one.</p><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>Never run different node types (i.e. master, data) from the same data directory. This can
lead to unexpected data loss.</p></div></div><h2><a id="_other_node_settings"></a>Other node settings<a href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/modules/node.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2><p>More node settings can be found in <a class="link" href="modules.html" title="Modules">Modules</a>.  Of particular note are
the <a class="link" href="cluster.name.html" title="cluster.name"><code class="literal">cluster.name</code></a>, the <a class="link" href="node.name.html" title="node.name"><code class="literal">node.name</code></a> and the
<a class="link" href="modules-network.html" title="Network Settings">network settings</a>.</p><h2><a id="modules-node-xpack"></a><span class="xpack xpack">X-Pack node settings</span><a href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/modules/ml-node.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2><p>If X-Pack is installed, there is an additional node type:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="modules-node.html#ml-node" title="Machine learning nodeedit">Machine learning node</a>
</span></dt><dd>
A node that has <code class="literal">xpack.ml.enabled</code> and <code class="literal">node.ml</code> set to <code class="literal">true</code>, which is the
default behavior when X-Pack is installed. If you want to use X-Pack machine learning
features, there must be at least one machine learning node in your cluster. For more
information about X-Pack machine learning features,
see <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/6.6/xpack-ml.html" target="_top">Machine Learning in the Elastic Stack</a>.
</dd></dl></div><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>Do not set use the <code class="literal">node.ml</code> setting unless X-Pack is installed.
Otherwise, the node fails to start.</p></div></div><p>If X-Pack is installed, nodes are master-eligible, data, ingest, and machine learning
nodes by default. As the cluster grows and in particular if you have large
machine learning jobs, consider separating dedicated master-eligible nodes from dedicated
data nodes and dedicated machine learning nodes.</p><p>To create a dedicated master-eligible node when X-Pack is installed, set:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">node.master: true <a id="CO370-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
node.data: false <a id="CO370-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
node.ingest: false <a id="CO370-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
node.ml: false <a id="CO370-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
xpack.ml.enabled: true <a id="CO370-5"></a><span><img src="images/icons/callouts/5.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO370-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">node.master</code> role is enabled by default.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO370-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.data</code> role (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO370-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.ingest</code> role (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO370-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.ml</code> role (enabled by default in X-Pack).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO370-5"><span><img src="images/icons/callouts/5.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">xpack.ml.enabled</code> setting is enabled by default in X-Pack.
</p></td></tr></table></div><p>To create a dedicated data node when X-Pack is installed, set:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">node.master: false <a id="CO371-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
node.data: true <a id="CO371-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
node.ingest: false <a id="CO371-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
node.ml: false <a id="CO371-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO371-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.master</code> role (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO371-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">node.data</code> role is enabled by default.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO371-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.ingest</code> role (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO371-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.ml</code> role (enabled by default in X-Pack).
</p></td></tr></table></div><p>To create a dedicated ingest node when X-Pack is installed, set:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">node.master: false <a id="CO372-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
node.data: false <a id="CO372-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
node.ingest: true <a id="CO372-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
cluster.remote.connect: false <a id="CO372-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
node.ml: false <a id="CO372-5"></a><span><img src="images/icons/callouts/5.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO372-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.master</code> role (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO372-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.data</code> role (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO372-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">node.ingest</code> role is enabled by default.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO372-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable cross-cluster search (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO372-5"><span><img src="images/icons/callouts/5.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.ml</code> role (enabled by default in X-Pack).
</p></td></tr></table></div><p>To create a dedicated coordinating node when X-Pack is installed, set:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">node.master: false <a id="CO373-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
node.data: false <a id="CO373-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
node.ingest: false <a id="CO373-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
cluster.remote.connect: false <a id="CO373-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
node.ml: false <a id="CO373-5"></a><span><img src="images/icons/callouts/5.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO373-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.master</code> role (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO373-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.data</code> role (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO373-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.ingest</code> role (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO373-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable cross-cluster search (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO373-5"><span><img src="images/icons/callouts/5.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.ml</code> role (enabled by default in X-Pack).
</p></td></tr></table></div><h3><a id="ml-node"></a><span class="xpack xpack">Machine learning node</span><a href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/modules/ml-node.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The X-Pack machine learning features provide machine learning nodes, which run jobs and handle machine learning API
requests. If <code class="literal">xpack.ml.enabled</code> is set to true and <code class="literal">node.ml</code> is set to <code class="literal">false</code>,
the node can service API requests but it cannot run jobs.</p><p>If you want to use X-Pack machine learning features in your cluster, you must enable machine learning
(set <code class="literal">xpack.ml.enabled</code> to <code class="literal">true</code>) on all master-eligible nodes. Do not use
these settings if you do not have X-Pack installed.</p><p>For more information about these settings, see <a class="xref" href="ml-settings.html" title="Machine learning settings in Elasticsearch">Machine learning settings</a>.</p><p>To create a dedicated machine learning node, set:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">node.master: false <a id="CO374-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
node.data: false <a id="CO374-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
node.ingest: false <a id="CO374-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
cluster.remote.connect: false <a id="CO374-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
node.ml: true <a id="CO374-5"></a><span><img src="images/icons/callouts/5.png" alt="" /></span>
xpack.ml.enabled: true <a id="CO374-6"></a><span><img src="images/icons/callouts/6.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO374-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.master</code> role (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO374-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.data</code> role (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO374-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable the <code class="literal">node.ingest</code> role (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO374-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Disable cross-cluster search (enabled by default).
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO374-5"><span><img src="images/icons/callouts/5.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">node.ml</code> role is enabled by default in X-Pack.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO374-6"><span><img src="images/icons/callouts/6.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">xpack.ml.enabled</code> setting is enabled by default in X-Pack.
</p></td></tr></table></div></div><div class="navfooter"><span class="prev"><a href="modules-network.html">
              « 
              Network Settings</a>
           
        </span><span class="next">
           
          <a href="modules-plugins.html">Plugins
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
					<div id="rtpcontainer" style="display: block;">
						<div class="mktg-promo">
						<h3>Getting Started Videos</h3>
						<ul class="icons">
							<li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
							<li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
							<li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
						</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

        </div>
      	


<div id="footer-subscribe" class="home-footer-subscribe">
  <div class="subscribe-wrapper">
    <div class="container">
      <div class="subscribe-form-container">
        <div class="subscribe-title col-md-12 col-lg-6">
            <h5>Be in the know with the latest and greatest from Elastic.</h5>
        </div>
        <div class="subscribe-form col-md-12 col-lg-6">
          <form class="mktoForm sb-form"></form>
        </div>
      </div>
      <div class="form_thanks hide">
        
          <p>Thanks for subscribing! We'll keep you updated with new releases.</p>
        
      </div>
    </div>
  </div>
</div>
<!--subscribe newsletter end-->

<!-- Footer Section -->
<footer class="footer-wrapper">
  <div class="container">
    <div class="row footer-content">
        
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/products">Products ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/products/elasticsearch">Elasticsearch</a></li>
                  
                
              
                
                  
                    <li><a href="/products/kibana">Kibana</a></li>
                  
                
              
                
                  
                    <li><a href="/products/beats">Beats</a></li>
                  
                
              
                
                  
                    <li><a href="/products/logstash">Logstash</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack">Stack Features (formerly X-Pack)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/security">Security</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/alerting">Alerting</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/canvas">Canvas</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/monitoring">Monitoring</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/graph">Graph</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/reporting">Reporting</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/machine-learning">Machine Learning</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/elasticsearch-sql">Elasticsearch SQL</a></li>
                  
                
              
                
                  
                    <li><a href="/products/hadoop">Elasticsearch-Hadoop</a></li>
                  
                
              
                
                  
                    <li><a href="/products/ece">Elastic Cloud Enterprise</a></li>
                  
                
              
              </ul>
              
                <h3><a href=""></a></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/solutions">Solutions ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/solutions/logging">Logging</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/metrics">Metrics</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/site-search">Site Search</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/security-analytics">Security Analytics</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/apm">APM</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/app-search">App Search</a></li>
                  
                
              
              </ul>
              
                <h3><a href="/cloud">Elastic Cloud ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/cloud/elasticsearch-service">Elasticsearch Service</a></li>
                  
                
              
                
                  
                    <li><a href="/aws-elasticsearch-service">AWS Elasticsearch Service Comparison</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud/app-search-service">Elastic App Search Service</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud/site-search-service">Elastic Site Search Service</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3>Resources</h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/blog">Blog</a></li>
                  
                
              
                
                  
                    <li><a href="https://cloud-status.elastic.co">Cloud Status</a></li>
                  
                
              
                
                  
                    <li><a href="/community">Community</a></li>
                  
                
              
                
                  
                    <li><a href="/use-cases">Customers & Use Cases</a></li>
                  
                
              
                
                  
                    <li><a href="/guide">Documentation</a></li>
                  
                
              
                
                  
                    <li><a href="/elasticon">Elastic{ON} Events</a></li>
                  
                
              
                
                  
                    <li><a href="https://discuss.elastic.co/">Forums</a></li>
                  
                
              
                
                  
                    <li><a href="/community/meetups">Meetups</a></li>
                  
                
              
                
                  
                    <li><a href="/subscriptions">Subscriptions</a></li>
                  
                
              
                
                  
                    <li><a href="https://support.elastic.co">Support Portal</a></li>
                  
                
              
                
                  
                    <li><a href="/videos">Videos & Webinars</a></li>
                  
                
              
                
                  
                    <li><a href="/training">Training</a></li>
                  
                
              
              </ul>
              
                <h3></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/about">About ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/about/careers">Careers/Jobs</a></li>
                  
                
              
                
                  
                    <li><a href="/about/our-source-code">Our Source Code</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams">Teams</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams/board">Board of Directors</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams/leadership">Leadership</a></li>
                  
                
              
                
                  
                    <li><a href="/contact">Contact</a></li>
                  
                
              
                
                  
                    <li><a href="/about/history-of-elasticsearch">Our Story</a></li>
                  
                
              
                
                  
                    <li><a href="/about/why-open-source">Why Open Source</a></li>
                  
                
              
                
                  
                    <li><a href="/about/distributed">Distributed by Intention</a></li>
                  
                
              
                
                  
                    <li><a href="/about/partners">Partners</a></li>
                  
                
              
                
                  
                    <li><a href="/about/press">Media</a></li>
                  
                
              
                
                  
                    <li><a href="https://ir.elastic.co">Investor Relations</a></li>
                  
                
              
                
                  
                    <li><a href="https://www.elastic.shop">Elastic Store</a></li>
                  
                
              
              </ul>
              
                <h3><a href=""></a></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
       
    </div>
     <!-- Social Media Section -->
    <div class="row social-icon">
      <div class="col-xs-12 col-sm-12 col-md-6 col-md-offset-3">
	    <div class="row">
		     <div class="follow-us col-xs-12 col-sm-12 col-md-12">
			    <div class="social-label">FOLLOW US</div>
			    <ul class="social-icon-list">
          
          		 	<li class="Facebook"><a id="footer_facebook" href="https://www.facebook.com/elastic.co">Facebook</a></li>
          
          		 	<li class="Twitter"><a id="footer_twitter" href="https://www.twitter.com/elastic">Twitter</a></li>
          
          		 	<li class="LinkedIn"><a id="footer_linkedin" href="https://www.linkedin.com/company/elastic-co">LinkedIn</a></li>
          
          		 	<li class="Xing"><a id="footer_xing" href="https://www.xing.com/companies/elastic.co">Xing</a></li>
          
          		 	<li class="YouTube"><a id="footer_youtube" href="https://www.youtube.com/user/elasticsearch">YouTube</a></li>
          
		  		</ul>
		     </div>
	    </div>
      </div>
    </div>
    <!-- Social Media Section end-->
    <div class="row">
	<div class="col-xs-12 col-sm-12 col-md-11">
		<div class="copyright">
			<ul>
				<li><a href="/legal/trademarks">Trademarks</a></li>
				<li><a href="/legal/terms-of-use">Terms of Use</a></li>
				<li><a href="/legal/privacy-statement">Privacy</a></li>
				<li><a href="/brand">Brand</a></li>
			</ul>
			<div class="copyright-content">
				<div class="footer-text">
					<p>© 2018. Elasticsearch B.V. All Rights Reserved
					</p>
					<p>Elasticsearch is a trademark of Elasticsearch B.V., registered in the U.S. and in other countries.
					</p>
					<p>Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a> in the United States and/or other countries.
					</p>
				</div>
			</div>
		</div>
	</div>
	<div class="col-xs-2 col-xs-offset-5 col-sm-1 col-sm-offset-5 col-md-1 col-md-offset-0">
		<div class="footer-logo"><a href="/"><img src="/static/images/svg/logo-elastic-footer-stacked-999.svg" class="img-responsive"></a>
		</div>
	</div>
</div>
  </div>
</footer>
<!-- Footer Section end-->

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>
 
     
<script type="text/javascript">
$(document).ready(function(){
	if (window.location.hash.length) {
	      var target = $(window.location.hash);
	      target = target.length ? target : $(window.location.hash);
	      if (target.length) {
	        setTimeout(function(){ $(window).scrollTop(target.offset().top - 60); }, 1200);        
	      }
	}
	$('#guide').on('click','a[href*=#]:not([href=#])',function(e) {
			var flag=true;
		      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		          var target = $(this.hash);
		          target = target.length ? target :$(this.hash);
		          if (target.length) {
		            if(flag){
		              flag=false;
		              var heightScroll=($('.tertiary-nav.navbar-fixed-top').height())?60:110;
		              $('html,body').animate({
		                  scrollTop: target.offset().top - heightScroll
		                }, 2000, function(){
		                  flag=true;
		                });
		            }                    
		          }
		      }
		    
	});

})

</script>

     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>