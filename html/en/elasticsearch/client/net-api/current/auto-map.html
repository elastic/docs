<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Auto mapping properties
        | Elasticsearch.Net and NEST: the .NET clients [5.x]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch.Net and NEST: the .NET clients [5.x]" /><link rel="up" href="nest.html" title="Client Concepts - NEST" /><link rel="prev" href="features-inference.html" title="Features Inference" /><link rel="next" href="covariant-search-results.html" title="Covariant Search Results" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Docs/Clients/.Net/5.x" />
    <!-- RTP tag -->
    <script type='text/javascript' async>
    (function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
     c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";
     g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);
     })(window,document,"rtp","//sjrtp2-cdn.marketo.com/rtp-api/v1/rtp.js","elasticco");

    rtp('send','view');
    rtp('get', 'campaign',true);
    </script>
    <!-- End of RTP tag -->
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
<meta name="apple-mobile-web-app-title" content="Elastic">
<meta name="application-name" content="Elastic">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">
<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >


<!-- end DC tags -->


	<meta name="description" content="" />





	<meta property="og:image" content="/static/img/cluster-small.png" />

		

    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">

	   

    <!-- css -->
    <link href="https://static-www.elastic.co/static/css/main.css?q=546" rel="stylesheet">
    
    

    <script src="https://static-www.elastic.co/static/js/jquery.min.js?q=546"></script>
    <script src="https://static-www.elastic.co/static/js/bootstrap.min.js?q=546"></script>
    <script src="https://static-www.elastic.co/static/js/jquery.cookie.js?q=546"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // ---------------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
        locales = {
          '/en/': '/',
          '/de/': '/de/',
          '/fr/': '/fr/',
          '/ja/':'/jp/',
          '/ko/':'/kr/'
        }
        localepages = ['/','/de/','/fr/','/jp/','/kr/','/products','/de/products','/fr/products','/jp/products','/kr/products'],
        locationpath = window.location.pathname,
        localeUrl = '{"relative_url_prefix":"/","code":"en-us","url":"/guide_template"}',
        currentlocale = JSON.parse(localeUrl);
    
      if(localepages.indexOf(locationpath) != -1){
        if($.cookie("c_lang")){
          if($.cookie("c_lang") != currentlocale.relative_url_prefix){
            var cookieurl = $.cookie("c_lang") + currentlocale.url.slice(1,currentlocale.url.length);
            window.location = cookieurl;
          }
        }
        else{
          var locale_lang = "/";
          if(locales[lang] != undefined){
            locale_lang = locales[lang];
          }
          $.cookie("c_lang",locale_lang ,{ expires: 365, path: '/'}); 
          window.location = localepages[localepages.indexOf(locationpath)];
        }
      }
      
      // --------------------- end of set language based on browser language -----------------
      </script>


	
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/guide.css?q=546" />


  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
  <body >
  	<!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
                              height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- begin olark code -->
    <script data-cfasync="false" type='text/javascript'>/*<![CDATA[*/window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){
    f[z]=function(){
    (a.s=a.s||[]).push(arguments)};var a=f[z]._={
    },q=c.methods.length;while(q--){(function(n){f[z][n]=function(){
    f[z]("call",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={
    0:+new Date};a.P=function(u){
    a.p[u]=new Date-a.p[0]};function s(){
    a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){
    hd="head";return["<",hd,"></",hd,"><",i,' onl' + 'oad="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){
    return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){
    b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{
    b.contentWindow[g].open()}catch(w){
    c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{
    var t=b.contentWindow[g];t.write(p());t.close()}catch(x){
    b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({
    loader: "static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});
    /* custom configuration goes here (www.olark.com/documentation) */
    olark.identify('1356-750-10-5709');/*]]>*/</script><noscript><a href="https://www.olark.com/site/1356-750-10-5709/contact" title="Contact us">Questions? Feedback?</a> powered by <a href="http://www.olark.com?welcome" title="Olark live chat software">Olark live chat software</a></noscript>
    <!-- end olark code -->

    <script> 
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ 
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), 
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) 
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); 
      ga('create', 'UA-12395217-16', 'auto'); 
      ga('send', 'pageview'); 
    </script>

    <!-- Header Section -->
    
<header class="header-wrapper">
   

  




<div class="navigation-wrapper">
  <div class="container">
    <nav class="navbar">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-mobile-header navbar-header mr-20 mr-xs-0">
      <div class="row hidden-sm hidden-md hidden-lg">
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg">
          <div class="navbar-mobile-header-icon navbar-mobile-header-icon-out">
            <span></span>
            <span></span>
            <span></span>
          </div>
          
        </div>
        <div class="col-xs-2 text-center">
          <div class="navbar-brand" id="elastic">
            <h1>
              <a class="logo-m hidden-sm hidden-md hidden-lg" href="/">
                <img src="https://static-www.elastic.co/assets/bltd5ac38b4549d53de/elastic-logo-mobile (1).svg?q=546" alt="elastic-logo-mobile">
              </a>
            </h1>
          </div>
        </div>
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg text-right">
          <ul class="menu-m hidden-sm hidden-md hidden-lg">
            <li class=""><a class="icon-contact" href="/contact"></a></li>
            <li id="searchbar"><a class="button icon" href="#"></a></li>
            <li class="lang global-language">
                
                  <a href="#">EN</a>
                
              <ul class="language-list">
                
                  
                    
                  
                <li><a href="/" data-value="/" id="locale-select">English</a></li>
                
                  
                    
                  
                <li><a href="/fr/" data-value="/fr/" id="locale-select">Français</a></li>
                
                  
                    
                  
                <li><a href="/de/" data-value="/de/" id="locale-select">Deutsch</a></li>
                
                  
                    
                  
                <li><a href="/jp/" data-value="/jp/" id="locale-select">日本語</a></li>
                
                  
                    
                  
                <li><a href="/kr/" data-value="/kr/" id="locale-select">한국어</a></li>
                
              </ul>
            </li>
          </ul>
        </div>
      </div>

      <div class="navbar-brand hidden-xs" id="elastic">
        <h1>
          <a class="hidden-xs" id="elastic-logo" href="/">
            <img src="https://static-www.elastic.co/assets/blt6050efb80ceabd47/elastic-logo (2).svg?q=546" alt="elastic-logo">
          </a>
        </h1>
      </div>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse mobile-inner-nav">
      <nav class="nav navbar-nav primary-nav-hover" id="nav">
        <ul>
        
          
            
              
            
            <li>
              <a id="nav_products" class=" " href="/products">Products</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_cloud" class=" " href="/cloud">Cloud</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_services" class=" " href="/services">Services</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_customers" class=" " href="/use-cases">Customers</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_learn" class=" " href="/learn">Learn</a>
            </li>
          
        
          
        
        </ul>
      </nav>
      <nav class="nav navbar-nav navbar-right hidden-xs">
        <ul>
          <li class="hidden-xs hidden-sm"><a href="/downloads">downloads</a></li>
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-download" href="/downloads"></a></li>
          <!-- To set parameters to contact button -->
          
           
            
          

          
            
            
          
          <li class="hidden-xs hidden-sm"><a class="btn btn-secondary btn-contact" href="/contact?storm=global-header-en">contact</a></li>
          <!-- ////////////////ends here///////////////-->          
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-contact" href="/contact?storm=global-header-en"></a></li>
          <li class="hidden-xs" id="searchbar"><a class="button icon" href="#"></a></li>
          <li class="hidden-xs lang global-language">
                
                  <a href="#">EN</a>
                
               <ul class="language-list">
              
                
                  
                
              <li><a class="" href="/" data-value="/">English</a></li>
              
                
                  
                
              <li><a class="" href="/fr/" data-value="/fr/">Français</a></li>
              
                
                  
                
              <li><a class="" href="/de/" data-value="/de/">Deutsch</a></li>
              
                
                  
                
              <li><a class="" href="/jp/" data-value="/jp/">日本語</a></li>
              
                
                  
                
              <li><a class="" href="/kr/" data-value="/kr/">한국어</a></li>
              
            </ul>
          </li>
        </ul>
      </nav>
    </div><!-- /.navbar-collapse -->
  </nav>
  </div>
</div>

<div class="header-search-wrapper open-search"> 
  <div class="container">
    <div class="big-search">
      <i class="big-search-icon"></i>
      <form id="searchfrm" name="searchForm" autocomplete="on" action="/search" method="get">
        <ul class="tags-wrapper">
          <li class="search-field"><input type="text" name="q" id="autocomplete" class="form-control global-input" autocomplete="off"></li>
        </ul>
      </form>
      <a class="header-search-cancel" href="#"></a>
    </div>
    <div class="nav-auto-complete"></div>
  </div>
</div>
</header>
<link rel="stylesheet" type="text/css" href="https://static-www.elastic.co/static/css/horizon-swiper.min.css?q=546">
<style> 
    
      .m-shortcuts li a.m-search {
        background: url("https://static-www.elastic.co/assets/blt7b9c4fe6528dc4ef/m-search-icon.png?q=546") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-docs {
        background: url("https://static-www.elastic.co/assets/blt44d8b7530a76d01c/m-guide-icon.png?q=546") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-contact {
        background: url("https://static-www.elastic.co/assets/blt878040795c9d083b/m-contact-icon.png?q=546") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
    
</style>
<script type="text/javascript" src="https://static-www.elastic.co/static/js/horizon-swiper.min.js?q=546"></script>
<script type="text/javascript">
  $(document).ready( function(){
    // if($('#scrollable-pane li').length > 3){
      $('.horizon-swiper').horizonSwiper({
        showItems: 3,
        arrows: true
      }); 
    // }
    
    $('.navbar-toggle').on('click', function(){
      $('.mobile-navigation, .menu-open').hide();
      $('.navigation-wrapper').addClass('mobile-navigation');
      $('.navbar').addClass('menu-open');
      $('.menu-close').show();
    });
    $('.menu-close').on('click', function(){
      $('.navigation-wrapper').removeClass('mobile-navigation');
      $('.navbar').removeClass('menu-open');
      $('.menu-close').hide();
    });

    var active_url = "";

    $(".navbar-mobile-header-icon").click(function(index){
      $('.navigation-wrapper').toggleClass('menu-overlay');
      $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
      $(".mobile-inner-nav").slideToggle(500);
      $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
        $(this).css({'animation-delay': (index/25)+'0.4s'});
      });
    });

    $('.dropdown-btn').on('click', function(e){
      e.preventDefault();
      setDropdown();
    });
    
    function setDropdown() {
      $('#myDropdown').toggleClass('show');
    }

    $('body').on('click', function(event){
      if (!event.target.matches('.dropdown-btn')) {

        var dropdowns = $(".dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    });

    // if($(window).width() < 769){
    //   var $item = $('.scrollable-panel li'), 
    //       visible = 3, //Set the number of items that will be visible
    //       index = 0, //Starting index
    //       endIndex = ( $item.length / visible ) - 1; //End index (NOTE:: Requires visible to be a factor of $item.length... You can improve this by rounding...)

    //   $('#right-arrow').click(function(){
    //     if(index < endIndex ){
    //       index++;
    //       $item.animate({'left':'-=300px'});
    //     }
    //   });

    //   $('#left-arrow').click(function(){
    //     if(index > 0){
    //       index--;            
    //       $item.animate({'left':'+=300px'});
    //     }
    //   });
    // }
  });
  $(window).resize(function () {
    $('.horizon-swiper').horizonSwiper({
      showItems: 3,
      arrows: true
    });
  });
</script>
    


  





  
  
  
  
    <div class="tertiary-nav">
      <div class="container">
        <div class="p-t-b-15 bdr-btm-e0e0e0 clearfix">
          <div class="breadcrum-wrapper pull-left text-left">
          
            <a href="/guide">Docs</a> 
          
          </div>
          
          
          
        </div>
      </div>
    </div>

    <div class="nav-mobile-dropdown hidden-sm hidden-md hidden-lg bdr-btm-e0e0e0 clearfix">
      <div class="container text-right">
        <div class="breadcrum-wrapper pull-left text-left">
          
              <a href="/guide">Docs</a>
          
        </div>
        
        
      </div>
    </div>
  


<style type="text/css">

  
</style>
    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   
          
            
        			<!-- <div class="pageheader">
	<div class="common-container">
		
			<h2 class="page-title">Guide template</h2>
		
	</div>
</div> -->


        		
          

          
	<section id="guide" lang="en">
		<div class="container">
			<div class="row">
			  <!-- start body -->
				
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch.Net and NEST:  the .NET clients
      [5.x]
    </a></span> » <span class="breadcrumb-link"><a href="nest.html">Client Concepts - NEST</a></span> » <span class="breadcrumb-node">Auto mapping properties</span></div><div class="navheader"><span class="prev"><a href="features-inference.html">
              « 
              Features Inference</a>
           
        </span><span class="next">
           
          <a href="covariant-search-results.html">Covariant Search Results
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="auto-map"></a>Auto mapping properties<a href="https://github.com/elastic/elasticsearch-net/edit/5.x/docs/client-concepts/high-level/mapping/auto-map.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>When creating a mapping (either when creating an index or via the put mapping API),
NEST offers a feature called <code class="literal">.AutoMap()</code>, which will automagically infer the correct
Elasticsearch datatypes of the POCO properties you are mapping.  Alternatively, if
you’re using attributes to map your properties, then calling <code class="literal">.AutoMap()</code> is required
in order for your attributes to be applied.  We’ll look at the features of auto mapping
with a number of examples.</p><p>For these examples, we’ll define two POCOS, <code class="literal">Company</code>, which has a name
and a collection of Employees, and <code class="literal">Employee</code> which has various properties of
different types, and itself has a collection of <code class="literal">Employee</code> types.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">public class Company
{
    public string Name { get; set; }
    public List&lt;Employee&gt; Employees { get; set; }
}

public class Employee
{
    public string FirstName { get; set; }
    public string LastName { get; set; }
    public int Salary { get; set; }
    public DateTime Birthday { get; set; }
    public bool IsManager { get; set; }
    public List&lt;Employee&gt; Employees { get; set; }
    public TimeSpan Hours { get; set; }
}</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_manual_mapping"></a>Manual mapping<a href="https://github.com/elastic/elasticsearch-net/edit/5.x/docs/client-concepts/high-level/mapping/auto-map.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>To create a mapping for our Company type, we can use the fluent API
and map each property explicitly</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var descriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;Company&gt;(m =&gt; m
            .Properties(ps =&gt; ps
                .Text(s =&gt; s
                        .Name(c =&gt; c.Name) <a id="CO18-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
                )
                .Object&lt;Employee&gt;(o =&gt; o <a id="CO18-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
                    .Name(c =&gt; c.Employees)
                    .Properties(eps =&gt; eps
                        .Text(s =&gt; s
                            .Name(e =&gt; e.FirstName)
                        )
                        .Text(s =&gt; s
                            .Name(e =&gt; e.LastName)
                        )
                        .Number(n =&gt; n
                            .Name(e =&gt; e.Salary)
                            .Type(NumberType.Integer)
                        )
                    )
                )
            )
        )
    );</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO18-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
map <code class="literal">Name</code> as a <code class="literal">string</code> type
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO18-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
map <code class="literal">Employees</code> as an <code class="literal">object</code> type, mapping each of the properties of <code class="literal">Employee</code>
</p></td></tr></table></div><p>This is all fine and dandy and useful for some use cases however in most cases
this can become verbose and wieldy. The majority of the time you simply just want to map <span class="strong"><strong>all</strong></span>
the properties of a POCO in a single go.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var expected = new
{
    mappings = new
    {
        company = new
        {
            properties = new
            {
                name = new
                {
                    type = "text"
                },
                employees = new
                {
                    type = "object",
                    properties = new
                    {
                        firstName = new
                        {
                            type = "text"
                        },
                        lastName = new
                        {
                            type = "text"
                        },
                        salary = new
                        {
                            type = "integer"
                        }
                    }
                }
            }
        }
    }
};

Expect(expected).WhenSerializing((ICreateIndexRequest) descriptor);</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_simple_automapping"></a>Simple Automapping<a href="https://github.com/elastic/elasticsearch-net/edit/5.x/docs/client-concepts/high-level/mapping/auto-map.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>This is exactly where <code class="literal">.AutoMap()</code> becomes useful. Instead of manually mapping each property,
explicitly, we can instead call <code class="literal">.AutoMap()</code> for each of our mappings and let NEST do all the work</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var descriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;Company&gt;(m =&gt; m.AutoMap())
        .Map&lt;Employee&gt;(m =&gt; m.AutoMap())
    );</pre></div><p>Observe that NEST has inferred the Elasticsearch types based on the CLR type of our POCO properties.
In this example,</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Birthday was mapped as a <code class="literal">date</code>,
</li><li class="listitem">
Hours was mapped as a <code class="literal">long</code> (ticks)
</li><li class="listitem">
IsManager was mapped as a <code class="literal">bool</code>,
</li><li class="listitem">
Salary as an <code class="literal">integer</code>
</li><li class="listitem">
Employees as an <code class="literal">object</code>
</li></ul></div><p>and the remaining string properties as <code class="literal">string</code> types</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var expected = new
{
    mappings = new
    {
        company = new
        {
            properties = new
            {
                employees = new
                {
                    properties = new
                    {
                        birthday = new
                        {
                            type = "date"
                        },
                        employees = new
                        {
                            properties = new { },
                            type = "object"
                        },
                        firstName = new
                        {
                            fields = new
                            {
                                keyword = new
                                {
                                    type = "keyword",
                                    ignore_above = 256
                                }
                            },
                            type = "text"
                        },
                        hours = new
                        {
                            type = "long"
                        },
                        isManager = new
                        {
                            type = "boolean"
                        },
                        lastName = new
                        {
                            fields = new
                            {
                                keyword = new
                                {
                                    type = "keyword",
                                    ignore_above = 256
                                }
                            },
                            type = "text"
                        },
                        salary = new
                        {
                            type = "integer"
                        }
                    },
                    type = "object"
                },
                name = new
                {
                    fields = new
                    {
                        keyword = new
                        {
                            type = "keyword",
                            ignore_above = 256
                        }
                    },
                    type = "text"
                }
            }
        },
        employee = new
        {
            properties = new
            {
                birthday = new
                {
                    type = "date"
                },
                employees = new
                {
                    properties = new { },
                    type = "object"
                },
                firstName = new
                {
                    fields = new
                    {
                        keyword = new
                        {
                            type = "keyword",
                            ignore_above = 256
                        }
                    },
                    type = "text"
                },
                hours = new
                {
                    type = "long"
                },
                isManager = new
                {
                    type = "boolean"
                },
                lastName = new
                {
                    fields = new
                    {
                        keyword = new
                        {
                            type = "keyword",
                            ignore_above = 256
                        }
                    },
                    type = "text"
                },
                salary = new
                {
                    type = "integer"
                }
            }
        }
    }
};

Expect(expected).WhenSerializing((ICreateIndexRequest) descriptor);</pre></div><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>Some .NET types do not have direct equivalent Elasticsearch types. For example, <code class="literal">System.Decimal</code> is a type
commonly used to express currencies and other financial calculations that require large numbers of significant
integral and fractional digits and no round-off errors. There is no equivalent type in Elasticsearch, and the
nearest type is <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/5.3/number.html" target="_top">``double``</a>, a double-precision 64-bit IEEE 754 floating point.</p><p>When a POCO has a <code class="literal">System.Decimal</code> property, it is automapped to the Elasticsearch <code class="literal">double</code> type. With the caveat
of a potential loss of precision, this is generally acceptable for a lot of use cases, but it can however cause
problems in <span class="emphasis"><em>some</em></span> edge cases.</p><p>As the <a class="ulink" href="https://download.microsoft.com/download/3/8/8/388e7205-bc10-4226-b2a8-75351c669b09/csharp%20language%20specification.doc" target="_top">C# Specification states</a>,</p><div class="blockquote"><table border="0" class="blockquote" summary="Block quote"><tr><td width="10%" valign="top"> </td><td width="80%" valign="top"><p>For a conversion from <code class="literal">decimal</code> to <code class="literal">float</code> or <code class="literal">double</code>, the <code class="literal">decimal</code> value is rounded to the nearest <code class="literal">double</code> or <code class="literal">float</code> value.
While this conversion may lose precision, it never causes an exception to be thrown.</p></td><td width="10%" valign="top"> </td></tr><tr><td width="10%" valign="top"> </td><td colspan="2" align="right" valign="top">--<span class="attribution">
C# Specification section 6.2.1
</span></td></tr></table></div><p>This conversion causes an exception to be thrown at deserialization time for <code class="literal">Decimal.MinValue</code> and <code class="literal">Decimal.MaxValue</code> because, at
serialization time, the nearest <code class="literal">double</code> value that is converted to is outside of the bounds of <code class="literal">Decimal.MinValue</code> or <code class="literal">Decimal.MaxValue</code>,
respectively. In these cases, it is advisable to use <code class="literal">double</code> as the POCO property type.</p></div></div><h2><a id="auto-mapping-with-overrides"></a>Auto mapping with overrides<a href="https://github.com/elastic/elasticsearch-net/edit/5.x/docs/client-concepts/high-level/mapping/auto-map.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2><p>In most cases, you’ll want to map more than just the vanilla datatypes and also provide
various options for your properties (analyzer to use, whether to enable doc_values, etc…).
In that case, it’s possible to use <code class="literal">.AutoMap()</code> in conjunction with explicitly mapped properties.</p><p>Here we are using <code class="literal">.AutoMap()</code> to automatically map our company type, but then we’re
overriding our employee property and making it a <code class="literal">nested</code> type, since by default,
<code class="literal">.AutoMap()</code> will infer objects as <code class="literal">object</code>.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var descriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;Company&gt;(m =&gt; m
            .AutoMap()
            .Properties(ps =&gt; ps
                .Nested&lt;Employee&gt;(n =&gt; n
                    .Name(c =&gt; c.Employees)
                )
            )
        )
    );

var expected = new
{
    mappings = new
    {
        company = new
        {
            properties = new
            {
                name = new
                {
                    type = "text",
                    fields = new
                    {
                        keyword = new
                        {
                            type = "keyword",
                            ignore_above = 256
                        }
                    }
                },
                employees = new
                {
                    type = "nested",
                }
            }
        }
    }
};

Expect(expected).WhenSerializing((ICreateIndexRequest) descriptor);</pre></div><p><code class="literal">.AutoMap()</code> is idempotent; calling it before or after manually
mapped properties will still yield the same results.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">descriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;Company&gt;(m =&gt; m
            .Properties(ps =&gt; ps
                .Nested&lt;Employee&gt;(n =&gt; n
                    .Name(c =&gt; c.Employees)
                )
            )
            .AutoMap()
        )
    );

Expect(expected).WhenSerializing((ICreateIndexRequest) descriptor);</pre></div><h2><a id="attribute-mapping"></a>Attribute mapping<a href="https://github.com/elastic/elasticsearch-net/edit/5.x/docs/client-concepts/high-level/mapping/auto-map.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2><p>It is also possible to define your mappings using attributes on your POCOs.  When you
use attributes, you <span class="strong"><strong>must</strong></span> use <code class="literal">.AutoMap()</code> in order for the attributes to be applied.
Here we define the same two types as before, but this time using attributes to define the mappings.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">[ElasticsearchType(Name = "company")]
public class CompanyWithAttributes
{
    [Keyword(NullValue = "null", Similarity = "BM25")]
    public string Name { get; set; }

    [Text(Name = "office_hours")]
    public TimeSpan? HeadOfficeHours { get; set; }

    [Object(Store = false)]
    public List&lt;Employee&gt; Employees { get; set; }
}

[ElasticsearchType(Name = "employee")]
public class EmployeeWithAttributes
{
    [Text(Name = "first_name")]
    public string FirstName { get; set; }

    [Text(Name = "last_name")]
    public string LastName { get; set; }

    [Number(DocValues = false, IgnoreMalformed = true, Coerce = true)]
    public int Salary { get; set; }

    [Date(Format = "MMddyyyy")]
    public DateTime Birthday { get; set; }

    [Boolean(NullValue = false, Store = true)]
    public bool IsManager { get; set; }

    [Nested]
    [JsonProperty("empl")]
    public List&lt;Employee&gt; Employees { get; set; }
}</pre></div><p>Then we map the types by calling <code class="literal">.AutoMap()</code></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var descriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;CompanyWithAttributes&gt;(m =&gt; m.AutoMap())
        .Map&lt;EmployeeWithAttributes&gt;(m =&gt; m.AutoMap())
    );

var expected = new
{
    mappings = new
    {
        company = new
        {
            properties = new
            {
                employees = new
                {
                    properties = new
                    {
                        birthday = new
                        {
                            type = "date"
                        },
                        employees = new
                        {
                            properties = new { },
                            type = "object"
                        },
                        firstName = new
                        {
                            fields = new
                            {
                                keyword = new
                                {
                                    type = "keyword",
                                    ignore_above = 256
                                }
                            },
                            type = "text"
                        },
                        hours = new
                        {
                            type = "long"
                        },
                        isManager = new
                        {
                            type = "boolean"
                        },
                        lastName = new
                        {
                            fields = new
                            {
                                keyword = new
                                {
                                    type = "keyword",
                                    ignore_above = 256
                                }
                            },
                            type = "text"
                        },
                        salary = new
                        {
                            type = "integer"
                        }
                    },
                    store = false,
                    type = "object"
                },
                name = new
                {
                    null_value = "null",
                    similarity = "BM25",
                    type = "keyword"
                },
                office_hours = new
                {
                    type = "text"
                }
            }
        },
        employee = new
        {
            properties = new
            {
                birthday = new
                {
                    format = "MMddyyyy",
                    type = "date"
                },
                empl = new
                {
                    properties = new
                    {
                        birthday = new
                        {
                            type = "date"
                        },
                        employees = new
                        {
                            properties = new { },
                            type = "object"
                        },
                        firstName = new
                        {
                            fields = new
                            {
                                keyword = new
                                {
                                    type = "keyword",
                                    ignore_above = 256
                                }
                            },
                            type = "text"
                        },
                        hours = new
                        {
                            type = "long"
                        },
                        isManager = new
                        {
                            type = "boolean"
                        },
                        lastName = new
                        {
                            fields = new
                            {
                                keyword = new
                                {
                                    type = "keyword",
                                    ignore_above = 256
                                }
                            },
                            type = "text"
                        },
                        salary = new
                        {
                            type = "integer"
                        }
                    },
                    type = "nested"
                },
                first_name = new
                {
                    type = "text"
                },
                isManager = new
                {
                    null_value = false,
                    store = true,
                    type = "boolean"
                },
                last_name = new
                {
                    type = "text"
                },
                salary = new
                {
                    coerce = true,
                    doc_values = false,
                    ignore_malformed = true,
                    type = "float"
                }
            }
        }
    }
};

Expect(expected).WhenSerializing(descriptor as ICreateIndexRequest);</pre></div><p>Just as we were able to override the inferred properties in our earlier example, explicit (manual)
mappings also take precedence over attributes.  Therefore we can also override any mappings applied
via any attributes defined on the POCO</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var descriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;CompanyWithAttributes&gt;(m =&gt; m
            .AutoMap()
            .Properties(ps =&gt; ps
                .Nested&lt;Employee&gt;(n =&gt; n
                    .Name(c =&gt; c.Employees)
                )
            )
        )
        .Map&lt;EmployeeWithAttributes&gt;(m =&gt; m
            .AutoMap()
            .Properties(ps =&gt; ps
                .Text(s =&gt; s
                    .Name(e =&gt; e.FirstName)
                    .Fields(fs =&gt; fs
                        .Keyword(ss =&gt; ss
                            .Name("firstNameRaw")
                        )
                        .TokenCount(t =&gt; t
                            .Name("length")
                            .Analyzer("standard")
                        )
                    )
                )
                .Number(n =&gt; n
                    .Name(e =&gt; e.Salary)
                    .Type(NumberType.Double)
                    .IgnoreMalformed(false)
                )
                .Date(d =&gt; d
                    .Name(e =&gt; e.Birthday)
                    .Format("MM-dd-yy")
                )
            )
        )
    );

var expected = new
{
    mappings = new
    {
        company = new
        {
            properties = new
            {
                employees = new
                {
                    type = "nested"
                },
                name = new
                {
                    null_value = "null",
                    similarity = "BM25",
                    type = "keyword"
                },
                office_hours = new
                {
                    type = "text"
                }
            }
        },
        employee = new
        {
            properties = new
            {
                birthday = new
                {
                    format = "MM-dd-yy",
                    type = "date"
                },
                empl = new
                {
                    properties = new
                    {
                        birthday = new
                        {
                            type = "date"
                        },
                        employees = new
                        {
                            properties = new { },
                            type = "object"
                        },
                        firstName = new
                        {
                            fields = new
                            {
                                keyword = new
                                {
                                    type = "keyword",
                                    ignore_above = 256
                                }
                            },
                            type = "text"
                        },
                        hours = new
                        {
                            type = "long"
                        },
                        isManager = new
                        {
                            type = "boolean"
                        },
                        lastName = new
                        {
                            fields = new
                            {
                                keyword = new
                                {
                                    type = "keyword",
                                    ignore_above = 256
                                }
                            },
                            type = "text"
                        },
                        salary = new
                        {
                            type = "integer"
                        }
                    },
                    type = "nested"
                },
                first_name = new
                {
                    fields = new
                    {
                        firstNameRaw = new
                        {
                            type = "keyword"
                        },
                        length = new
                        {
                            analyzer = "standard",
                            type = "token_count"
                        }
                    },
                    type = "text"
                },
                isManager = new
                {
                    null_value = false,
                    store = true,
                    type = "boolean"
                },
                last_name = new
                {
                    type = "text"
                },
                salary = new
                {
                    ignore_malformed = false,
                    type = "double"
                }
            }
        }
    }
};

Expect(expected).WhenSerializing((ICreateIndexRequest) descriptor);</pre></div><h2><a id="ignoring-properties"></a>Ignoring Properties<a href="https://github.com/elastic/elasticsearch-net/edit/5.x/docs/client-concepts/high-level/mapping/auto-map.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2><p>Properties on a POCO can be ignored in a few ways:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Using the <code class="literal">Ignore</code> property on a derived <code class="literal">ElasticsearchPropertyAttribute</code> type applied to the property that should be ignored on the POCO
</li><li class="listitem">
Using the <code class="literal">.InferMappingFor&lt;TDocument&gt;(Func&lt;ClrTypeMappingDescriptor&lt;TDocument&gt;, IClrTypeMapping&lt;TDocument&gt;&gt; selector)</code> on the connection settings
</li><li class="listitem">
Using an ignore attribute applied to the POCO property that is understood by the <code class="literal">IElasticsearchSerializer</code> used, and inspected inside of the <code class="literal">CreatePropertyMapping()</code> on the serializer. In the case of the default <code class="literal">JsonNetSerializer</code>, this is the Json.NET <code class="literal">JsonIgnoreAttribute</code>
</li></ul></div><p>This example demonstrates all ways, using the <code class="literal">Ignore</code> property on the attribute to ignore the property <code class="literal">PropertyToIgnore</code>, the infer mapping to ignore the
property <code class="literal">AnotherPropertyToIgnore</code> and the json serializer specific attribute  to ignore the property <code class="literal">JsonIgnoredProperty</code></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">[ElasticsearchType(Name = "company")]
public class CompanyWithAttributesAndPropertiesToIgnore
{
    public string Name { get; set; }

    [Text(Ignore = true)]
    public string PropertyToIgnore { get; set; }

    public string AnotherPropertyToIgnore { get; set; }

    [JsonIgnore]
    public string JsonIgnoredProperty { get; set; }
}</pre></div><p>All of the properties except <code class="literal">Name</code> have been ignored in the mapping</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var descriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;CompanyWithAttributesAndPropertiesToIgnore&gt;(m =&gt; m
            .AutoMap()
        )
    );

var expected = new
{
    mappings = new
    {
        company = new
        {
            properties = new
            {
                name = new
                {
                    type = "text",
                    fields = new
                    {
                        keyword = new
                        {
                            type = "keyword",
                            ignore_above = 256
                        }
                    }
                }
            }
        }
    }
};

var settings = WithConnectionSettings(s =&gt; s
    .InferMappingFor&lt;CompanyWithAttributesAndPropertiesToIgnore&gt;(i =&gt; i
        .Ignore(p =&gt; p.AnotherPropertyToIgnore)
    )
);

settings.Expect(expected).WhenSerializing((ICreateIndexRequest) descriptor);</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">public class Parent
{
    public int Id { get; set; }
    public string Description { get; set; }
    public string IgnoreMe { get; set; }
}

public class Child : Parent
{
}</pre></div><p>All of the properties except <code class="literal">Name</code> have been ignored in the mapping</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var descriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;Child&gt;(m =&gt; m
            .AutoMap()
        )
    );

var expected = new
{
    mappings = new
    {
        child = new
        {
            properties = new
            {
                desc = new
                {
                    fields = new
                    {
                        keyword = new
                        {
                            ignore_above = 256,
                            type = "keyword"
                        }
                    },
                    type = "text"
                },
                id = new
                {
                    type = "integer"
                }
            }
        }
    }
};

var settings = WithConnectionSettings(s =&gt; s
    .InferMappingFor&lt;Child&gt;(m =&gt; m
        .Rename(p =&gt; p.Description, "desc")
        .Ignore(p =&gt; p.IgnoreMe)
    )
);

settings.Expect(expected).WhenSerializing((ICreateIndexRequest) descriptor);</pre></div><h2><a id="mapping-recursion"></a>Mapping Recursion<a href="https://github.com/elastic/elasticsearch-net/edit/5.x/docs/client-concepts/high-level/mapping/auto-map.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2><p>If you notice in our previous <code class="literal">Company</code> and <code class="literal">Employee</code> examples, the <code class="literal">Employee</code> type is recursive
in that the <code class="literal">Employee</code> class itself contains a collection of type <code class="literal">Employee</code>. By default, <code class="literal">.AutoMap()</code> will only
traverse a single depth when it encounters recursive instances like this.  Hence, in the
previous examples, the collection of type <code class="literal">Employee</code> on the <code class="literal">Employee</code> class did not get any of its properties mapped.
This is done as a safe-guard to prevent stack overflows and all the fun that comes with
infinite recursion.  Additionally, in most cases, when it comes to Elasticsearch mappings, it is
often an edge case to have deeply nested mappings like this.  However, you may still have
the need to do this, so you can control the recursion depth of <code class="literal">.AutoMap()</code>.</p><p>Let’s introduce a very simple class, <code class="literal">A</code>, which itself has a property
Child of type <code class="literal">A</code>.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">public class A
{
    public A Child { get; set; }
}</pre></div><p>By default, <code class="literal">.AutoMap()</code> only goes as far as depth 1</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var descriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;A&gt;(m =&gt; m.AutoMap())
    );</pre></div><p>Thus we do not map properties on the second occurrence of our Child property</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var expected = new
{
    mappings = new
    {
        a = new
        {
            properties = new
            {
                child = new
                {
                    properties = new { },
                    type = "object"
                }
            }
        }
    }
};

Expect(expected).WhenSerializing((ICreateIndexRequest) descriptor);</pre></div><p>Now let’s specify a maxRecursion of 3</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var withMaxRecursionDescriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;A&gt;(m =&gt; m.AutoMap(3))
    );</pre></div><p><code class="literal">.AutoMap()</code> has now mapped three levels of our Child property</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var expectedWithMaxRecursion = new
{
    mappings = new
    {
        a = new
        {
            properties = new
            {
                child = new
                {
                    type = "object",
                    properties = new
                    {
                        child = new
                        {
                            type = "object",
                            properties = new
                            {
                                child = new
                                {
                                    type = "object",
                                    properties = new
                                    {
                                        child = new
                                        {
                                            type = "object",
                                            properties = new { }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
};

Expect(expectedWithMaxRecursion).WhenSerializing((ICreateIndexRequest) withMaxRecursionDescriptor);</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var descriptor = new PutMappingDescriptor&lt;A&gt;().AutoMap();

var expected = new
{
    properties = new
    {
        child = new
        {
            properties = new { },
            type = "object"
        }
    }
};

Expect(expected).WhenSerializing((IPutMappingRequest) descriptor);

var withMaxRecursionDescriptor = new PutMappingDescriptor&lt;A&gt;().AutoMap(3);

var expectedWithMaxRecursion = new
{
    properties = new
    {
        child = new
        {
            type = "object",
            properties = new
            {
                child = new
                {
                    type = "object",
                    properties = new
                    {
                        child = new
                        {
                            type = "object",
                            properties = new
                            {
                                child = new
                                {
                                    type = "object",
                                    properties = new { }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
};

Expect(expectedWithMaxRecursion).WhenSerializing((IPutMappingRequest) withMaxRecursionDescriptor);</pre></div><h2><a id="applying-conventions-through-the-visitor-pattern"></a>Applying conventions through the Visitor pattern<a href="https://github.com/elastic/elasticsearch-net/edit/5.x/docs/client-concepts/high-level/mapping/auto-map.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2><p>It is also possible to apply a transformation on all or specific properties.</p><p><code class="literal">.AutoMap()</code> internally implements the <a class="ulink" href="https://en.wikipedia.org/wiki/Visitor_pattern" target="_top">visitor pattern</a>. The default visitor, <code class="literal">NoopPropertyVisitor</code>,
does nothing and acts as a blank canvas for you to implement your own visiting methods.</p><p>For instance, let’s create a custom visitor that disables doc values for numeric and boolean types
(Not really a good idea in practice, but let’s do it anyway for the sake of a clear example.)</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">public class DisableDocValuesPropertyVisitor : NoopPropertyVisitor
{
    public override void Visit(
        INumberProperty type,
        PropertyInfo propertyInfo,
        ElasticsearchPropertyAttributeBase
            attribute) <a id="CO19-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
    {
        type.DocValues = false;
    }

    public override void Visit(
        IBooleanProperty type,
        PropertyInfo propertyInfo,
        ElasticsearchPropertyAttributeBase
            attribute) <a id="CO19-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
    {
        type.DocValues = false;
    }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO19-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Override the <code class="literal">Visit</code> method on <code class="literal">INumberProperty</code> and set <code class="literal">DocValues = false</code>
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO19-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Similarily, override the <code class="literal">Visit</code> method on <code class="literal">IBooleanProperty</code> and set <code class="literal">DocValues = false</code>
</p></td></tr></table></div><p>Now we can pass an instance of our custom visitor to <code class="literal">.AutoMap()</code></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var descriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;Employee&gt;(m =&gt; m.AutoMap(new DisableDocValuesPropertyVisitor()))
    );</pre></div><p>and any time the client maps a property of the POCO (Employee in this example) as a number (INumberProperty) or boolean (IBooleanProperty),
it will apply the transformation defined in each <code class="literal">Visit()</code> call respectively, which in this example
disables <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/5.3/doc-values.html" target="_top">doc_values</a>.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var expected = new
{
    mappings = new
    {
        employee = new
        {
            properties = new
            {
                birthday = new
                {
                    type = "date"
                },
                employees = new
                {
                    properties = new { },
                    type = "object"
                },
                firstName = new
                {
                    type = "string"
                },
                isManager = new
                {
                    doc_values = false,
                    type = "boolean"
                },
                lastName = new
                {
                    type = "string"
                },
                salary = new
                {
                    doc_values = false,
                    type = "integer"
                }
            }
        }
    }
};</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_visiting_on_propertyinfo"></a>Visiting on PropertyInfo<a href="https://github.com/elastic/elasticsearch-net/edit/5.x/docs/client-concepts/high-level/mapping/auto-map.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>You can even take the visitor approach a step further, and instead of visiting on <code class="literal">IProperty</code> types, visit
directly on your POCO properties (PropertyInfo). As an example, let’s create a visitor that maps all CLR types
to an Elasticsearch text datatype (ITextProperty).</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">public class EverythingIsAStringPropertyVisitor : NoopPropertyVisitor
{
    public override IProperty Visit(PropertyInfo propertyInfo,
        ElasticsearchPropertyAttributeBase attribute) =&gt; new TextProperty();
}</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-csharp">var descriptor = new CreateIndexDescriptor("myindex")
    .Mappings(ms =&gt; ms
        .Map&lt;Employee&gt;(m =&gt; m.AutoMap(new EverythingIsAStringPropertyVisitor()))
    );

var expected = new
{
    mappings = new
    {
        employee = new
        {
            properties = new
            {
                birthday = new
                {
                    type = "text"
                },
                employees = new
                {
                    type = "text"
                },
                firstName = new
                {
                    type = "text"
                },
                isManager = new
                {
                    type = "text"
                },
                lastName = new
                {
                    type = "text"
                },
                salary = new
                {
                    type = "text"
                }
            }
        }
    }
};</pre></div></div></div><div class="navfooter"><span class="prev"><a href="features-inference.html">
              « 
              Features Inference</a>
           
        </span><span class="next">
           
          <a href="covariant-search-results.html">Covariant Search Results
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
					<div id="rtpcontainer" style="display: block;">
						<h3>Top Videos</h3>
						<ul>
							<li><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Elasticsearch Demo</a></li>
							<li><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Kibana 101</a></li>
							<li><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Primer</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</section>

        </div>
      	


<div id="footer-subscribe" class="home-footer-subscribe">
  <div class="subscribe-wrapper">
    <div class="container">
      <div class="subscribe-form-container">
        <div class="subscribe-title">
            <h5>Be in the know with the latest and greatest from Elastic.</h5>
        </div>
        <div class="subscribe-form">
          <form id="mktoForm_1398" class="mktoForm sb-form"></form>
        </div>
      </div>
      <div class="form_thanks hide">
        
          <p>Thanks for subscribing! We'll keep you updated with new releases.</p>
        
      </div>
    </div>
  </div>
</div>
<!--subscribe newsletter end-->

<!-- Footer Section -->
<footer class="footer-wrapper">
  <div class="container">
    <div class="row footer-content">
        
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/products">Products ></a></h3>
              
              <ul>
              
                
                  
                    <li><a href="/products/elasticsearch">Elasticsearch</a></li>
                  
                
              
                
                  
                    <li><a href="/products/kibana">Kibana</a></li>
                  
                
              
                
                  
                    <li><a href="/products/beats">Beats</a></li>
                  
                
              
                
                  
                    <li><a href="/products/logstash">Logstash</a></li>
                  
                
              
                
                  
                    <li><a href="/products/x-pack">X-Pack</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud">Elastic Cloud</a></li>
                  
                
              
                
                  
                    <li><a href="/products/x-pack/security">Security (formerly Shield)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/x-pack/alerting">Alerting (via Watcher)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/x-pack/monitoring">Monitoring (formerly Marvel)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/x-pack/graph">Graph</a></li>
                  
                
              
                
                  
                    <li><a href="/products/x-pack/reporting">Reporting</a></li>
                  
                
              
                
                  
                    <li><a href="/products/x-pack/machine-learning">Machine Learning</a></li>
                  
                
              
                
                  
                    <li><a href="/products/hadoop">ES-Hadoop</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3>Resources</h3>
              
              <ul>
              
                
                  
                    <li><a href="/blog">Blog</a></li>
                  
                
              
                
                  
                    <li><a href="https://cloud-status.elastic.co">Cloud Status</a></li>
                  
                
              
                
                  
                    <li><a href="/community">Community</a></li>
                  
                
              
                
                  
                    <li><a href="/use-cases">Customers & Use Cases</a></li>
                  
                
              
                
                  
                    <li><a href="/guide">Documentation</a></li>
                  
                
              
                
                  
                    <li><a href="/elasticon">Elastic{ON} Events</a></li>
                  
                
              
                
                  
                    <li><a href="https://discuss.elastic.co/">Forums</a></li>
                  
                
              
                
                  
                    <li><a href="/community/meetups">Meetups</a></li>
                  
                
              
                
                  
                    <li><a href="/subscriptions">Subscriptions</a></li>
                  
                
              
                
                  
                    <li><a href="https://support.elastic.co">Support Portal</a></li>
                  
                
              
                
                  
                    <li><a href="/videos">Videos & Webinars</a></li>
                  
                
              
                
                  
                    <li><a href="/training">Training</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/about">About ></a></h3>
              
              <ul>
              
                
                  
                    <li><a href="/about/careers">Careers/Jobs</a></li>
                  
                
              
                
                  
                    <li><a href="/contact">Contact</a></li>
                  
                
              
                
                  
                    <li><a href="/about/leadership">Leadership</a></li>
                  
                
              
                
                  
                    <li><a href="/about/partners">Partners</a></li>
                  
                
              
                
                  
                    <li><a href="/about/press">Press</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3>Language</h3>
              
              <ul>
              
                
                  <li><a href="/" data-value="/">English</a></li>
                
              
                
                  <li><a href="/fr/" data-value="/fr/">Français</a></li>
                
              
                
                  <li><a href="/de/" data-value="/de/">Deutsch</a></li>
                
              
                
                  <li><a href="/jp/" data-value="/jp/">日本語</a></li>
                
              
                
                  <li><a href="/kr/" data-value="/kr/">한국어</a></li>
                
              
              </ul>
          </div>    
       
    </div>
     <!-- Social Media Section -->
    <div class="row social-icon">
      <div class="col-xs-12 col-sm-12 col-md-12">
        <p class="text-center font-size-10 m-0">FOLLOW US</p>
        <ul>
          
          <li class="facebook"><a id="footer_facebook" href="http://www.facebook.com/elastic.co"></a></li>
          
          <li class="twitter"><a id="footer_twitter" href="https://www.twitter.com/elastic"></a></li>
          
          <li class="linkedin"><a id="footer_linkedin" href="https://www.linkedin.com/company/elastic-co"></a></li>
          
          <li class="xing"><a id="footer_xing" href="https://www.xing.com/companies/elastic.co"></a></li>
          
          <li class="youtube"><a id="footer_youtube" href="https://www.youtube.com/user/elasticsearch"></a></li>
          
        </ul>
      </div>
    </div>
    <!-- Social Media Section end-->
    <div class="row">
	<div class="col-xs-12 col-sm-12 col-md-12">
		<div class="copyright">
			<ul>
				<li><a href="/legal/trademarks">Trademarks</a></li>
				<li><a href="/legal/terms-of-use">Terms of Use</a></li>
				<li><a href="/legal/privacy-policy">Privacy</a></li>
				<li><a href="/legal/privacy-and-cookie-policy">Cookie Policy</a></li>
				<li><a href="/brand">Brand</a></li>
			</ul>
			<div class="copyright-content">
				<div class="footer-logo"><a href="/"><img src="/static/images/svg/logo-elastic-footer.svg" class="img-responsive"></a>
				</div>
				<div class="footer-text">
					<p>© 2017. All Rights Reserved - Elasticsearch
					</p>
					<p>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries
					</p>
					<p>Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other countries.
					</p>
				</div>
			</div>
		</div>
	</div>
</div>
  </div>
</footer>
<!-- Footer Section end-->

<style type="text/css">
	
    
		.facebook{background:url("https://static-www.elastic.co/assets/bltf546ff2e0a8f2de5/facebook.svg?q=546") no-repeat;}
    
    
      .facebook:hover {background:url("https://static-www.elastic.co/assets/bltc24cf11c714ecfc4/facebook-hover.svg?q=546")}		
    
	
    
		.twitter{background:url("https://static-www.elastic.co/assets/bltdd9556d6b24e2b85/twitter.svg?q=546") no-repeat;}
    
    
      .twitter:hover {background:url("https://static-www.elastic.co/assets/blt90b0372cc07a54d3/twitter-hover.svg?q=546")}		
    
	
    
		.linkedin{background:url("https://static-www.elastic.co/assets/bltc4a77e0f52ce07f1/linkedin.svg?q=546") no-repeat;}
    
    
      .linkedin:hover {background:url("https://static-www.elastic.co/assets/blt01ce654380e4ea6c/linkedin-hover.svg?q=546")}		
    
	
    
		.xing{background:url("https://static-www.elastic.co/assets/bltc6347078dcc9ec76/xing.svg?q=546") no-repeat;}
    
    
      .xing:hover {background:url("https://static-www.elastic.co/assets/bltededebe5f7521a39/xing-hover.svg?q=546")}		
    
	
    
		.youtube{background:url("https://static-www.elastic.co/assets/blt4982061ce1aebc7f/youtube.svg?q=546") no-repeat;}
    
    
      .youtube:hover {background:url("https://static-www.elastic.co/assets/bltddeb6c6404ae81a5/youtube-hover.svg?q=546")}		
    
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
  MktoForms2.whenReady(function (form) {
  //    // Put your code that uses the form object here
  //   $('#Email').attr("placeholder","Email Address");
  //   $('#FirstName').attr("placeholder","First Name");
  //   $('#LastName').attr("placeholder","Last Name");
  //   $('#Form_Message').attr("placeholder","Tell us in your words");
  // // ========================End Mktoform placeholder==================
  });

  MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", 1398,function(form){
    form.onSuccess(function(form){
      $('#mktoForm_1398').css('display','none');
      $('.subscribe-wrapper .subscribe-form-container').hide();
      $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
      dataLayer.push({'event': 'mktoFormSubmit'});
        return false;
      });
  });
</script>
      </section>
    </div>
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";	
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","url":"/guide_template"}';
</script>
<script src="https://static-www.elastic.co/static/js/jquery.autocomplete.js?q=546"></script>
<script type="text/javascript" src="https://static-www.elastic.co/static/js/slick.min.js?q=546"></script>
<script src="https://static-www.elastic.co/static/js/nav-v5.js?q=546"></script>
<script src="https://static-www.elastic.co/static/js/script.js?q=546"></script> 
     
     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>