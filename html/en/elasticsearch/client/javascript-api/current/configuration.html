
<!DOCTYPE HTML>
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Configuration</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="elasticsearch.js" /><link rel="up" href="index.html" title="elasticsearch.js" /><link rel="prev" href="api-conventions.html" title="API Conventions" /><link rel="next" href="auth-reference.html" title="SSL and Authentication" /><meta name="DC.type" content="Docs/Clients/JavaScript" />
  
 	<meta http-equiv="content-type" content="text/html; charset=utf-8" />

 	<!-- RTP tag --> 
	<script type='text/javascript' async>
	(function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
	 c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";
	 g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);
	 })(window,document,"rtp","//sjrtp2-cdn.marketo.com/rtp-api/v1/rtp.js","elasticco");
	 
	rtp('send','view');
	rtp('get', 'campaign',true);
	</script>
	<!-- End of RTP tag -->
	
	
 	<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
<meta name="apple-mobile-web-app-title" content="Elastic">
<meta name="application-name" content="Elastic">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">

<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >


<!-- end DC tags -->

	<meta name="description" content="" />

	<link rel="canonical" href="" />

	<meta property="og:image" content="https://www.elastic.co/static/img/elastic-logo-200.png" />
	


	
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/skel.css?q=556" />
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/style.css?q=556" />	
	<script src="https://static-www.elastic.co/static/js/skel.min.js?q=556"></script>
	
		<script type="text/javascript">form_name = "" ; cdn_url="https://static-www.elastic.co";cdn_slug = "556"</script>
	
	<script src="https://static-www.elastic.co/static/js/init.js?q=556"></script>
	<script src="https://static-www.elastic.co/static/js/jquery.min.js?q=556"></script>
	<script src="https://static-www.elastic.co/static/js/jquery.cookie.js?q=556"></script>
	<!--<script type="text/javascript">
	    (function() {
	        var path = '//easy.myfonts.net/v2/js?sid=10336(font-family=Avenir+35+Light)&sid=10338(font-family=Avenir+55+Roman)&sid=10340(font-family=Avenir+85+Heavy)&sid=10344(font-family=Avenir+65+Medium)&key=nAD6PCOPrX',
	            protocol = ('https:' == document.location.protocol ? 'https:' : 'http:'),
	            trial = document.createElement('script');
	        trial.type = 'text/javascript';
	        trial.async = true;
	        trial.src = protocol + path;
	        var head = document.getElementsByTagName("head")[0];
	        head.appendChild(trial);
	    })();
	</script>-->

	
	<link type="text/css" rel="stylesheet" href="/static/css/prettify.css" />
	<script type="text/javascript" src="/static/js/prettify.js"></script>
	<script type="text/javascript">
	$(document).ready(function(){
		var path_name = window.location.pathname.substring(1, window.location.pathname.length);
		$('.all-languages li').each(function(){
			var new_path = $('a',this).attr('href')+path_name;
			$('a',this).attr('href',new_path);
		})
	})
	</script>



<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
<body >
	<!-- Google Tag Manager -->
	<script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
													  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-58RLH5');</script>
	<!-- End Google Tag Manager -->
	
	<div class="header-cont">
		<div id="header-wrapper">
			


	<script src="/static/js/jquery.tokeninput.js?change=123"></script>
	<link rel="stylesheet" type="text/css" href="/static/css/token-input.css">

<div class="shortcuts-wrapper">
	<div class="container">
		<!-- Shortcuts -->
		<nav id="shortcuts">
			<ul class="links">
				
					<li class="shortcut-1">
						<a href="/downloads" id="header_downloads" >
							<span class="txt">downloads</span>	
						</a>
					</li>
				
					<li class="shortcut-2">
						<a href="/guide" id="header_guide" >
							<span class="txt">docs</span>	
						</a>
					</li>
				
					<li class="shortcut-3">
						<a href="/subscriptions" id="header_subscriptions" >
							<span class="txt">support</span>	
						</a>
					</li>
				
					<li class="shortcut-4">
						<a href="https://discuss.elastic.co" id="header_discuss" target="_blank">
							<span class="txt">discuss</span>	
						</a>
					</li>
				
					<li class="shortcut-5">
						<a href="/contact" id="header_contact" >
							<span class="txt">contact</span>	
						</a>
					</li>
				
			</ul>
		</nav>
		<div class="languages-wrapper">
			<div class="global-language">
				<ul class="language">
					<!-- <li class="active-language"><a class="active" href="#">EN</a></li> -->
					
						<li><a href="#">EN</a></li>
					
				</ul>
				<ul class="all-languages">
					
						
						<li><a href="/">English</a></li>
					
						
						<li><a href="/fr/">French</a></li>
					
						
						<li><a href="/de/">German</a></li>
					
						
						<li><a href="/jp/">Japanese</a></li>
					
						
						<li><a href="/kr/">Korean</a></li>
					
				</ul>
			</div>
		</div>
	</div>
</div>
<div class="container w100">
	<div class="row 0%">
		<div class="12u">
			

<section class="first-container desktop-main-nav">
	<div class="row 0%">
		<div class="11u 6u(small) 6u(xsmall)">
			<div id="elastic">
				<h1>
					<a href="/">
						<div id="elastic-logo">
						<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" viewBox="-155 383.3 687.5 235.7" xml:space="preserve" enable-background="new -155 383.3 687.5 235.7"><path fill="#FFFFFF" d="M81.6 506.8c0-19.8-12.3-37.2-30.8-43.9 0.8-4.2 1.2-8.4 1.2-12.7 0-36.9-30-66.9-66.8-66.9 -21.6 0-41.6 10.3-54.2 27.7 -6.2-4.8-13.8-7.4-21.7-7.4 -19.6 0-35.5 15.9-35.5 35.5 0 4.3 0.8 8.5 2.2 12.4 -18.4 6.6-31 24.3-31 44 0 19.9 12.4 37.3 30.9 44 -0.8 4.1-1.2 8.4-1.2 12.7 0 36.8 29.9 66.7 66.7 66.7 21.6 0 41.6-10.4 54.1-27.8 6.2 4.9 13.8 7.6 21.7 7.6 19.6 0 35.5-15.9 35.5-35.5 0-4.3-0.8-8.5-2.2-12.4C68.9 544.2 81.6 526.5 81.6 506.8"/><path fill="#FED10A" d="M-62 484.8l51.8 23.6L42 462.6c0.8-3.8 1.1-7.5 1.1-11.5 0-32.2-26.2-58.4-58.4-58.4 -19.3 0-37.2 9.5-48.1 25.4l-8.7 45.1L-62 484.8z"/><path fill="#24BBB1" d="M-115.6 539.6c-0.8 3.8-1.1 7.7-1.1 11.7 0 32.3 26.3 58.5 58.6 58.5 19.4 0 37.5-9.6 48.4-25.6l8.6-44.9 -11.5-22 -52-23.7L-115.6 539.6z"/><path fill="#EF5098" d="M-115.9 450l35.5 8.4 7.8-40.3c-4.8-3.7-10.8-5.7-17-5.7 -15.4 0-28 12.5-28 28C-117.6 443.7-117 447-115.9 450"/><path fill="#17A8E0" d="M-119 458.5c-15.8 5.2-26.9 20.4-26.9 37.1 0 16.3 10.1 30.8 25.2 36.6l49.8-45 -9.1-19.5L-119 458.5z"/><path fill="#93C83E" d="M-0.7 584.2c4.9 3.7 10.8 5.8 16.9 5.8 15.4 0 28-12.5 28-28 0-3.4-0.6-6.7-1.7-9.7L7.1 544 -0.7 584.2z"/><path fill="#0779A1" d="M6.5 534.7l39 9.1c15.9-5.2 26.9-20.4 26.9-37.2 0-16.2-10.1-30.8-25.2-36.5l-51 44.7L6.5 534.7z"/><path d="M175.8 548.8l4.7-0.5 0.3 9.6c-12.4 1.7-23 2.6-31.8 2.6 -11.7 0-20-3.4-24.9-10.2s-7.3-17.4-7.3-31.7c0-28.6 11.4-42.9 34.1-42.9 11 0 19.2 3.1 24.6 9.2s8.1 15.8 8.1 28.9l-0.7 9.3h-53.8c0 9 1.6 15.7 4.9 20 3.3 4.3 8.9 6.5 17 6.5C159.2 549.8 167.4 549.5 175.8 548.8zM171.4 513.5c0-10-1.6-17.1-4.8-21.2 -3.2-4.1-8.4-6.2-15.6-6.2s-12.7 2.2-16.3 6.5c-3.6 4.3-5.5 11.3-5.6 20.9H171.4z"/><path d="M200.6 559V442h12.2v117H200.6z"/><path d="M289.9 502.1v40.1c0 4.1 10.1 4.9 10.1 4.9l-0.6 10.8c-8.6 0-15.7 0.7-20-3.4 -9.8 4.3-19.5 6.1-29.3 6.1 -7.5 0-13.2-2.1-17.1-6.4 -3.9-4.2-5.9-10.3-5.9-18.3 0-7.9 2-13.8 6-17.5 4-3.7 10.3-6.1 18.9-6.9l25.6-2.4v-7c0-5.5-1.2-9.5-3.6-11.9 -2.4-2.4-5.7-3.6-9.8-3.6h-32.1v-10.8h31.3c9.2 0 15.9 2.1 20.1 6.4C287.8 486.4 289.9 493.1 289.9 502.1zM239.7 535.3c0 10 4.1 15 12.4 15 7.4 0 14.7-1.2 21.8-3.7l3.7-1.3v-26.9l-24.1 2.3c-4.9 0.4-8.4 1.8-10.6 4.2C240.7 527.3 239.7 530.8 239.7 535.3z"/><path d="M337.6 486.7c-11.8 0-17.8 4.1-17.8 12.4 0 3.8 1.4 6.5 4.1 8.1s8.9 3.2 18.6 4.9c9.7 1.7 16.5 4 20.5 7.1 4 3 6 8.7 6 17.1 0 8.4-2.7 14.5-8.1 18.4 -5.4 3.9-13.2 5.9-23.6 5.9 -6.7 0-29.2-2.5-29.2-2.5l0.7-10.6c12.9 1.2 22.3 2.2 28.6 2.2 6.3 0 11.1-1 14.4-3s5-5.4 5-10.1 -1.4-7.9-4.2-9.6c-2.8-1.7-9-3.3-18.6-4.8s-16.4-3.7-20.4-6.7c-4-2.9-6-8.4-6-16.3 0-7.9 2.8-13.8 8.4-17.6 5.6-3.8 12.6-5.7 20.9-5.7 6.6 0 29.6 1.7 29.6 1.7v10.7C354.4 487.6 344.5 486.7 337.6 486.7z"/><path d="M428 488.1h-25.9v39c0 9.3 0.7 15.5 2 18.4 1.4 2.9 4.6 4.4 9.7 4.4l14.5-1 0.8 10.1c-7.3 1.2-12.8 1.8-16.6 1.8 -8.5 0-14.3-2.1-17.6-6.2s-4.9-12-4.9-23.6v-42.9h-11.6v-10.6H390v-25h12.1v24.9H428V488.1z"/><path d="M445 459v-14.1h12.2v14.2L445 459 445 459zM445 559v-81.5h12.2V559H445z"/><path d="M510.2 475.8c3.6 0 9.7 0.7 18.3 2l3.9 0.5 -0.5 9.9c-8.7-1-15.1-1.5-19.2-1.5 -9.2 0-15.5 2.2-18.8 6.6s-5 12.6-5 24.5c0 11.9 1.5 20.2 4.6 24.9 3.1 4.7 9.5 7 19.3 7l19.2-1.5 0.5 10.1c-10.1 1.5-17.7 2.3-22.7 2.3 -12.7 0-21.5-3.3-26.3-9.8s-7.3-17.5-7.3-33 2.6-26.4 7.8-32.6C489.3 479 498 475.8 510.2 475.8z"/></svg>
						</div>
					</a>
				</h1>
			</div>
			<nav id="nav">
				<ul>
					
					<li>
						
							
						
						<a href="/products" id="nav_products"   >Products</a>
						
						<ul class="dropdown">
							
								<li><a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a></li>								
							
								<li><a href="/cloud" id="nav_elasticsearch_as_a_service" >elasticsearch as a service</a></li>								
							
								<li><a href="/products/logstash" id="nav_logstash" >logstash</a></li>								
							
								<li><a href="/products/kibana" id="nav_kibana" >kibana</a></li>								
							
								<li><a href="/products/beats" id="nav_beats" >beats</a></li>								
							
								<li><a href="/products/watcher" id="nav_watcher" >watcher</a></li>								
							
								<li><a href="/products/shield" id="nav_shield" >shield</a></li>								
							
								<li><a href="/products/marvel" id="nav_marvel" >marvel</a></li>								
							
								<li><a href="/products/hadoop" id="nav_hadoop" >hadoop</a></li>								
							
								<li><a href="/downloads" id="nav_downloads" >downloads</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/cloud" id="nav_cloud"   >Cloud</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/subscriptions" id="nav_subscriptions"   >Subscriptions</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/learn" id="nav_learn"   >Learn</a>
						
						<ul class="dropdown">
							
								<li><a href="/guide" id="nav_guide" >docs</a></li>								
							
								<li><a href="/videos" id="nav_videos" >videos</a></li>								
							
								<li><a href="/training" id="nav_training" >training</a></li>								
							
								<li><a href="/services" id="nav_services" >services</a></li>								
							
								<li><a href="/blog" id="nav_learn_blog" >blog</a></li>								
							
								<li><a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/community" id="nav_community"   >Community</a>
						
						<ul class="dropdown">
							
								<li><a href="/community/meetups" id="nav_meetups" >meetups</a></li>								
							
								<li><a href="https://discuss.elastic.co" id="nav_discuss" target="_blank">discuss</a></li>								
							
								<li><a href="/community/codeofconduct" id="nav_codeofconduct" >code of conduct</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/use-cases" id="nav_usecases"   >Use Cases</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/blog" id="nav_blog"   >Blog</a>
						
						<ul class="dropdown">
							
								<li><a href="/blog/category/news" id="blog_news" >News</a></li>								
							
								<li><a href="/blog/category/engineering" id="blog_engineering" >Engineering</a></li>								
							
								<li><a href="/blog/category/user-stories" id="blog_user-stories" >User Stories</a></li>								
							
								<li><a href="/blog/category/releases" id="blog_releases" >Releases</a></li>								
							
								<li><a href="/blog/archive" id="blog_archive" >Archive</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/about" id="nav_about"   >About</a>
						
						<ul class="dropdown">
							
								<li><a href="/about/leadership" id="nav_leadership" >leadership</a></li>								
							
								<li><a href="/about/board" id="nav_board" >board of directors</a></li>								
							
								<li><a href="/about/careers" id="nav_careers" >careers</a></li>								
							
								<li><a href="/about/partners" id="nav_partners" >partners</a></li>								
							
								<li><a href="/about/press" id="nav_press" >press</a></li>								
								
						</ul>							
					</li>
					
				</ul>
			</nav>			
			<!-- Searchbar Input box -->
			 <!-- <form method="get" action="/search" name="searchForm" class="header-search-form" id="searchMobileFrm">
			   <input type="text" id="search-header-autocomplete" name="q" class="form-control global-input" placeholder="elastic{search}">
			</form>
			<div class="mobile-auto-complete"></div> -->  
		</div>
		<div class="1u 6u(small) 6u(xsmall)">
			<div id="searchbar">
				<a href="#" class="button icon"></a>
			</div>
			<!-- <div class="nav-auto-complete"></div> -->
		</div>
	</div>
</section>
<div class="mobile-menu-wrapper">
	<div class="row 0%">
		<div class="8u 6u(small) 6u(xsmall)">
			<div id="elastic">
				<h1>
					<a href="/">
						<div id="elastic-logo">
						<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" viewBox="-155 383.3 687.5 235.7" xml:space="preserve" enable-background="new -155 383.3 687.5 235.7"><path fill="#FFFFFF" d="M81.6 506.8c0-19.8-12.3-37.2-30.8-43.9 0.8-4.2 1.2-8.4 1.2-12.7 0-36.9-30-66.9-66.8-66.9 -21.6 0-41.6 10.3-54.2 27.7 -6.2-4.8-13.8-7.4-21.7-7.4 -19.6 0-35.5 15.9-35.5 35.5 0 4.3 0.8 8.5 2.2 12.4 -18.4 6.6-31 24.3-31 44 0 19.9 12.4 37.3 30.9 44 -0.8 4.1-1.2 8.4-1.2 12.7 0 36.8 29.9 66.7 66.7 66.7 21.6 0 41.6-10.4 54.1-27.8 6.2 4.9 13.8 7.6 21.7 7.6 19.6 0 35.5-15.9 35.5-35.5 0-4.3-0.8-8.5-2.2-12.4C68.9 544.2 81.6 526.5 81.6 506.8"/><path fill="#FED10A" d="M-62 484.8l51.8 23.6L42 462.6c0.8-3.8 1.1-7.5 1.1-11.5 0-32.2-26.2-58.4-58.4-58.4 -19.3 0-37.2 9.5-48.1 25.4l-8.7 45.1L-62 484.8z"/><path fill="#24BBB1" d="M-115.6 539.6c-0.8 3.8-1.1 7.7-1.1 11.7 0 32.3 26.3 58.5 58.6 58.5 19.4 0 37.5-9.6 48.4-25.6l8.6-44.9 -11.5-22 -52-23.7L-115.6 539.6z"/><path fill="#EF5098" d="M-115.9 450l35.5 8.4 7.8-40.3c-4.8-3.7-10.8-5.7-17-5.7 -15.4 0-28 12.5-28 28C-117.6 443.7-117 447-115.9 450"/><path fill="#17A8E0" d="M-119 458.5c-15.8 5.2-26.9 20.4-26.9 37.1 0 16.3 10.1 30.8 25.2 36.6l49.8-45 -9.1-19.5L-119 458.5z"/><path fill="#93C83E" d="M-0.7 584.2c4.9 3.7 10.8 5.8 16.9 5.8 15.4 0 28-12.5 28-28 0-3.4-0.6-6.7-1.7-9.7L7.1 544 -0.7 584.2z"/><path fill="#0779A1" d="M6.5 534.7l39 9.1c15.9-5.2 26.9-20.4 26.9-37.2 0-16.2-10.1-30.8-25.2-36.5l-51 44.7L6.5 534.7z"/><path d="M175.8 548.8l4.7-0.5 0.3 9.6c-12.4 1.7-23 2.6-31.8 2.6 -11.7 0-20-3.4-24.9-10.2s-7.3-17.4-7.3-31.7c0-28.6 11.4-42.9 34.1-42.9 11 0 19.2 3.1 24.6 9.2s8.1 15.8 8.1 28.9l-0.7 9.3h-53.8c0 9 1.6 15.7 4.9 20 3.3 4.3 8.9 6.5 17 6.5C159.2 549.8 167.4 549.5 175.8 548.8zM171.4 513.5c0-10-1.6-17.1-4.8-21.2 -3.2-4.1-8.4-6.2-15.6-6.2s-12.7 2.2-16.3 6.5c-3.6 4.3-5.5 11.3-5.6 20.9H171.4z"/><path d="M200.6 559V442h12.2v117H200.6z"/><path d="M289.9 502.1v40.1c0 4.1 10.1 4.9 10.1 4.9l-0.6 10.8c-8.6 0-15.7 0.7-20-3.4 -9.8 4.3-19.5 6.1-29.3 6.1 -7.5 0-13.2-2.1-17.1-6.4 -3.9-4.2-5.9-10.3-5.9-18.3 0-7.9 2-13.8 6-17.5 4-3.7 10.3-6.1 18.9-6.9l25.6-2.4v-7c0-5.5-1.2-9.5-3.6-11.9 -2.4-2.4-5.7-3.6-9.8-3.6h-32.1v-10.8h31.3c9.2 0 15.9 2.1 20.1 6.4C287.8 486.4 289.9 493.1 289.9 502.1zM239.7 535.3c0 10 4.1 15 12.4 15 7.4 0 14.7-1.2 21.8-3.7l3.7-1.3v-26.9l-24.1 2.3c-4.9 0.4-8.4 1.8-10.6 4.2C240.7 527.3 239.7 530.8 239.7 535.3z"/><path d="M337.6 486.7c-11.8 0-17.8 4.1-17.8 12.4 0 3.8 1.4 6.5 4.1 8.1s8.9 3.2 18.6 4.9c9.7 1.7 16.5 4 20.5 7.1 4 3 6 8.7 6 17.1 0 8.4-2.7 14.5-8.1 18.4 -5.4 3.9-13.2 5.9-23.6 5.9 -6.7 0-29.2-2.5-29.2-2.5l0.7-10.6c12.9 1.2 22.3 2.2 28.6 2.2 6.3 0 11.1-1 14.4-3s5-5.4 5-10.1 -1.4-7.9-4.2-9.6c-2.8-1.7-9-3.3-18.6-4.8s-16.4-3.7-20.4-6.7c-4-2.9-6-8.4-6-16.3 0-7.9 2.8-13.8 8.4-17.6 5.6-3.8 12.6-5.7 20.9-5.7 6.6 0 29.6 1.7 29.6 1.7v10.7C354.4 487.6 344.5 486.7 337.6 486.7z"/><path d="M428 488.1h-25.9v39c0 9.3 0.7 15.5 2 18.4 1.4 2.9 4.6 4.4 9.7 4.4l14.5-1 0.8 10.1c-7.3 1.2-12.8 1.8-16.6 1.8 -8.5 0-14.3-2.1-17.6-6.2s-4.9-12-4.9-23.6v-42.9h-11.6v-10.6H390v-25h12.1v24.9H428V488.1z"/><path d="M445 459v-14.1h12.2v14.2L445 459 445 459zM445 559v-81.5h12.2V559H445z"/><path d="M510.2 475.8c3.6 0 9.7 0.7 18.3 2l3.9 0.5 -0.5 9.9c-8.7-1-15.1-1.5-19.2-1.5 -9.2 0-15.5 2.2-18.8 6.6s-5 12.6-5 24.5c0 11.9 1.5 20.2 4.6 24.9 3.1 4.7 9.5 7 19.3 7l19.2-1.5 0.5 10.1c-10.1 1.5-17.7 2.3-22.7 2.3 -12.7 0-21.5-3.3-26.3-9.8s-7.3-17.5-7.3-33 2.6-26.4 7.8-32.6C489.3 479 498 475.8 510.2 475.8z"/></svg>
						</div>
					</a>
				</h1>
			</div>
		</div>
		<div class="4u 6u(small) 6u(xsmall) text-right">
			<!-- <div class="mobile-menu-wrapper"> -->
				<ul class="m-shortcuts">
					
					<li><a href="#" class="m-search" id="header-search"></a></li>
					
					<li><a href="/guide" class="m-docs" id="mobile-docs"></a></li>
					
					<li><a href="/contact" class="m-contact" id="mobile-contact"></a></li>
					
				</ul>	
				<nav class="nav-menu">
					<div class="menu-button">
						<span></span>
					</div>
					<div class="nav-menu-list-wrap">
						<div class="nav-menu-list">
							
								<h3><a href="/products" id="nav_products" >Products</a></h3>

								
								<ul>
									
									<li><a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a></li>
									
									<li><a href="/cloud" id="nav_elasticsearch_as_a_service" >elasticsearch as a service</a></li>
									
									<li><a href="/products/logstash" id="nav_logstash" >logstash</a></li>
									
									<li><a href="/products/kibana" id="nav_kibana" >kibana</a></li>
									
									<li><a href="/products/beats" id="nav_beats" >beats</a></li>
									
									<li><a href="/products/watcher" id="nav_watcher" >watcher</a></li>
									
									<li><a href="/products/shield" id="nav_shield" >shield</a></li>
									
									<li><a href="/products/marvel" id="nav_marvel" >marvel</a></li>
									
									<li><a href="/products/hadoop" id="nav_hadoop" >hadoop</a></li>
									
									<li><a href="/downloads" id="nav_downloads" >downloads</a></li>
									
								</ul>
								
							
								<h3><a href="/cloud" id="nav_cloud" >Cloud</a></h3>

								
							
								<h3><a href="/subscriptions" id="nav_subscriptions" >Subscriptions</a></h3>

								
							
								<h3><a href="/learn" id="nav_learn" >Learn</a></h3>

								
								<ul>
									
									<li><a href="/guide" id="nav_guide" >docs</a></li>
									
									<li><a href="/videos" id="nav_videos" >videos</a></li>
									
									<li><a href="/training" id="nav_training" >training</a></li>
									
									<li><a href="/services" id="nav_services" >services</a></li>
									
									<li><a href="/blog" id="nav_learn_blog" >blog</a></li>
									
									<li><a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a></li>
									
								</ul>
								
							
								<h3><a href="/community" id="nav_community" >Community</a></h3>

								
								<ul>
									
									<li><a href="/community/meetups" id="nav_meetups" >meetups</a></li>
									
									<li><a href="/https:/discuss.elastic.co" id="nav_discuss" target="_blank">discuss</a></li>
									
									<li><a href="/community/codeofconduct" id="nav_codeofconduct" >code of conduct</a></li>
									
								</ul>
								
							
								<h3><a href="/use-cases" id="nav_usecases" >Use Cases</a></h3>

								
							
								<h3><a href="/blog" id="nav_blog" >Blog</a></h3>

								
								<ul>
									
									<li><a href="/blog/category/news" id="blog_news" >News</a></li>
									
									<li><a href="/blog/category/engineering" id="blog_engineering" >Engineering</a></li>
									
									<li><a href="/blog/category/user-stories" id="blog_user-stories" >User Stories</a></li>
									
									<li><a href="/blog/category/releases" id="blog_releases" >Releases</a></li>
									
									<li><a href="/blog/archive" id="blog_archive" >Archive</a></li>
									
								</ul>
								
							
								<h3><a href="/about" id="nav_about" >About</a></h3>

								
								<ul>
									
									<li><a href="/about/leadership" id="nav_leadership" >leadership</a></li>
									
									<li><a href="/about/board" id="nav_board" >board of directors</a></li>
									
									<li><a href="/about/careers" id="nav_careers" >careers</a></li>
									
									<li><a href="/about/partners" id="nav_partners" >partners</a></li>
									
									<li><a href="/about/press" id="nav_press" >press</a></li>
									
								</ul>
								
							
						</div>
					</div>
				</nav>
			<!-- </div> -->
		</div>
	</div>
</div>
<!-- Mobile Menu -->


		</div>
	</div>
</div>
<div class="header-search-wrapper">	
	<div class="container">
		<div class="big-search">
			<i class="big-search-icon"></i>
			<form method="get" action="/search" autocomplete="on" name="searchForm" id="searchfrm">
				<ul class="tags-wrapper">
					<li class="search-field"><input type="text" class="form-control global-input" id="autocomplete" name="q"></li>
				</ul>
			</form>
			<a href="#" class="header-search-cancel"></a>
		</div>
		<div class="nav-auto-complete"></div>
	</div>
</div>
<style>	
	
	
		.m-shortcuts li a.m-search {
			background: url("https://static-www.elastic.co/assets/blt174b13be89ff803c/m-search-icon.png?q=556") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
	
		.m-shortcuts li a.m-docs {
			background: url("https://static-www.elastic.co/assets/blt5ba03f594a7d610a/m-guide-icon.png?q=556") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
	
		.m-shortcuts li a.m-contact {
			background: url("https://static-www.elastic.co/assets/blt38c3e853c4b1174d/m-contact-icon.png?q=556") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
		
</style>
		</div>
	</div>
  	<div id="content">
  		
	  			
            <div id="pageheader">
    <div class="container">
        <header>
            <h1><a href="/learn" title="Learn">Learn</a> |</h1>
            <h2><a href="/guide" title="Docs">Docs</a></h2>
        </header>
    </div>
</div>
<section id="guide">

            <!-- start body -->
<div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">elasticsearch.js</a></span> » <span class="breadcrumb-node">Configuration</span></div><div class="navheader"><span class="prev"><a href="api-conventions.html">
              « 
              API Conventions</a>
           
        </span><span class="next">
           
          <a href="auth-reference.html">SSL and Authentication
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="configuration"></a>Configuration<a href="https://github.com/elastic/elasticsearch-js/edit/10.1/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h1></div></div></div><p>The <code class="literal">Client</code> constructor accepts a single object as its argument. In the <a class="xref" href="configuration.html#config-options" title="Config options">Config options</a> section all of the available options/keys are listed.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">var elasticsearch = require('elasticsearch');
var client = new elasticsearch.Client({
  ... config options ...
});</pre></div><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>Due to the complex nature of the configuration, the config object you pass in will be modified and can only be used to create one <code class="literal">Client</code> instance. Sorry for the inconvenience. Related Github issue: <a class="ulink" href="https://github.com/elasticsearch/elasticsearch-js/issues/33" target="_top">https://github.com/elasticsearch/elasticsearch-js/issues/33</a></p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="config-options"></a>Config options<a href="https://github.com/elastic/elasticsearch-js/edit/10.1/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><div class="horizontal"><table cellpadding="4px" border="0"><colgroup><col /><col /></colgroup><tbody valign="top"><tr><td valign="top">
<p>
<code class="literal">host or hosts</code><a id="config-hosts"></a>
</p>
</td><td valign="top">
<p>
<code class="literal">String, String[], Object[]</code> — Specify the hosts that this client will connect to. If sniffing is enabled, or you call <code class="literal">client.sniff()</code>, this list will be used as seeds to discover the rest of your cluster.
</p>
<p>The value(s) are passed to the <a class="link" href="host-reference.html" title="Host"><code class="literal">Host</code></a> constructor. <code class="literal">Host</code> objects can help enforce path-prefixes, default headers and query strings, and can be helpful in making more intelligent selection algorithms; Head over to <a class="link" href="host-reference.html" title="Host">the <code class="literal">Host</code> docs</a> for more information.</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">
Default
</span></dt><dd><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">'http://localhost:9200'</pre></div></dd></dl></div>
</td></tr><tr><td valign="top">
<p>
<code class="literal">log</code><a id="config-log"></a>
</p>
</td><td valign="top">
<p>
<code class="literal">String, String[], Object, Object[], Constructor</code> — Unless a constructor is specified, this sets the output settings for the bundled logger. See the section on configuring-logging[logging] for more information.
</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">
Default in Node
</span></dt><dd><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">[{
  type: 'stdio',
  levels: ['error', 'warning']
}]</pre></div></dd></dl></div>
</td></tr><tr><td valign="top">
<p>
<code class="literal">apiVersion</code><a id="config-api-version"></a>
</p>
</td><td valign="top">
<p>
<code class="literal">String</code> — Change the API that they client provides, specify the major version of the Elasticsearch nodes you will be connecting to.
</p>
<div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>This default will track the latest version of Elasticsearch, and is only intended to be used during development. It is highly recommended that you set this parameter in all code that is headed to production.</p></div></div>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">
Default 
</span></dt><dd>
<code class="literal">'2.1'</code>
</dd><dt><span class="term">
Options in node 
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<code class="literal">'2.2'</code>
</li><li class="listitem">
<code class="literal">'2.1'</code>
</li><li class="listitem">
<code class="literal">'2.0'</code>
</li><li class="listitem">
<code class="literal">'1.7'</code>
</li><li class="listitem">
<code class="literal">'1.6'</code>
</li><li class="listitem">
<code class="literal">'1.5'</code>
</li><li class="listitem">
<code class="literal">'1.4'</code>
</li><li class="listitem">
<code class="literal">'1.3'</code>
</li><li class="listitem">
<code class="literal">'1.2'</code>
</li><li class="listitem">
<code class="literal">'1.1'</code>
</li><li class="listitem">
<code class="literal">'1.0'</code>
</li><li class="listitem">
<code class="literal">'0.90'</code>
</li><li class="listitem">
<code class="literal">'2.x'</code> (unstable)
</li><li class="listitem">
<code class="literal">'master'</code> (unstable)
</li></ul></div></dd><dt><span class="term">
Options in the browser 
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<code class="literal">'2.2'</code>
</li><li class="listitem">
<code class="literal">'2.1'</code>
</li><li class="listitem">
<code class="literal">'2.0'</code>
</li><li class="listitem">
<code class="literal">'1.7'</code>
</li><li class="listitem">
<code class="literal">'1.6'</code>
</li><li class="listitem">
<code class="literal">'2.x'</code> (unstable)
</li><li class="listitem">
<code class="literal">'master'</code> (unstable)
</li></ul></div></dd></dl></div>
</td></tr><tr><td valign="top">
<p>
<code class="literal">plugins</code><a id="config-plugins"></a>
</p>
</td><td valign="top">
<p>
<code class="literal">Function[]</code> — Plugin instantiators that will be called when the Client initializes. Each function is called in order with the arguments <code class="literal">Constructor</code>, <code class="literal">config</code>, and <code class="literal">components</code>.
</p>
<p><code class="literal">Constructor</code> is the class that will be newed up to create the client instance. It’s prototype contains the api methods that correlate to the <code class="literal">apiVersion</code> requested.</p>
<p><code class="literal">config</code> is the config object that was passed to the <code class="literal">elasticsearch.Client</code> constructor.</p>
<p><code class="literal">components</code> is a map of the internal classes for this version of the elasticsearch client. The values on this object are listed <a class="ulink" href="https://github.com/elastic/elasticsearch-js/blob/master/src/lib/client.js#L80" target="_top">here</a>.</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">sniffOnStart</code><a id="config-sniff-on-start"></a>
</p>
</td><td valign="top">
<p>
<code class="literal">Boolean</code> — Should the client attempt to detect the rest of the cluster when it is first instantiated?
</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">
Default
</span></dt><dd>
<code class="literal">false</code>
</dd></dl></div>
</td></tr><tr><td valign="top">
<p>
<code class="literal">sniffInterval</code><a id="config-sniff-interval"></a>
</p>
</td><td valign="top">
<p>
<code class="literal">Number, false</code> — Every <code class="literal">n</code> milliseconds, perform a sniff operation and make sure our list of nodes is complete.
</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">
Default
</span></dt><dd>
<code class="literal">false</code>
</dd></dl></div>
</td></tr><tr><td valign="top">
<p>
<code class="literal">sniffOnConnectionFault</code><a id="config-sniff-on-connection-fault"></a>
</p>
</td><td valign="top">
<p>
<code class="literal">Boolean</code> — Should the client immediately sniff for a more current list of nodes when a connection dies?
</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">
Default
</span></dt><dd>
<code class="literal">false</code>
</dd></dl></div>
</td></tr><tr><td valign="top">
<p>
<code class="literal">maxRetries</code><a id="config-max-retries"></a>
</p>
</td><td valign="top">
<p>
<code class="literal">Integer</code> — How many times should the client try to connect to other nodes before returning a <a class="link" href="errors.html#connection-fault">ConnectionFault</a> error.
</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">
Default
</span></dt><dd>
<code class="literal">3</code>
</dd></dl></div>
</td></tr><tr><td valign="top">
<p>
<code class="literal">requestTimeout</code><a id="config-request-timeout"></a>
</p>
</td><td valign="top">
<p>
<code class="literal">Number</code> — Milliseconds before an HTTP request will be aborted and retried. This can also be set per request.
</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">
Default
</span></dt><dd>
<code class="literal">30000</code>
</dd></dl></div>
</td></tr><tr><td valign="top">
<p>
<code class="literal">deadTimeout</code><a id="config-dead-timeout"></a>
</p>
</td><td valign="top">
<p>
<code class="literal">Number</code> — Milliseconds that a dead connection will wait before attempting to revive itself.
</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">
Default
</span></dt><dd>
<code class="literal">60000</code>
</dd></dl></div>
</td></tr><tr><td valign="top">
<p>
<code class="literal">pingTimeout</code><a id="config-ping-timeout"></a>
</p>
</td><td valign="top">
<p>
<code class="literal">Number</code> — Milliseconds that a ping request can take before timing out.
</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">
Default
</span></dt><dd>
<code class="literal">3000</code>
</dd></dl></div>
</td></tr><tr><td valign="top">
<p>
<code class="literal">keepAlive</code><a id="config-keep-alive"></a>
</p>
</td><td valign="top">
<p>
<code class="literal">Boolean</code> — Should the connections to the node be kept open forever? This behavior is recommended when you are connecting directly to Elasticsearch.
</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">
Default
</span></dt><dd>
<code class="literal">true</code>
</dd></dl></div>
</td></tr><tr><td valign="top">
<p>
<code class="literal">maxSockets</code><a id="config-max-sockets"></a>
</p>
</td><td valign="top">
<p>
<code class="literal">Number</code> — Maximum number of concurrent requests that can be made to any node.
</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">
Default
</span></dt><dd>
<code class="literal">10</code>
</dd></dl></div>
</td></tr><tr><td valign="top">
<p>
<code class="literal">minSockets</code><a id="config-min-sockets"></a>
</p>
</td><td valign="top">
<p>
<code class="literal">Number</code> — Minimum number of sockets to keep connected to a node, only applies when <code class="literal">keepAlive</code> is true
</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">
Default
</span></dt><dd>
<code class="literal">10</code>
</dd></dl></div>
</td></tr><tr><td valign="top">
<p>
<code class="literal">suggestCompression</code><a id="config-suggest-compression"></a>
</p>
</td><td valign="top">
<p>
<code class="literal">Boolean</code> — The client should inform Elasticsearch, on each request, that it can accept compressed responses. In order for the responses to actually be compressed, you must enable <code class="literal">http.compression</code> in Elasticsearch. See <a class="ulink" href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/modules-http.html" target="_top">these docs</a> for additional info.
</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">
Default
</span></dt><dd>
<code class="literal">false</code>
</dd></dl></div>
</td></tr><tr><td valign="top">
<p>
<code class="literal">connectionClass</code><a id="config-connection-class"></a>
</p>
</td><td valign="top">
<p>
<code class="literal">String, Constructor</code> — Defines the class that will be used to create connections to store in the connection pool. If you are looking to implement additional protocols you should probably start by writing a Connection class that extends the ConnectionAbstract.
</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">
Defaults
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Node: <code class="literal">"http"</code>
</li><li class="listitem">
Browser Build: <code class="literal">"xhr"</code>
</li><li class="listitem">
Angular Build: <code class="literal">"angular"</code>
</li><li class="listitem">
jQuery Build: <code class="literal">"jquery"</code>
</li></ul></div></dd></dl></div>
</td></tr><tr><td valign="top">
<p>
<code class="literal">sniffedNodesProtocol</code><a id="config-sniffed-nodes-protocol"></a>
</p>
</td><td valign="top">
<p>
<code class="literal">String</code> — Defines the protocol that will be used to communicate with nodes discovered during sniffing.
</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">
Default
</span></dt><dd>
If all of the hosts/host passed to the client via configuration use the same protocol then this defaults to that protocol, otherwise it defaults to <code class="literal">"http"</code>.
</dd></dl></div>
</td></tr><tr><td valign="top">
<p>
<code class="literal">ssl</code><a id="config-ssl"></a>
</p>
</td><td valign="top">
<p>
<code class="literal">Object</code> — An object defining HTTPS/SSL configuration to use for all nodes. The properties of this mimic the options accepted by <a class="ulink" href="http://nodejs.org/docs/latest/api/tls.html#tls_tls_connect_port_host_options_callback" target="_top"><code class="literal">tls.connect()</code></a> with the exception of <code class="literal">rejectUnauthorized</code>, which defaults to <code class="literal">false</code> allowing self-signed certificates to work out-of-the-box.
</p>
<p>Additional information available in <a class="xref" href="auth-reference.html" title="SSL and Authentication"><em>SSL and Authentication</em></a>.</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">ssl.pfx</code>
</span></dt><dd>
<code class="literal">String,Array[String]</code> — Certificate, Private key and CA certificates to use for SSL. Default <code class="literal">null</code>.
</dd><dt><span class="term">
<code class="literal">ssl.key</code>
</span></dt><dd>
<code class="literal">String</code> — Private key to use for SSL. Default <code class="literal">null</code>.
</dd><dt><span class="term">
<code class="literal">ssl.passphrase</code>
</span></dt><dd>
<code class="literal">String</code> — A string of passphrase for the private key or pfx. Default <code class="literal">null</code>.
</dd><dt><span class="term">
<code class="literal">ssl.cert</code>
</span></dt><dd>
<code class="literal">String</code> — Public x509 certificate to use. Default <code class="literal">null</code>.
</dd><dt><span class="term">
<code class="literal">ssl.ca</code>
</span></dt><dd>
<code class="literal">String,Array[String]</code> — An authority certificate or array of authority certificates to check the remote host against. Default <code class="literal">null</code>.
</dd><dt><span class="term">
<code class="literal">ssl.ciphers</code>
</span></dt><dd>
<code class="literal">String</code> — A string describing the ciphers to use or exclude. Consult <a class="ulink" href="http://www.openssl.org/docs/apps/ciphers.html#CIPHER_LIST_FORMAT" target="_top">http://www.openssl.org/docs/apps/ciphers.html#CIPHER_LIST_FORMAT</a> for details on the format.  Default <code class="literal">null</code>.
</dd><dt><span class="term">
<code class="literal">ssl.rejectUnauthorized</code>
</span></dt><dd>
<code class="literal">Boolean</code> — If true, the server certificate is verified against the list of supplied CAs. An <span class="emphasis"><em>error</em></span> event is emitted if verification fails. Verification happens at the connection level, before the HTTP request is sent. Default <code class="literal">false</code>
</dd><dt><span class="term">
<code class="literal">ssl.secureProtocol</code>
</span></dt><dd>
<code class="literal">String</code> — The SSL method to use, e.g. TLSv1_method to force TLS version 1. The possible values depend on your installation of OpenSSL and are defined in the constant SSL_METHODS. Default <code class="literal">null</code>.
</dd><dt><span class="term">
Example
</span></dt><dd><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">var client = new elasticsearch.Client({
  hosts: [
    'https://box1.internal.org',
    'https://box2.internal.org',
    'https://box3.internal.org'
  ],
  ssl: {
    ca: fs.readFileSync('./cacert.pem'),
    rejectUnauthorized: true
  }
});</pre></div></dd></dl></div>
</td></tr><tr><td valign="top">
<p>
<code class="literal">selector</code><a id="config-selector"></a>
</p>
</td><td valign="top">
<p>
<code class="literal">String, Function</code> — This function will be used to select a connection from the ConnectionPool. It should received a single argument, the list of "active" connections, and return the connection to use. Use this selector to implement special logic for your client such as preferring nodes in a certain rack or data-center.
</p>
<p>To make this function asynchronous, accept a second argument which will be the callback to use. The callback should be called Node-style with a possible error like: <code class="literal">cb(err, selectedConnection)</code>.</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">
Default
</span></dt><dd>
<code class="literal">"roundRobin"</code>
</dd><dt><span class="term">
Options
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<code class="literal">"roundRobin"</code>
</li><li class="listitem">
<code class="literal">"random"</code>
</li></ul></div></dd></dl></div>
</td></tr><tr><td valign="top">
<p>
<code class="literal">defer</code><a id="config-defer"></a>
</p>
</td><td valign="top">
<p>
<code class="literal">Function</code> — Override the way that the client creates promises. If you would rather use any other promise library this is how you’d do that. Elasticsearch.js expects that the defer object has a <code class="literal">promise</code> property (which will be returned to promise consumers), as well as <code class="literal">resolve</code> and <code class="literal">reject</code> methods.
</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">
Default
</span></dt><dd>
Defer object created with ES6 Promise
</dd><dt><span class="term">
To use Bluebird
</span></dt><dd><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">var Bluebird = require('bluebird');
var client = new elasticsearch.Client({
  defer: function () {
    return Bluebird.defer();
  }
});</pre></div></dd></dl></div>
</td></tr><tr><td valign="top">
<p>
<code class="literal">nodesToHostCallback</code><a id="config-nodes-to-host-callback"></a>
</p>
</td><td valign="top">
<p>
<code class="literal">Function</code> - This function will receive the list of nodes returned from the <code class="literal">_cluster/nodes</code> API during a sniff operation. The function should return an array of objects which match the <a class="link" href="configuration.html#config-hosts">specification for the <code class="literal">hosts</code> config</a>.
</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">
Default
</span></dt><dd>
see <a class="ulink" href="https://github.com/elasticsearch/elasticsearch-js/blob/master/src/lib/nodes_to_host.js" target="_top">nodes_to_host.js</a>
</dd></dl></div>
</td></tr><tr><td valign="top">
<p>
<code class="literal">createNodeAgent</code><a id="config-create-node-agent"></a>
</p>
</td><td valign="top">
<p>
<code class="literal">Function</code> — Override the way that the client creates node.js <code class="literal">Agent</code>[<a class="ulink" href="https://nodejs.org/api/http.html#http_class_http_agent" target="_top">https://nodejs.org/api/http.html#http_class_http_agent</a>] objects. The value of this property will be executed every time a new Node is added to the client (either from the initial seed or from sniffing) and can return any value that node’s http(s) module accepts as <code class="literal">agent:</code> configuration.
</p>
<p>The function is called with two arguments, first an <code class="literal">HttpConnector</code>[<a class="ulink" href="http://github.com/spalger/elasticsearch-js/blob/master/src/lib/connectors/http.js" target="_top">http://github.com/spalger/elasticsearch-js/blob/master/src/lib/connectors/http.js</a>] object and the second the config object initially passed when creating the client.</p>
<div class="variablelist"><dl class="variablelist"><dt><span class="term">
Default
</span></dt><dd>
<code class="literal">HttpConnector#createAgent()</code>
</dd><dt><span class="term">
Disable Agent creation
</span></dt><dd><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">var client = new elasticsearch.Client({
  createNodeAgent: function () {
    return false;
  }
});</pre></div></dd></dl></div>
</td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_examples"></a>Examples<a href="https://github.com/elastic/elasticsearch-js/edit/10.1/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Connect to just a single seed node, and use sniffing to find the rest of the cluster.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">var client = new elasticsearch.Client({
  host: 'localhost:9200',
  sniffOnStart: true,
  sniffInterval: 60000,
});</pre></div><p>Specify a couple of hosts which use basic auth.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">var client = new elasticsearch.Client({
  hosts: [
    'https://user:pass@box1.server.org:9200',
    'https://user:pass@box2.server.org:9200'
  ]
});</pre></div><p>Use host objects to define extra properties, and a selector that uses those properties to pick a node.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">var client = new elasticsearch.Client({
  hosts: [
    {
      protocol: 'https',
      host: 'box1.server.org',
      port: 56394,
      country: 'EU',
      weight: 10
    },
    {
      protocol: 'https',
      host: 'box2.server.org',
      port: 56394,
      country: 'US',
      weight: 50
    }
  ],
  selector: function (hosts) {
    var myCountry = process.env.COUNTRY;
    // first try to find a node that is in the same country
    var selection = _.find(nodes, function (node) {
      return node.host.country === myCountry;
    });

    if (!selection) {
      // choose the node with the smallest weight.
      selection = _(nodes).sortBy(function (node) {
        return node.host.weight;
      }).first();
    }

    return selection;
  }
});</pre></div><p><strong>Use a custom nodesToHostCallback that will direct all of the requests to a proxy and select the node via a query string param. </strong>
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">var client = new elasticsearch.Client({
  nodesToHostCallback: function (nodes) {
    /*
     * The nodes object will look something like this
     * {
     *   "y-YWd-LITrWXWoCi4r2GlQ": {
     *     name: "Supremor",
     *     transport_address: "inet[/192.168.1.15:9300]",
     *     hostname: "Small-ESBox.infra",
     *     version: "1.0.0",
     *     http_address: "inet[/192.168.1.15:9200]",
     *     attributes: {
     *        custom: "attribute"
     *     }
     *   },
     *   ...
     * }
     */

    return _.transform(nodes, function (nodeList, node, id) {
      var port = node.http_address.match(/:(\d+)/)[1];
      nodeList.push({
        host: 'esproxy.example.com',
        port: 80,
        query: {
          nodeHostname: node.hostname,
          nodePort: port
        }
      });
    }, []);
  }
})</pre></div><p>
</p></div></div><div class="navfooter"><span class="prev"><a href="api-conventions.html">
              « 
              API Conventions</a>
           
        </span><span class="next">
           
          <a href="auth-reference.html">SSL and Authentication
               »
            </a></span></div>
<!-- end body -->

            </section>

            <div id="rtpcontainer"
        >
	<h3>Top Videos</h3>
	<ul class="lists">
		<li><a href="https://www.elastic.co/webinars/get-started-with-elasticsearch/?baymax=default&elektra=docs&storm=top-video">Getting Started</a></li>
		<li><a href="http://www.elastic.co/webinars/elasticsearch-performance-optimization-tale-two-tickets/?elektra=docs">Scaling</a></li>
		<li><a href="http://www.elastic.co/webinars/shield-securing-your-data-in-elasticsearch/?elektra=docs">Security</a></li>
	</ul>
</div>


	  	




<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
	<!-- subscribe-newsletter -->
	<div id="subscribe-newsletter">
		<div class="container">
			<div class="row">
				<div class="12u">
					<div class="subscribe-wrapper" id="rtp-newsletter">
						<header>
							<h3>Subscribe to our newsletter</h3>
						</header>
						<div class="subscribe-form">
							<form id="mktoForm_1398" class="container"></form>
							<div class="form_thanks hide">
								
									<p>Thanks for subscribing! We'll keep you updated with new releases.</p>
								
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

  	<!-- Footer -->
	<div id="footer-wrapper">
		<section id="footer" class="container">
			<div class="row">
				<div class="12u">
					<!-- Copyright -->
					<div id="copyright">
	<p>
		© 2016. All Rights Reserved - Elasticsearch
	</p>
	<ul class="links">
		<li>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries</li>
		<li><a href="/legal/trademarks" id="footer_trademarks">Trademarks</a></li>
		<li><a href="/legal/terms-of-use" id="footer_terms">Terms</a></li>
		<li><a href="/legal/privacy-policy" id="footer_privacy">Privacy</a></li>
<li><a href="/brand" id="footer_brand">Brand</a></li>
	</ul>
	<p>
		Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other&nbsp;countries.
	</p>
</div>
<!--<div class="row">
{replace4}
</div>-->
				</div>
			</div>					
		</section>
	</div>
			
	<!-- Social Media -->
	<div id="socialmedia-wrapper">
		<section id="socialmedia" class="container">
			<!-- social icons -->
			<div id="social">
				<ul class="links">
					
						<li class="facebook grayscale"><a href="http://www.facebook.com/elastic.co" target="_blank" id="footer_facebook"></a></li>
					
						<li class="twitter grayscale"><a href="https://www.twitter.com/elastic" target="_blank" id="footer_twitter"></a></li>
					
						<li class="linkedin grayscale"><a href="https://www.linkedin.com/company/elastic-co" target="_blank" id="footer_linkedin"></a></li>
					
						<li class="xing grayscale"><a href="https://www.xing.com/companies/elastic.co" target="_blank" id="footer_xing"></a></li>
					
						<li class="youtube grayscale"><a href="https://www.youtube.com/user/elasticsearch" target="_blank" id="footer_youtube"></a></li>
					
				</ul>
			</div>
		</section>
	</div>


<style type="text/css">
	
		.facebook{background:url("https://static-www.elastic.co/assets/bltda40eebd7c7cae9a/facebook.svg?q=556") no-repeat;}		
	
		.twitter{background:url("https://static-www.elastic.co/assets/bltfd3b1511512f4632/twitter.svg?q=556") no-repeat;}		
	
		.linkedin{background:url("https://static-www.elastic.co/assets/blt6b4f6f8d6b96f814/linkedin.svg?q=556") no-repeat;}		
	
		.xing{background:url("https://static-www.elastic.co/assets/blta76b2ae2b2f10a98/xing.svg?q=556") no-repeat;}		
	
		.youtube{background:url("https://static-www.elastic.co/assets/blt5761648c9581fb53/youtube.svg?q=556") no-repeat;}		
	
</style>

<script>
MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", 1398,function(form){
	form.onSuccess(function(form){
		$('#mktoForm_1398').css('display','none');
		$('#subscribe-newsletter header').hide();
		$('#mktoForm_1398').siblings('.form_thanks').removeClass('hide')
		dataLayer.push({'event': 'mktoFormSubmit'});
	    return false;
  	});
});
</script>	

  	</div>
  	<!-- <div class="preloader">
    	<div class="status"></div>
	</div> -->
  	<style></style>
   	<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";	
</script>
<script src="https://static-www.elastic.co/static/js/jquery.autocomplete.js?q=556"></script>
<script src="https://static-www.elastic.co/static/js/script.js?q=556"></script>


   	
   	
   	
   	<script type="application/ld+json">
	
		
	
	{
	  	"@context": "http://schema.org",
	  	"@type": "Organization",
	  	"name" : "Elastic",
	  	"url": "https://www.elastic.co/",
	  	"logo": "https://www.elastic.co/static/img/elastic-logo-200.png",
		"sameAs" : [ "https://www.facebook.com/elastic.co",
			"https://twitter.com/elastic",
			"https://plus.google.com/105178019064686397293",
			"https://www.youtube.com/user/elasticsearch",
			"https://www.linkedin.com/company/elasticsearch"
		],
	  	"potentialAction": {
	    	"@type": "SearchAction",
	    	"target": "https://www.elastic.co/search?q={query_string}",
	    	"query-input": "required name=query_string"
	  	}
	}
</script>	

            <script type="text/javascript" src="docs.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script type='text/javascript' src='https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js'></script>

            </body>
        

