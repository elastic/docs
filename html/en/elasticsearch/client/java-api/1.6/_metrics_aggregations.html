
<!DOCTYPE HTML>
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Metrics aggregations
        | Java API [1.6]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Java API [1.6]" /><link rel="up" href="java-aggs.html" title="Aggregations" /><link rel="prev" href="_structuring_aggregations.html" title="Structuring aggregations" /><link rel="next" href="_bucket_aggregations.html" title="Bucket aggregations" /><meta name="DC.type" content="Docs/Clients/Java/1.6" />
  
 	<meta http-equiv="content-type" content="text/html; charset=utf-8" />

 	<!-- RTP tag -->
	<script type='text/javascript' async>
	(function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
	 c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";
	 g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);
	 })(window,document,"rtp","//sjrtp2-cdn.marketo.com/rtp-api/v1/rtp.js","elasticco");

	rtp('send','view');
	rtp('get', 'campaign',true);
	</script>
	<!-- End of RTP tag -->

	
 	<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
<meta name="apple-mobile-web-app-title" content="Elastic">
<meta name="application-name" content="Elastic">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">

<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >


<!-- end DC tags -->

	<meta name="description" content="" />

	<link rel="canonical" href="" />

	<meta property="og:image" content="https://www.elastic.co/static/img/elastic-logo-200.png" />
	

		


	
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/skel.css?q=455" />
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/style.css?q=455" />
	<script src="https://static-www.elastic.co/static/js/skel.min.js?q=455"></script>
	
		<script type="text/javascript">form_name = "" ; cdn_url="https://static-www.elastic.co";cdn_slug = "455"</script>
	
	<script src="https://static-www.elastic.co/static/js/init.js?q=455"></script>
	<script src="https://static-www.elastic.co/static/js/jquery.min.js?q=455"></script>
	<script src="https://static-www.elastic.co/static/js/jquery.cookie.js?q=455"></script>
	<!--<script type="text/javascript">
	    (function() {
	        var path = '//easy.myfonts.net/v2/js?sid=10336(font-family=Avenir+35+Light)&sid=10338(font-family=Avenir+55+Roman)&sid=10340(font-family=Avenir+85+Heavy)&sid=10344(font-family=Avenir+65+Medium)&key=nAD6PCOPrX',
	            protocol = ('https:' == document.location.protocol ? 'https:' : 'http:'),
	            trial = document.createElement('script');
	        trial.type = 'text/javascript';
	        trial.async = true;
	        trial.src = protocol + path;
	        var head = document.getElementsByTagName("head")[0];
	        head.appendChild(trial);
	    })();
	</script>-->
	
	<link type="text/css" rel="stylesheet" href="/static/css/prettify.css" />
	<script type="text/javascript" src="/static/js/prettify.js"></script>



<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
<body >
	<!-- Google Tag Manager -->
	<script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
													  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-58RLH5');</script>
	<!-- End Google Tag Manager -->
	<!-- begin olark code -->
	<script data-cfasync="false" type='text/javascript'>/*<![CDATA[*/window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){
	f[z]=function(){
	(a.s=a.s||[]).push(arguments)};var a=f[z]._={
	},q=c.methods.length;while(q--){(function(n){f[z][n]=function(){
	f[z]("call",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={
	0:+new Date};a.P=function(u){
	a.p[u]=new Date-a.p[0]};function s(){
	a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){
	hd="head";return["<",hd,"></",hd,"><",i,' onl' + 'oad="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){
	return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){
	b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{
	b.contentWindow[g].open()}catch(w){
	c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{
	var t=b.contentWindow[g];t.write(p());t.close()}catch(x){
	b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({
	loader: "static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});
	/* custom configuration goes here (www.olark.com/documentation) */
	olark.identify('1356-750-10-5709');/*]]>*/</script><noscript><a href="https://www.olark.com/site/1356-750-10-5709/contact" title="Contact us" target="_blank">Questions? Feedback?</a> powered by <a href="http://www.olark.com?welcome" title="Olark live chat software">Olark live chat software</a></noscript>
	<!-- end olark code -->


	<div class="header-cont">
		<div id="header-wrapper">
			


	<script src="/static/js/jquery.tokeninput.js?change=123"></script>
	<link rel="stylesheet" type="text/css" href="/static/css/token-input.css">

<div class="shortcuts-wrapper">
	<div class="container">
		<!-- Shortcuts -->
		<nav id="shortcuts">
			<ul class="links">
				
					
					
						
						
					
					
					
						
					
					
					<li class="shortcut-1">
					

					
						<a href="/downloads" id="header_downloads">
							<span class="txt">downloads</span>
						</a>
					
					</li>
				
					
					
						
						
					
					
					
						
					
					
					<li class="shortcut-2">
					

					
						<a href="/guide" id="header_guide">
							<span class="txt">docs</span>
						</a>
					
					</li>
				
					
					
						
						
					
					
					
						
					
					
					<li class="shortcut-3">
					

					
						<a href="/subscriptions" id="header_subscriptions">
							<span class="txt">support</span>
						</a>
					
					</li>
				
					
					
						
						
					
					
					
						
					
					
					<li class="shortcut-4">
					

					
						<a href="https://discuss.elastic.co" id="header_forums" target="_blank">
							<span class="txt">forums</span>
						</a>
					
					</li>
				
					
					
						
						
					
					
					
						
						
					
					
					<li class="shortcut-5">
					

					
						<a href="/contact?storm=global-header-en" id="header_contact">
							<span class="txt">contact</span>
						</a>
					
					</li>
				
			</ul>
		</nav>
		<div class="languages-wrapper">
			<div class="global-language">
				<ul class="language">
					
						<li><a href="#">EN</a></li>
					
				</ul>
				<ul class="all-languages">
					
						
							
						
						<li><a href="/">English</a></li>
					
						
							
						
						<li><a href="/fr/">French</a></li>
					
						
							
						
						<li><a href="/de/">German</a></li>
					
						
							
						
						<li><a href="/jp/">Japanese</a></li>
					
						
							
						
						<li><a href="/kr/">Korean</a></li>
					
				</ul>
			</div>
		</div>
	</div>
</div>
<div class="container w100">
	<div class="row 0%">
		<div class="12u">
			

<section class="first-container desktop-main-nav">
	<div class="row 0%">
		<div class="11u 6u(small) 6u(xsmall)">
			<div id="elastic">
				<h1>
					<a href="/">
						<div id="elastic-logo">
						<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" viewBox="-155 383.3 687.5 235.7" xml:space="preserve" enable-background="new -155 383.3 687.5 235.7"><path fill="#FFFFFF" d="M81.6 506.8c0-19.8-12.3-37.2-30.8-43.9 0.8-4.2 1.2-8.4 1.2-12.7 0-36.9-30-66.9-66.8-66.9 -21.6 0-41.6 10.3-54.2 27.7 -6.2-4.8-13.8-7.4-21.7-7.4 -19.6 0-35.5 15.9-35.5 35.5 0 4.3 0.8 8.5 2.2 12.4 -18.4 6.6-31 24.3-31 44 0 19.9 12.4 37.3 30.9 44 -0.8 4.1-1.2 8.4-1.2 12.7 0 36.8 29.9 66.7 66.7 66.7 21.6 0 41.6-10.4 54.1-27.8 6.2 4.9 13.8 7.6 21.7 7.6 19.6 0 35.5-15.9 35.5-35.5 0-4.3-0.8-8.5-2.2-12.4C68.9 544.2 81.6 526.5 81.6 506.8"/><path fill="#FED10A" d="M-62 484.8l51.8 23.6L42 462.6c0.8-3.8 1.1-7.5 1.1-11.5 0-32.2-26.2-58.4-58.4-58.4 -19.3 0-37.2 9.5-48.1 25.4l-8.7 45.1L-62 484.8z"/><path fill="#24BBB1" d="M-115.6 539.6c-0.8 3.8-1.1 7.7-1.1 11.7 0 32.3 26.3 58.5 58.6 58.5 19.4 0 37.5-9.6 48.4-25.6l8.6-44.9 -11.5-22 -52-23.7L-115.6 539.6z"/><path fill="#EF5098" d="M-115.9 450l35.5 8.4 7.8-40.3c-4.8-3.7-10.8-5.7-17-5.7 -15.4 0-28 12.5-28 28C-117.6 443.7-117 447-115.9 450"/><path fill="#17A8E0" d="M-119 458.5c-15.8 5.2-26.9 20.4-26.9 37.1 0 16.3 10.1 30.8 25.2 36.6l49.8-45 -9.1-19.5L-119 458.5z"/><path fill="#93C83E" d="M-0.7 584.2c4.9 3.7 10.8 5.8 16.9 5.8 15.4 0 28-12.5 28-28 0-3.4-0.6-6.7-1.7-9.7L7.1 544 -0.7 584.2z"/><path fill="#0779A1" d="M6.5 534.7l39 9.1c15.9-5.2 26.9-20.4 26.9-37.2 0-16.2-10.1-30.8-25.2-36.5l-51 44.7L6.5 534.7z"/><path d="M175.8 548.8l4.7-0.5 0.3 9.6c-12.4 1.7-23 2.6-31.8 2.6 -11.7 0-20-3.4-24.9-10.2s-7.3-17.4-7.3-31.7c0-28.6 11.4-42.9 34.1-42.9 11 0 19.2 3.1 24.6 9.2s8.1 15.8 8.1 28.9l-0.7 9.3h-53.8c0 9 1.6 15.7 4.9 20 3.3 4.3 8.9 6.5 17 6.5C159.2 549.8 167.4 549.5 175.8 548.8zM171.4 513.5c0-10-1.6-17.1-4.8-21.2 -3.2-4.1-8.4-6.2-15.6-6.2s-12.7 2.2-16.3 6.5c-3.6 4.3-5.5 11.3-5.6 20.9H171.4z"/><path d="M200.6 559V442h12.2v117H200.6z"/><path d="M289.9 502.1v40.1c0 4.1 10.1 4.9 10.1 4.9l-0.6 10.8c-8.6 0-15.7 0.7-20-3.4 -9.8 4.3-19.5 6.1-29.3 6.1 -7.5 0-13.2-2.1-17.1-6.4 -3.9-4.2-5.9-10.3-5.9-18.3 0-7.9 2-13.8 6-17.5 4-3.7 10.3-6.1 18.9-6.9l25.6-2.4v-7c0-5.5-1.2-9.5-3.6-11.9 -2.4-2.4-5.7-3.6-9.8-3.6h-32.1v-10.8h31.3c9.2 0 15.9 2.1 20.1 6.4C287.8 486.4 289.9 493.1 289.9 502.1zM239.7 535.3c0 10 4.1 15 12.4 15 7.4 0 14.7-1.2 21.8-3.7l3.7-1.3v-26.9l-24.1 2.3c-4.9 0.4-8.4 1.8-10.6 4.2C240.7 527.3 239.7 530.8 239.7 535.3z"/><path d="M337.6 486.7c-11.8 0-17.8 4.1-17.8 12.4 0 3.8 1.4 6.5 4.1 8.1s8.9 3.2 18.6 4.9c9.7 1.7 16.5 4 20.5 7.1 4 3 6 8.7 6 17.1 0 8.4-2.7 14.5-8.1 18.4 -5.4 3.9-13.2 5.9-23.6 5.9 -6.7 0-29.2-2.5-29.2-2.5l0.7-10.6c12.9 1.2 22.3 2.2 28.6 2.2 6.3 0 11.1-1 14.4-3s5-5.4 5-10.1 -1.4-7.9-4.2-9.6c-2.8-1.7-9-3.3-18.6-4.8s-16.4-3.7-20.4-6.7c-4-2.9-6-8.4-6-16.3 0-7.9 2.8-13.8 8.4-17.6 5.6-3.8 12.6-5.7 20.9-5.7 6.6 0 29.6 1.7 29.6 1.7v10.7C354.4 487.6 344.5 486.7 337.6 486.7z"/><path d="M428 488.1h-25.9v39c0 9.3 0.7 15.5 2 18.4 1.4 2.9 4.6 4.4 9.7 4.4l14.5-1 0.8 10.1c-7.3 1.2-12.8 1.8-16.6 1.8 -8.5 0-14.3-2.1-17.6-6.2s-4.9-12-4.9-23.6v-42.9h-11.6v-10.6H390v-25h12.1v24.9H428V488.1z"/><path d="M445 459v-14.1h12.2v14.2L445 459 445 459zM445 559v-81.5h12.2V559H445z"/><path d="M510.2 475.8c3.6 0 9.7 0.7 18.3 2l3.9 0.5 -0.5 9.9c-8.7-1-15.1-1.5-19.2-1.5 -9.2 0-15.5 2.2-18.8 6.6s-5 12.6-5 24.5c0 11.9 1.5 20.2 4.6 24.9 3.1 4.7 9.5 7 19.3 7l19.2-1.5 0.5 10.1c-10.1 1.5-17.7 2.3-22.7 2.3 -12.7 0-21.5-3.3-26.3-9.8s-7.3-17.5-7.3-33 2.6-26.4 7.8-32.6C489.3 479 498 475.8 510.2 475.8z"/></svg>
						</div>
					</a>
				</h1>
			</div>
			<nav id="nav">
				<ul>
					
					<li>
						
							
						
						<a href="/products" id="nav_products"   >Products</a>
						
						<ul class="dropdown">
							
								<li>
									

									
										<a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a>
									
								</li>								
							
								<li>
									

									
										<a href="/cloud" id="nav_elasticsearch_as_a_service" >elasticsearch as a service</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/logstash" id="nav_logstash" >logstash</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/kibana" id="nav_kibana" >kibana</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/beats" id="nav_beats" >beats</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/watcher" id="nav_watcher" >watcher</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/shield" id="nav_shield" >shield</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/marvel" id="nav_marvel" >marvel</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/graph" id="nav_graph" >graph</a>
									
								</li>								
							
								<li>
									

									
										<a href="/products/hadoop" id="nav_hadoop" >hadoop</a>
									
								</li>								
							
								<li>
									

									
										<a href="/downloads" id="nav_downloads" >downloads</a>
									
								</li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/cloud" id="nav_cloud"   >Cloud</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/subscriptions" id="nav_subscriptions"   >Subscriptions</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/learn" id="nav_learn"   >Learn</a>
						
						<ul class="dropdown">
							
								<li>
									

									
										<a href="/guide" id="nav_guide" >docs</a>
									
								</li>								
							
								<li>
									

									
										<a href="/videos" id="nav_videos" >videos</a>
									
								</li>								
							
								<li>
									

									
										<a href="/training" id="nav_training" >training</a>
									
								</li>								
							
								<li>
									

									
										<a href="/services" id="nav_services" >services</a>
									
								</li>								
							
								<li>
									

									
										<a href="/blog" id="nav_learn_blog" >blog</a>
									
								</li>								
							
								<li>
									

									
										<a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a>
									
								</li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/community" id="nav_community"   >Community</a>
						
						<ul class="dropdown">
							
								<li>
									

									
										<a href="/community/meetups" id="nav_meetups" >meetups</a>
									
								</li>								
							
								<li>
									

									
										<a href="https://discuss.elastic.co" id="nav_forums" target="_blank">forums</a>
									
								</li>								
							
								<li>
									

									
										<a href="/community/codeofconduct" id="nav_codeofconduct" >code of conduct</a>
									
								</li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/use-cases" id="nav_usecases"   >Use Cases</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/blog" id="nav_blog"   >Blog</a>
						
						<ul class="dropdown">
							
								<li>
									

									
										<a href="/blog/category/news" id="blog_news" >News</a>
									
								</li>								
							
								<li>
									

									
										<a href="/blog/category/engineering" id="blog_engineering" >Engineering</a>
									
								</li>								
							
								<li>
									

									
										<a href="/blog/category/user-stories" id="blog_user-stories" >User Stories</a>
									
								</li>								
							
								<li>
									

									
										<a href="/blog/category/releases" id="blog_releases" >Releases</a>
									
								</li>								
							
								<li>
									

									
										<a href="/blog/archive" id="blog_archive" >Archive</a>
									
								</li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/about" id="nav_about"   >About</a>
						
						<ul class="dropdown">
							
								<li>
									

									
										<a href="/about/leadership" id="nav_leadership" >leadership</a>
									
								</li>								
							
								<li>
									

									
										<a href="/about/board" id="nav_board" >board of directors</a>
									
								</li>								
							
								<li>
									

									
										<a href="/about/careers" id="nav_careers" >careers</a>
									
								</li>								
							
								<li>
									

									
										<a href="/about/partners" id="nav_partners" >partners</a>
									
								</li>								
							
								<li>
									

									
										<a href="/about/press" id="nav_press" >press</a>
									
								</li>								
								
						</ul>							
					</li>
					
				</ul>
			</nav>			
		</div>
		<div class="1u 6u(small) 6u(xsmall)">
			<div id="searchbar">
				<a href="#" class="button icon"></a>
			</div>
		</div>
	</div>
</section>
<div class="mobile-menu-wrapper">
	<div class="row 0%">
		<div class="8u 6u(small) 6u(xsmall)">
			<div id="elastic">
				<h1>
					<a href="/">
						<div id="elastic-logo">
						<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" viewBox="-155 383.3 687.5 235.7" xml:space="preserve" enable-background="new -155 383.3 687.5 235.7"><path fill="#FFFFFF" d="M81.6 506.8c0-19.8-12.3-37.2-30.8-43.9 0.8-4.2 1.2-8.4 1.2-12.7 0-36.9-30-66.9-66.8-66.9 -21.6 0-41.6 10.3-54.2 27.7 -6.2-4.8-13.8-7.4-21.7-7.4 -19.6 0-35.5 15.9-35.5 35.5 0 4.3 0.8 8.5 2.2 12.4 -18.4 6.6-31 24.3-31 44 0 19.9 12.4 37.3 30.9 44 -0.8 4.1-1.2 8.4-1.2 12.7 0 36.8 29.9 66.7 66.7 66.7 21.6 0 41.6-10.4 54.1-27.8 6.2 4.9 13.8 7.6 21.7 7.6 19.6 0 35.5-15.9 35.5-35.5 0-4.3-0.8-8.5-2.2-12.4C68.9 544.2 81.6 526.5 81.6 506.8"/><path fill="#FED10A" d="M-62 484.8l51.8 23.6L42 462.6c0.8-3.8 1.1-7.5 1.1-11.5 0-32.2-26.2-58.4-58.4-58.4 -19.3 0-37.2 9.5-48.1 25.4l-8.7 45.1L-62 484.8z"/><path fill="#24BBB1" d="M-115.6 539.6c-0.8 3.8-1.1 7.7-1.1 11.7 0 32.3 26.3 58.5 58.6 58.5 19.4 0 37.5-9.6 48.4-25.6l8.6-44.9 -11.5-22 -52-23.7L-115.6 539.6z"/><path fill="#EF5098" d="M-115.9 450l35.5 8.4 7.8-40.3c-4.8-3.7-10.8-5.7-17-5.7 -15.4 0-28 12.5-28 28C-117.6 443.7-117 447-115.9 450"/><path fill="#17A8E0" d="M-119 458.5c-15.8 5.2-26.9 20.4-26.9 37.1 0 16.3 10.1 30.8 25.2 36.6l49.8-45 -9.1-19.5L-119 458.5z"/><path fill="#93C83E" d="M-0.7 584.2c4.9 3.7 10.8 5.8 16.9 5.8 15.4 0 28-12.5 28-28 0-3.4-0.6-6.7-1.7-9.7L7.1 544 -0.7 584.2z"/><path fill="#0779A1" d="M6.5 534.7l39 9.1c15.9-5.2 26.9-20.4 26.9-37.2 0-16.2-10.1-30.8-25.2-36.5l-51 44.7L6.5 534.7z"/><path d="M175.8 548.8l4.7-0.5 0.3 9.6c-12.4 1.7-23 2.6-31.8 2.6 -11.7 0-20-3.4-24.9-10.2s-7.3-17.4-7.3-31.7c0-28.6 11.4-42.9 34.1-42.9 11 0 19.2 3.1 24.6 9.2s8.1 15.8 8.1 28.9l-0.7 9.3h-53.8c0 9 1.6 15.7 4.9 20 3.3 4.3 8.9 6.5 17 6.5C159.2 549.8 167.4 549.5 175.8 548.8zM171.4 513.5c0-10-1.6-17.1-4.8-21.2 -3.2-4.1-8.4-6.2-15.6-6.2s-12.7 2.2-16.3 6.5c-3.6 4.3-5.5 11.3-5.6 20.9H171.4z"/><path d="M200.6 559V442h12.2v117H200.6z"/><path d="M289.9 502.1v40.1c0 4.1 10.1 4.9 10.1 4.9l-0.6 10.8c-8.6 0-15.7 0.7-20-3.4 -9.8 4.3-19.5 6.1-29.3 6.1 -7.5 0-13.2-2.1-17.1-6.4 -3.9-4.2-5.9-10.3-5.9-18.3 0-7.9 2-13.8 6-17.5 4-3.7 10.3-6.1 18.9-6.9l25.6-2.4v-7c0-5.5-1.2-9.5-3.6-11.9 -2.4-2.4-5.7-3.6-9.8-3.6h-32.1v-10.8h31.3c9.2 0 15.9 2.1 20.1 6.4C287.8 486.4 289.9 493.1 289.9 502.1zM239.7 535.3c0 10 4.1 15 12.4 15 7.4 0 14.7-1.2 21.8-3.7l3.7-1.3v-26.9l-24.1 2.3c-4.9 0.4-8.4 1.8-10.6 4.2C240.7 527.3 239.7 530.8 239.7 535.3z"/><path d="M337.6 486.7c-11.8 0-17.8 4.1-17.8 12.4 0 3.8 1.4 6.5 4.1 8.1s8.9 3.2 18.6 4.9c9.7 1.7 16.5 4 20.5 7.1 4 3 6 8.7 6 17.1 0 8.4-2.7 14.5-8.1 18.4 -5.4 3.9-13.2 5.9-23.6 5.9 -6.7 0-29.2-2.5-29.2-2.5l0.7-10.6c12.9 1.2 22.3 2.2 28.6 2.2 6.3 0 11.1-1 14.4-3s5-5.4 5-10.1 -1.4-7.9-4.2-9.6c-2.8-1.7-9-3.3-18.6-4.8s-16.4-3.7-20.4-6.7c-4-2.9-6-8.4-6-16.3 0-7.9 2.8-13.8 8.4-17.6 5.6-3.8 12.6-5.7 20.9-5.7 6.6 0 29.6 1.7 29.6 1.7v10.7C354.4 487.6 344.5 486.7 337.6 486.7z"/><path d="M428 488.1h-25.9v39c0 9.3 0.7 15.5 2 18.4 1.4 2.9 4.6 4.4 9.7 4.4l14.5-1 0.8 10.1c-7.3 1.2-12.8 1.8-16.6 1.8 -8.5 0-14.3-2.1-17.6-6.2s-4.9-12-4.9-23.6v-42.9h-11.6v-10.6H390v-25h12.1v24.9H428V488.1z"/><path d="M445 459v-14.1h12.2v14.2L445 459 445 459zM445 559v-81.5h12.2V559H445z"/><path d="M510.2 475.8c3.6 0 9.7 0.7 18.3 2l3.9 0.5 -0.5 9.9c-8.7-1-15.1-1.5-19.2-1.5 -9.2 0-15.5 2.2-18.8 6.6s-5 12.6-5 24.5c0 11.9 1.5 20.2 4.6 24.9 3.1 4.7 9.5 7 19.3 7l19.2-1.5 0.5 10.1c-10.1 1.5-17.7 2.3-22.7 2.3 -12.7 0-21.5-3.3-26.3-9.8s-7.3-17.5-7.3-33 2.6-26.4 7.8-32.6C489.3 479 498 475.8 510.2 475.8z"/></svg>
						</div>
					</a>
				</h1>
			</div>
		</div>
		<div class="4u 6u(small) 6u(xsmall) text-right">
			<!-- <div class="mobile-menu-wrapper"> -->
				<ul class="m-shortcuts">
					
						

						
							<li><a href="#" class="m-search" id="header-search"></a></li>
						
					
						

						
							<li><a href="/guide" class="m-docs" id="mobile-docs"></a></li>
						
					
						

						
							<li><a href="/contact" class="m-contact" id="mobile-contact"></a></li>
						
					
				</ul>	
				<nav class="nav-menu">
					<div class="menu-button">
						<span></span>
					</div>
					<div class="nav-menu-list-wrap">
						<div class="nav-menu-list">
							
								<h3><a href="/products" id="nav_products" >Products</a></h3>
								
								<ul>
									
									
									
									
										<li><a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a></li>
									
									
									
									
									
									
										<li><a href="/cloud" id="nav_elasticsearch_as_a_service" >elasticsearch as a service</a></li>
									
									
									
									
									
									
										<li><a href="/products/logstash" id="nav_logstash" >logstash</a></li>
									
									
									
									
									
									
										<li><a href="/products/kibana" id="nav_kibana" >kibana</a></li>
									
									
									
									
									
									
										<li><a href="/products/beats" id="nav_beats" >beats</a></li>
									
									
									
									
									
									
										<li><a href="/products/watcher" id="nav_watcher" >watcher</a></li>
									
									
									
									
									
									
										<li><a href="/products/shield" id="nav_shield" >shield</a></li>
									
									
									
									
									
									
										<li><a href="/products/marvel" id="nav_marvel" >marvel</a></li>
									
									
									
									
									
									
										<li><a href="/products/graph" id="nav_graph" >graph</a></li>
									
									
									
									
									
									
										<li><a href="/products/hadoop" id="nav_hadoop" >hadoop</a></li>
									
									
									
									
									
									
										<li><a href="/downloads" id="nav_downloads" >downloads</a></li>
									
									
									
								</ul>
								
							
								<h3><a href="/cloud" id="nav_cloud" >Cloud</a></h3>
								
							
								<h3><a href="/subscriptions" id="nav_subscriptions" >Subscriptions</a></h3>
								
							
								<h3><a href="/learn" id="nav_learn" >Learn</a></h3>
								
								<ul>
									
									
									
									
										<li><a href="/guide" id="nav_guide" >docs</a></li>
									
									
									
									
									
									
										<li><a href="/videos" id="nav_videos" >videos</a></li>
									
									
									
									
									
									
										<li><a href="/training" id="nav_training" >training</a></li>
									
									
									
									
									
									
										<li><a href="/services" id="nav_services" >services</a></li>
									
									
									
									
									
									
										<li><a href="/blog" id="nav_learn_blog" >blog</a></li>
									
									
									
									
									
									
										<li><a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a></li>
									
									
									
								</ul>
								
							
								<h3><a href="/community" id="nav_community" >Community</a></h3>
								
								<ul>
									
									
									
									
										<li><a href="/community/meetups" id="nav_meetups" >meetups</a></li>
									
									
									
									
									
									
										<li><a href="https://discuss.elastic.co" id="nav_forums" target="_blank">forums</a></li>
									
									
									
									
									
									
										<li><a href="/community/codeofconduct" id="nav_codeofconduct" >code of conduct</a></li>
									
									
									
								</ul>
								
							
								<h3><a href="/use-cases" id="nav_usecases" >Use Cases</a></h3>
								
							
								<h3><a href="/blog" id="nav_blog" >Blog</a></h3>
								
								<ul>
									
									
									
									
										<li><a href="/blog/category/news" id="blog_news" >News</a></li>
									
									
									
									
									
									
										<li><a href="/blog/category/engineering" id="blog_engineering" >Engineering</a></li>
									
									
									
									
									
									
										<li><a href="/blog/category/user-stories" id="blog_user-stories" >User Stories</a></li>
									
									
									
									
									
									
										<li><a href="/blog/category/releases" id="blog_releases" >Releases</a></li>
									
									
									
									
									
									
										<li><a href="/blog/archive" id="blog_archive" >Archive</a></li>
									
									
									
								</ul>
								
							
								<h3><a href="/about" id="nav_about" >About</a></h3>
								
								<ul>
									
									
									
									
										<li><a href="/about/leadership" id="nav_leadership" >leadership</a></li>
									
									
									
									
									
									
										<li><a href="/about/board" id="nav_board" >board of directors</a></li>
									
									
									
									
									
									
										<li><a href="/about/careers" id="nav_careers" >careers</a></li>
									
									
									
									
									
									
										<li><a href="/about/partners" id="nav_partners" >partners</a></li>
									
									
									
									
									
									
										<li><a href="/about/press" id="nav_press" >press</a></li>
									
									
									
								</ul>
								
							
						</div>
					</div>
				</nav>
			<!-- </div> -->
		</div>
	</div>
</div>
<!-- Mobile Menu -->


		</div>
	</div>
</div>
<div class="header-search-wrapper">	
	<div class="container">
		<div class="big-search">
			<i class="big-search-icon"></i>
			<form method="get" action="/search" autocomplete="on" name="searchForm" id="searchfrm">
				<ul class="tags-wrapper">
					<li class="search-field"><input type="text" class="form-control global-input" id="autocomplete" name="q"></li>
				</ul>
			</form>
			<a href="#" class="header-search-cancel"></a>
		</div>
		<div class="nav-auto-complete"></div>
	</div>
</div>
<style>	
	
	
		.m-shortcuts li a.m-search {
			background: url("https://static-www.elastic.co/assets/blt174b13be89ff803c/m-search-icon.png?q=455") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
	
		.m-shortcuts li a.m-docs {
			background: url("https://static-www.elastic.co/assets/blt5ba03f594a7d610a/m-guide-icon.png?q=455") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
	
		.m-shortcuts li a.m-contact {
			background: url("https://static-www.elastic.co/assets/blt38c3e853c4b1174d/m-contact-icon.png?q=455") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
		
</style>
		</div>
	</div>
  	<div id="content">
  		
	  			
            <div id="pageheader">
    <div class="container">
        <header>
            <h1><a href="/learn" title="Learn">Learn</a> |</h1>
            <h2><a href="/guide" title="Docs">Docs</a></h2>
        </header>
    </div>
</div>
<section id="guide">

            <!-- start body -->
<div class="page_header"><b>PLEASE NOTE:</b>
<br/>
This page is for an older version of the software. Check out the <a href="../current/index.html">latest
version&#39;s documentation here</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Java API
      [1.6]
    </a></span> » <span class="breadcrumb-link"><a href="java-aggs.html">Aggregations</a></span> » <span class="breadcrumb-node">Metrics aggregations</span></div><div class="navheader"><span class="prev"><a href="_structuring_aggregations.html">
              « 
              Structuring aggregations</a>
           
        </span><span class="next">
           
          <a href="_bucket_aggregations.html">Bucket aggregations
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_metrics_aggregations"></a>Metrics aggregations<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggs.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-aggs-metrics-min"></a>Min Aggregation<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/min-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Here is how you can use
<a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.6/search-aggregations-metrics-min-aggregation.html" target="_top">Min Aggregation</a>
with Java API.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_prepare_aggregation_request"></a>Prepare aggregation request<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/min-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Here is an example on how to create the aggregation request:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">MetricsAggregationBuilder aggregation =
        AggregationBuilders
                .min("agg")
                .field("height");</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_use_aggregation_response"></a>Use aggregation response<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/min-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Import Aggregation definition classes:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">import org.elasticsearch.search.aggregations.metrics.min.Min;</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">// sr is here your SearchResponse object
Min agg = sr.getAggregations().get("agg");
double value = agg.getValue();</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-aggs-metrics-max"></a>Max Aggregation<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/max-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Here is how you can use
<a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.6/search-aggregations-metrics-max-aggregation.html" target="_top">Max Aggregation</a>
with Java API.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_prepare_aggregation_request_2"></a>Prepare aggregation request<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/max-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Here is an example on how to create the aggregation request:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">MetricsAggregationBuilder aggregation =
        AggregationBuilders
                .max("agg")
                .field("height");</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_use_aggregation_response_2"></a>Use aggregation response<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/max-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Import Aggregation definition classes:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">import org.elasticsearch.search.aggregations.metrics.max.Max;</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">// sr is here your SearchResponse object
Max agg = sr.getAggregations().get("agg");
double value = agg.getValue();</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-aggs-metrics-sum"></a>Sum Aggregation<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/sum-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Here is how you can use
<a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.6/search-aggregations-metrics-sum-aggregation.html" target="_top">Sum Aggregation</a>
with Java API.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_prepare_aggregation_request_3"></a>Prepare aggregation request<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/sum-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Here is an example on how to create the aggregation request:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">MetricsAggregationBuilder aggregation =
        AggregationBuilders
                .sum("agg")
                .field("height");</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_use_aggregation_response_3"></a>Use aggregation response<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/sum-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Import Aggregation definition classes:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">import org.elasticsearch.search.aggregations.metrics.sum.Sum;</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">// sr is here your SearchResponse object
Sum agg = sr.getAggregations().get("agg");
double value = agg.getValue();</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-aggs-metrics-avg"></a>Avg Aggregation<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/avg-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Here is how you can use
<a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.6/search-aggregations-metrics-avg-aggregation.html" target="_top">Avg Aggregation</a>
with Java API.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_prepare_aggregation_request_4"></a>Prepare aggregation request<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/avg-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Here is an example on how to create the aggregation request:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">MetricsAggregationBuilder aggregation =
        AggregationBuilders
                .avg("agg")
                .field("height");</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_use_aggregation_response_4"></a>Use aggregation response<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/avg-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Import Aggregation definition classes:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">import org.elasticsearch.search.aggregations.metrics.avg.Avg;</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">// sr is here your SearchResponse object
Avg agg = sr.getAggregations().get("agg");
double value = agg.getValue();</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-aggs-metrics-stats"></a>Stats Aggregation<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/stats-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Here is how you can use
<a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.6/search-aggregations-metrics-stats-aggregation.html" target="_top">Stats Aggregation</a>
with Java API.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_prepare_aggregation_request_5"></a>Prepare aggregation request<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/stats-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Here is an example on how to create the aggregation request:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">MetricsAggregationBuilder aggregation =
        AggregationBuilders
                .stats("agg")
                .field("height");</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_use_aggregation_response_5"></a>Use aggregation response<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/stats-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Import Aggregation definition classes:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">import org.elasticsearch.search.aggregations.metrics.stats.Stats;</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">// sr is here your SearchResponse object
Stats agg = sr.getAggregations().get("agg");
double min = agg.getMin();
double max = agg.getMax();
double avg = agg.getAvg();
double sum = agg.getSum();
long count = agg.getCount();</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-aggs-metrics-extendedstats"></a>Extended Stats Aggregation<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/extendedstats-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Here is how you can use
<a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.6/search-aggregations-metrics-extendedstats-aggregation.html" target="_top">Extended Stats Aggregation</a>
with Java API.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_prepare_aggregation_request_6"></a>Prepare aggregation request<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/extendedstats-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Here is an example on how to create the aggregation request:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">MetricsAggregationBuilder aggregation =
        AggregationBuilders
                .extendedStats("agg")
                .field("height");</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_use_aggregation_response_6"></a>Use aggregation response<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/extendedstats-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Import Aggregation definition classes:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">import org.elasticsearch.search.aggregations.metrics.stats.extended.ExtendedStats;</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">// sr is here your SearchResponse object
ExtendedStats agg = sr.getAggregations().get("agg");
double min = agg.getMin();
double max = agg.getMax();
double avg = agg.getAvg();
double sum = agg.getSum();
long count = agg.getCount();
double stdDeviation = agg.getStdDeviation();
double sumOfSquares = agg.getSumOfSquares();
double variance = agg.getVariance();</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-aggs-metrics-valuecount"></a>Value Count Aggregation<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/valuecount-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Here is how you can use
<a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.6/search-aggregations-metrics-valuecount-aggregation.html" target="_top">Value Count Aggregation</a>
with Java API.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_prepare_aggregation_request_7"></a>Prepare aggregation request<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/valuecount-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Here is an example on how to create the aggregation request:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">MetricsAggregationBuilder aggregation =
        AggregationBuilders
                .count("agg")
                .field("height");</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_use_aggregation_response_7"></a>Use aggregation response<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/valuecount-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Import Aggregation definition classes:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">import org.elasticsearch.search.aggregations.metrics.valuecount.ValueCount;</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">// sr is here your SearchResponse object
ValueCount agg = sr.getAggregations().get("agg");
long value = agg.getValue();</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-aggs-metrics-percentile"></a>Percentile Aggregation<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/percentile-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Here is how you can use
<a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.6/search-aggregations-metrics-percentile-aggregation.html" target="_top">Percentile Aggregation</a>
with Java API.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_prepare_aggregation_request_8"></a>Prepare aggregation request<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/percentile-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Here is an example on how to create the aggregation request:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">MetricsAggregationBuilder aggregation =
        AggregationBuilders
                .percentiles("agg")
                .field("height");</pre></div><p>You can provide your own percentiles instead of using defaults:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">MetricsAggregationBuilder aggregation =
        AggregationBuilders
                .percentiles("agg")
                .field("height")
                .percentiles(1.0, 5.0, 10.0, 20.0, 30.0, 75.0, 95.0, 99.0);</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_use_aggregation_response_8"></a>Use aggregation response<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/percentile-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Import Aggregation definition classes:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">import org.elasticsearch.search.aggregations.metrics.percentiles.Percentile;
import org.elasticsearch.search.aggregations.metrics.percentiles.Percentiles;</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">// sr is here your SearchResponse object
Percentiles agg = sr.getAggregations().get("agg");
// For each entry
for (Percentile entry : agg) {
    double percent = entry.getPercent();    // Percent
    double value = entry.getValue();        // Value

    logger.info("percent [{}], value [{}]", percent, value);
}</pre></div><p>This will basically produce for the first example:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-text">percent [1.0], value [0.814338896154595]
percent [5.0], value [0.8761912455821302]
percent [25.0], value [1.173346540141847]
percent [50.0], value [1.5432023318692198]
percent [75.0], value [1.923915462033674]
percent [95.0], value [2.2273644908535335]
percent [99.0], value [2.284989339108279]</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-aggs-metrics-percentile-rank"></a>Percentile Ranks Aggregation<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/percentile-rank-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Here is how you can use
<a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.6/search-aggregations-metrics-percentile-rank-aggregation.html" target="_top">Percentile Ranks Aggregation</a>
with Java API.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_prepare_aggregation_request_9"></a>Prepare aggregation request<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/percentile-rank-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Here is an example on how to create the aggregation request:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">MetricsAggregationBuilder aggregation =
        AggregationBuilders
                .percentileRanks("agg")
                .field("height")
                .percentiles(1.24, 1.91, 2.22);</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_use_aggregation_response_9"></a>Use aggregation response<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/percentile-rank-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Import Aggregation definition classes:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">import org.elasticsearch.search.aggregations.metrics.percentiles.Percentile;
import org.elasticsearch.search.aggregations.metrics.percentiles.PercentileRanks;</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">// sr is here your SearchResponse object
PercentileRanks agg = sr.getAggregations().get("agg");
// For each entry
for (Percentile entry : agg) {
    double percent = entry.getPercent();    // Percent
    double value = entry.getValue();        // Value

    logger.info("percent [{}], value [{}]", percent, value);
}</pre></div><p>This will basically produce:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-text">percent [29.664353095090945], value [1.24]
percent [73.9335313461868], value [1.91]
percent [94.40095147327283], value [2.22]</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-aggs-metrics-cardinality"></a>Cardinality Aggregation<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/cardinality-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Here is how you can use
<a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.6/search-aggregations-metrics-cardinality-aggregation.html" target="_top">Cardinality Aggregation</a>
with Java API.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_prepare_aggregation_request_10"></a>Prepare aggregation request<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/cardinality-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Here is an example on how to create the aggregation request:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">MetricsAggregationBuilder aggregation =
        AggregationBuilders
                .cardinality("agg")
                .field("tags");</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_use_aggregation_response_10"></a>Use aggregation response<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/cardinality-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Import Aggregation definition classes:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">import org.elasticsearch.search.aggregations.metrics.cardinality.Cardinality;</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">// sr is here your SearchResponse object
Cardinality agg = sr.getAggregations().get("agg");
long value = agg.getValue();</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-aggs-metrics-geobounds"></a>Cardinality Aggregation<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/geobounds-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Here is how you can use
<a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.6/search-aggregations-metrics-geobounds-aggregation.html" target="_top">Geo Bounds Aggregation</a>
with Java API.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_prepare_aggregation_request_11"></a>Prepare aggregation request<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/geobounds-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Here is an example on how to create the aggregation request:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">GeoBoundsBuilder aggregation =
        AggregationBuilders
                .geoBounds("agg")
                .field("address.location")
                .wrapLongitude(true);</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_use_aggregation_response_11"></a>Use aggregation response<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/geobounds-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Import Aggregation definition classes:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">import org.elasticsearch.search.aggregations.metrics.geobounds.GeoBounds;</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">// sr is here your SearchResponse object
GeoBounds agg = sr.getAggregations().get("agg");
GeoPoint bottomRight = agg.bottomRight();
GeoPoint topLeft = agg.topLeft();
logger.info("bottomRight {}, topLeft {}", bottomRight, topLeft);</pre></div><p>This will basically produce:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-text">bottomRight [40.70500764381921, 13.952946866893775], topLeft [53.49603022435221, -4.190029308156676]</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-aggs-metrics-tophits"></a>Top Hits Aggregation<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/tophits-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Here is how you can use
<a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.6/search-aggregations-metrics-top-hits-aggregation.html" target="_top">Top Hits Aggregation</a>
with Java API.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_prepare_aggregation_request_12"></a>Prepare aggregation request<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/tophits-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Here is an example on how to create the aggregation request:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">AggregationBuilder aggregation =
    AggregationBuilders
        .terms("agg").field("gender")
        .subAggregation(
            AggregationBuilders.topHits("top")
        );</pre></div><p>You can use most of the options available for standard search such as <code class="literal">from</code>, <code class="literal">size</code>, <code class="literal">sort</code>, <code class="literal">highlight</code>, <code class="literal">explain</code>…</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">AggregationBuilder aggregation =
    AggregationBuilders
        .terms("agg").field("gender")
        .subAggregation(
            AggregationBuilders.topHits("top")
                .setExplain(true)
                .setSize(1)
                .setFrom(10)
        );</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_use_aggregation_response_12"></a>Use aggregation response<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/tophits-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Import Aggregation definition classes:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">import org.elasticsearch.search.aggregations.bucket.terms.Terms;
import org.elasticsearch.search.aggregations.metrics.tophits.TopHits;</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">// sr is here your SearchResponse object
Terms agg = sr.getAggregations().get("agg");

// For each entry
for (Terms.Bucket entry : agg.getBuckets()) {
    String key = entry.getKey();                    // bucket key
    long docCount = entry.getDocCount();            // Doc count
    logger.info("key [{}], doc_count [{}]", key, docCount);

    // We ask for top_hits for each bucket
    TopHits topHits = entry.getAggregations().get("top");
    for (SearchHit hit : topHits.getHits().getHits()) {
        logger.info(" -&gt; id [{}], _source [{}]", hit.getId(), hit.getSourceAsString());
    }
}</pre></div><p>This will basically produce for the first example:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-text">key [male], doc_count [5107]
 -&gt; id [AUnzSZze9k7PKXtq04x2], _source [{"gender":"male",...}]
 -&gt; id [AUnzSZzj9k7PKXtq04x4], _source [{"gender":"male",...}]
 -&gt; id [AUnzSZzl9k7PKXtq04x5], _source [{"gender":"male",...}]
key [female], doc_count [4893]
 -&gt; id [AUnzSZzM9k7PKXtq04xy], _source [{"gender":"female",...}]
 -&gt; id [AUnzSZzp9k7PKXtq04x8], _source [{"gender":"female",...}]
 -&gt; id [AUnzSZ0W9k7PKXtq04yS], _source [{"gender":"female",...}]</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-aggs-metrics-scripted-metric"></a>Scripted Metric Aggregation<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/scripted-metric-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Here is how you can use
<a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.6/search-aggregations-metrics-scripted-metric-aggregation.html" target="_top">Scripted Metric Aggregation</a>
with Java API.</p><p>Don’t forget to add Groovy in your classpath if you want to run Groovy scripts in an embedded data node
(for unit tests for example).
For example, with Maven, add this dependency to your <code class="literal">pom.xml</code> file:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-xml">&lt;dependency&gt;
    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;
    &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;
    &lt;version&gt;2.3.2&lt;/version&gt;
    &lt;classifier&gt;indy&lt;/classifier&gt;
&lt;/dependency&gt;</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_prepare_aggregation_request_13"></a>Prepare aggregation request<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/scripted-metric-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Here is an example on how to create the aggregation request:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">MetricsAggregationBuilder aggregation =
        AggregationBuilders
                .scriptedMetric("agg")
                .initScript("_agg['heights'] = []")
                .mapScript("if (doc['gender'].value == \"male\") " +
                        "{ _agg.heights.add(doc['height'].value) } " +
                        "else " +
                        "{ _agg.heights.add(-1 * doc['height'].value) }");</pre></div><p>You can also specify a <code class="literal">combine</code> script which will be executed on each shard:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">MetricsAggregationBuilder aggregation =
        AggregationBuilders
                .scriptedMetric("agg")
                .initScript("_agg['heights'] = []")
                .mapScript("if (doc['gender'].value == \"male\") " +
                        "{ _agg.heights.add(doc['height'].value) } " +
                        "else " +
                        "{ _agg.heights.add(-1 * doc['height'].value) }")
                .combineScript("heights_sum = 0; for (t in _agg.heights) { heights_sum += t }; return heights_sum");</pre></div><p>You can also specify a <code class="literal">reduce</code> script which will be executed on the node which gets the request:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">MetricsAggregationBuilder aggregation =
        AggregationBuilders
                .scriptedMetric("agg")
                .initScript("_agg['heights'] = []")
                .mapScript("if (doc['gender'].value == \"male\") " +
                        "{ _agg.heights.add(doc['height'].value) } " +
                        "else " +
                        "{ _agg.heights.add(-1 * doc['height'].value) }")
                .combineScript("heights_sum = 0; for (t in _agg.heights) { heights_sum += t }; return heights_sum")
                .reduceScript("heights_sum = 0; for (a in _aggs) { heights_sum += a }; return heights_sum");</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_use_aggregation_response_13"></a>Use aggregation response<a href="https://github.com/elastic/elasticsearch/edit/1.6/docs/java-api/aggregations/metrics/scripted-metric-aggregation.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Import Aggregation definition classes:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">import org.elasticsearch.search.aggregations.bucket.terms.Terms;
import org.elasticsearch.search.aggregations.metrics.tophits.TopHits;</pre></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">// sr is here your SearchResponse object
ScriptedMetric agg = sr.getAggregations().get("agg");
Object scriptedResult = agg.aggregation();
logger.info("scriptedResult [{}]", scriptedResult);</pre></div><p>Note that the result depends on the script you built.
For the first example, this will basically produce:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-text">scriptedResult object [ArrayList]
scriptedResult [ {
"heights" : [ 1.122218480146643, -1.8148918111233887, -1.7626731575142909, ... ]
}, {
"heights" : [ -0.8046067304119863, -2.0785486707864553, -1.9183567430207953, ... ]
}, {
"heights" : [ 2.092635728868694, 1.5697545960886536, 1.8826954461968808, ... ]
}, {
"heights" : [ -2.1863201099468403, 1.6328549117346856, -1.7078288405893842, ... ]
}, {
"heights" : [ 1.6043904836424177, -2.0736538674414025, 0.9898266674373053, ... ]
} ]</pre></div><p>The second example will produce:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-text">scriptedResult object [ArrayList]
scriptedResult [-41.279615707402876,
                -60.88007362339038,
                38.823270659734256,
                14.840192739445632,
                11.300902755741326]</pre></div><p>The last example will produce:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-text">scriptedResult object [Double]
scriptedResult [2.171917696507009]</pre></div></div></div></div><div class="navfooter"><span class="prev"><a href="_structuring_aggregations.html">
              « 
              Structuring aggregations</a>
           
        </span><span class="next">
           
          <a href="_bucket_aggregations.html">Bucket aggregations
               »
            </a></span></div>
<!-- end body -->

            </section>

            <div id="rtpcontainer"
        >
	<h3>Top Videos</h3>
	<ul class="lists">
		<li><a href="https://www.elastic.co/webinars/elasticsearch-2-0-overview?baymax=default&elektra=docs&storm=top-video">Getting Started</a></li>
		<li><a href="http://www.elastic.co/webinars/elasticsearch-performance-optimization-tale-two-tickets/?elektra=docs">Scaling</a></li>
		<li><a href="http://www.elastic.co/webinars/shield-securing-your-data-in-elasticsearch/?elektra=docs">Security</a></li>
	</ul>
</div>


	  	



<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
	<!-- subscribe-newsletter -->
	<div id="subscribe-newsletter">
		<div class="container">
			<div class="row">
				<div class="12u">
					<div class="subscribe-wrapper" id="rtp-newsletter">
						<header>
							<h3>Subscribe to our newsletter</h3>
						</header>
						<div class="subscribe-form">
							<form id="mktoForm_1398" class="container sb-form"></form>
							<div class="form_thanks hide">
								
									<p>Thanks for subscribing! We'll keep you updated with new releases.</p>
								
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

  	<!-- Footer -->
	<div id="footer-wrapper">
		<section id="footer" class="container">
			<div class="row">
				<div class="12u">
					<!-- Copyright -->
					<div id="copyright">
	<p>
		© 2016. All Rights Reserved - Elasticsearch
	</p>
	<ul class="links">
		<li>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries</li>
		<li><a href="/legal/trademarks" id="footer_trademarks">Trademarks</a></li>
		<li><a href="/legal/terms-of-use" id="footer_terms">Terms</a></li>
		<li><a href="/legal/privacy-policy" id="footer_privacy">Privacy</a></li>
<li><a href="/brand" id="footer_brand">Brand</a></li>
	</ul>
	<p>
		Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other&nbsp;countries.
	</p>
</div>
<!--<div class="row">
{replace4}
</div>-->
				</div>
			</div>
		</section>
	</div>

	<!-- Social Media -->
	<div id="socialmedia-wrapper">
		<section id="socialmedia" class="container">
			<!-- social icons -->
			<div id="social">
				<ul class="links">
					
						<li class="facebook grayscale"><a href="http://www.facebook.com/elastic.co" target="_blank" id="footer_facebook"></a></li>
					
						<li class="twitter grayscale"><a href="https://www.twitter.com/elastic" target="_blank" id="footer_twitter"></a></li>
					
						<li class="linkedin grayscale"><a href="https://www.linkedin.com/company/elastic-co" target="_blank" id="footer_linkedin"></a></li>
					
						<li class="xing grayscale"><a href="https://www.xing.com/companies/elastic.co" target="_blank" id="footer_xing"></a></li>
					
						<li class="youtube grayscale"><a href="https://www.youtube.com/user/elasticsearch" target="_blank" id="footer_youtube"></a></li>
					
				</ul>
			</div>
		</section>
	</div>

<style type="text/css">
	
		.facebook{background:url("https://static-www.elastic.co/assets/bltda40eebd7c7cae9a/facebook.svg?q=455") no-repeat;}
	
		.twitter{background:url("https://static-www.elastic.co/assets/bltfd3b1511512f4632/twitter.svg?q=455") no-repeat;}
	
		.linkedin{background:url("https://static-www.elastic.co/assets/blt6b4f6f8d6b96f814/linkedin.svg?q=455") no-repeat;}
	
		.xing{background:url("https://static-www.elastic.co/assets/blta76b2ae2b2f10a98/xing.svg?q=455") no-repeat;}
	
		.youtube{background:url("https://static-www.elastic.co/assets/blt5761648c9581fb53/youtube.svg?q=455") no-repeat;}
	
</style>

<script>
MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", 1398,function(form){
	form.onSuccess(function(form){
		$('#mktoForm_1398').css('display','none');
		$('#subscribe-newsletter header').hide();
		$('#mktoForm_1398').siblings('.form_thanks').removeClass('hide')
		dataLayer.push({'event': 'mktoFormSubmit'});
	    return false;
  	});
});
</script>


  	</div>
  	<!-- <div class="preloader">
    	<div class="status"></div>
	</div> -->
  	<style></style>
   	<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";	
</script>
<script src="https://static-www.elastic.co/static/js/jquery.autocomplete.js?q=455"></script>
<script src="https://static-www.elastic.co/static/js/script.js?q=455"></script>


   	

   	

            <script type="text/javascript" src="docs.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script type='text/javascript' src='https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js'></script>

            </body>
        
