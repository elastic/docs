<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Changing the application’s code
        | Java REST Client [master]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Java REST Client [master]" /><link rel="up" href="java-rest-high-level-migration.html" title="Migration Guide" /><link rel="prev" href="_changing_the_client_8217_s_initialization_code.html" title="Changing the client’s initialization code" /><link rel="next" href="_provide_feedback.html" title="Provide feedback" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Clients/JavaREST/master" />
    <!-- RTP tag -->
    <script type='text/javascript' async>
    (function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);})(window,document,"rtp","//sjrtp2-cdn.marketo.com/rtp-api/v1/rtp.js","elasticco");

    rtp('send','view');
    rtp('get', 'campaign',true);
    </script> 
    <!-- End of RTP tag -->
    

    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
<meta name="apple-mobile-web-app-title" content="Elastic">
<meta name="application-name" content="Elastic">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">
<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >



	



<!-- end DC tags -->


	<meta name="description" content="" />



	<meta name="localized" content="false" />


















		
			<meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
		

		

    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">

	   

    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    
    

    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // ---------------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
        locales = {
          '/en/': '/',
          '/de/': '/de/',
          '/fr/': '/fr/',
          '/ja/':'/jp/',
          '/ko/':'/kr/',
          '/zh/':'/cn/'
        }
        localepages = ['/','/de/','/fr/','/jp/','/kr/','/cn/','/products','/de/products','/fr/products','/jp/products','/kr/products','/cn/products'],
        locationpath = window.location.pathname,
        localeUrl = '{"relative_url_prefix":"/","code":"en-us","url":"/guide_template"}',
        currentlocale = JSON.parse(localeUrl);
    
      if(localepages.indexOf(locationpath) != -1){
        if($.cookie("c_lang")){
          if($.cookie("c_lang") != currentlocale.relative_url_prefix){
            var cookieurl = $.cookie("c_lang") + currentlocale.url.slice(1,currentlocale.url.length);
            window.location = cookieurl;
          }
        }
        else{
          var locale_lang = "/";
          if(locales[lang] != undefined){
            locale_lang = locales[lang];
          }
          $.cookie("c_lang",locale_lang ,{ expires: 365, path: '/'}); 
          window.location = localepages[localepages.indexOf(locationpath)];
        }
      }
      
      // --------------------- end of set language based on browser language -----------------
      </script>


	
	<link type="text/css" rel="stylesheet" href="/static/css/guide.css" />


  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
  <body >
  	<!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
                              height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- begin olark code -->
    <script data-cfasync="false" type='text/javascript'>/*<![CDATA[*/window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){
    f[z]=function(){
    (a.s=a.s||[]).push(arguments)};var a=f[z]._={
    },q=c.methods.length;while(q--){(function(n){f[z][n]=function(){
    f[z]("call",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={
    0:+new Date};a.P=function(u){
    a.p[u]=new Date-a.p[0]};function s(){
    a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){
    hd="head";return["<",hd,"></",hd,"><",i,' onl' + 'oad="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){
    return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){
    b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{
    b.contentWindow[g].open()}catch(w){
    c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{
    var t=b.contentWindow[g];t.write(p());t.close()}catch(x){
    b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({
    loader: "static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});
    /* custom configuration goes here (www.olark.com/documentation) */
    olark.identify('1356-750-10-5709');/*]]>*/</script><noscript><a href="https://www.olark.com/site/1356-750-10-5709/contact" title="Contact us">Questions? Feedback?</a> powered by <a href="http://www.olark.com?welcome" title="Olark live chat software">Olark live chat software</a></noscript>
    <!-- end olark code -->

    <script> 
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ 
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), 
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) 
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); 
      ga('create', 'UA-12395217-16', 'auto'); 
      ga('send', 'pageview'); 
    </script>

    <!-- Header Section -->
    
<header class="header-wrapper">
  


  




<div class="navigation-wrapper">
  <div class="container">
    <nav class="navbar">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-mobile-header navbar-header mr-20 mr-xs-0">
      <div class="row hidden-sm hidden-md hidden-lg">
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg">
          <div class="navbar-mobile-header-icon navbar-mobile-header-icon-out">
            <span></span>
            <span></span>
            <span></span>
          </div>
          
        </div>
        <div class="col-xs-2 text-center">
          <div class="navbar-brand" id="elastic">
            <h1>
              <a class="logo-m hidden-sm hidden-md hidden-lg" href="/">
                <img src="/assets/bltd5ac38b4549d53de/elastic-logo-mobile (1).svg" alt="elastic-logo-mobile">
              </a>
            </h1>
          </div>
        </div>
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg text-right">
          <ul class="menu-m hidden-sm hidden-md hidden-lg">
            <li class=""><a class="icon-contact" href="/contact"></a></li>
            <li id="searchbar"><a class="button icon" href="#"></a></li>
            <li class="lang global-language">
                
                  
                    <a href="#">EN</a>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              <ul class="language-list">
                
                  
                    
                  
                <li><a href="/" data-value="/" id="locale-select">English</a></li>
                
                  
                    
                  
                <li><a href="/fr/" data-value="/fr/" id="locale-select">Français</a></li>
                
                  
                    
                  
                <li><a href="/de/" data-value="/de/" id="locale-select">Deutsch</a></li>
                
                  
                    
                  
                <li><a href="/jp/" data-value="/jp/" id="locale-select">日本語</a></li>
                
                  
                    
                  
                <li><a href="/kr/" data-value="/kr/" id="locale-select">한국어</a></li>
                
                  
                    
                  
                <li><a href="/cn/" data-value="/cn/" id="locale-select">简体中文</a></li>
                
              </ul>
            </li>
          </ul>
        </div>
      </div>

      <div class="navbar-brand hidden-xs" id="elastic">
        <h1>
          <a class="hidden-xs" id="elastic-logo" href="/">
            <img src="/assets/blt6050efb80ceabd47/elastic-logo (2).svg" alt="elastic-logo">
          </a>
        </h1>
      </div>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse mobile-inner-nav">
      <nav class="nav navbar-nav primary-nav-hover" id="nav">
        <ul>
        
          
            
              
            
            <li>
              <a id="nav_products" class=" " href="/products">Products</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_cloud" class=" " href="/cloud">Cloud</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_services" class=" " href="/services">Services</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_customers" class=" " href="/use-cases">Customers</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_learn" class=" " href="/learn">Learn</a>
            </li>
          
        
          
        
        </ul>
      </nav>
      <nav class="nav navbar-nav navbar-right hidden-xs">
        <ul>
          <li class="hidden-xs hidden-sm"><a href="/downloads">downloads</a></li>
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-download" href="/downloads"></a></li>
          <!-- To set parameters to contact button -->
          
           
            
          

          
            
            
          
          <li class="hidden-xs hidden-sm"><a class="btn btn-secondary btn-contact" href="/contact?storm=global-header-en">contact</a></li>
          <!-- ////////////////ends here///////////////-->          
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-contact" href="/contact?storm=global-header-en"></a></li>
          <li class="hidden-xs" id="searchbar"><a class="button icon" href="#"></a></li>
          <li class="hidden-xs lang global-language">
                
                  
                    <a href="#">EN</a>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
               <ul class="language-list">
              
                
                  
                
              <li><a class="" href="/" data-value="/">English</a></li>
              
                
                  
                
              <li><a class="" href="/fr/" data-value="/fr/">Français</a></li>
              
                
                  
                
              <li><a class="" href="/de/" data-value="/de/">Deutsch</a></li>
              
                
                  
                
              <li><a class="" href="/jp/" data-value="/jp/">日本語</a></li>
              
                
                  
                
              <li><a class="" href="/kr/" data-value="/kr/">한국어</a></li>
              
                
                  
                
              <li><a class="" href="/cn/" data-value="/cn/">简体中文</a></li>
              
            </ul>
          </li>
        </ul>
      </nav>
    </div><!-- /.navbar-collapse -->
  </nav>
  </div>
</div>

<div class="header-search-wrapper open-search"> 
  <div class="container">
    <div class="big-search">
      <i class="big-search-icon"></i>
      <form id="searchfrm" name="searchForm" autocomplete="on" action="/search" method="get">
        <ul class="tags-wrapper">
          <li class="search-field"><input type="text" name="q" id="autocomplete" class="form-control global-input" autocomplete="off"></li>
        </ul>
      </form>
      <a class="header-search-cancel" href="#"></a>
    </div>
    <div class="nav-auto-complete"></div>
  </div>
</div>
</header>
<link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">
<style> 
    
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
    
</style>
<script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>
<script type="text/javascript">
  $(document).ready( function(){
    // if($('#scrollable-pane li').length > 3){
      $('.horizon-swiper').horizonSwiper({
        showItems: 3,
        arrows: true
      }); 
    // }
    
    $('.navbar-toggle').on('click', function(){
      $('.mobile-navigation, .menu-open').hide();
      $('.navigation-wrapper').addClass('mobile-navigation');
      $('.navbar').addClass('menu-open');
      $('.menu-close').show();
    });
    $('.menu-close').on('click', function(){
      $('.navigation-wrapper').removeClass('mobile-navigation');
      $('.navbar').removeClass('menu-open');
      $('.menu-close').hide();
    });

    var active_url = "";

    $(".navbar-mobile-header-icon").click(function(index){
      $('.navigation-wrapper').toggleClass('menu-overlay');
      $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
      $(".mobile-inner-nav").slideToggle(500);
      $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
        $(this).css({'animation-delay': (index/25)+'0.4s'});
      });
    });

    $('.dropdown-btn').on('click', function(e){
      e.preventDefault();
      setDropdown();
    });
    
    function setDropdown() {
      $('#myDropdown').slideToggle();
    }

    $('body').on('click', function(event){
      if (!event.target.matches('.dropdown-btn')) {

        var dropdowns = $(".dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    });

    // if($(window).width() < 769){
    //   var $item = $('.scrollable-panel li'), 
    //       visible = 3, //Set the number of items that will be visible
    //       index = 0, //Starting index
    //       endIndex = ( $item.length / visible ) - 1; //End index (NOTE:: Requires visible to be a factor of $item.length... You can improve this by rounding...)

    //   $('#right-arrow').click(function(){
    //     if(index < endIndex ){
    //       index++;
    //       $item.animate({'left':'-=300px'});
    //     }
    //   });

    //   $('#left-arrow').click(function(){
    //     if(index > 0){
    //       index--;            
    //       $item.animate({'left':'+=300px'});
    //     }
    //   });
    // }
  });
  $(window).resize(function () {
    $('.horizon-swiper').horizonSwiper({
      showItems: 3,
      arrows: true
    });
  });
</script>
    
      


  





  
  
  
  
    <div class="tertiary-nav">
      <div class="container">
        <div class="p-t-b-15 bdr-btm-e0e0e0 clearfix">
          <div class="breadcrum-wrapper pull-left text-left">
          
            <a href="/guide">Docs</a> 
          
          </div>
          
          
          
        </div>
      </div>
    </div>

    <div class="nav-mobile-dropdown hidden-sm hidden-md hidden-lg bdr-btm-e0e0e0 clearfix">
      <div class="container text-right">
        <div class="breadcrum-wrapper pull-left text-left">
          
              <a href="/guide">Docs</a>
          
        </div>
        
        
      </div>
    </div>
  


<style type="text/css">

  
</style>
    
    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   
          
            
        			<!-- <div class="pageheader">
	<div class="common-container">
		
			<h2 class="page-title">Guide template</h2>
		
	</div>
</div> -->


        		
          

          
	<section id="guide" lang="en">
		<div class="container">
			<div class="row">
			  <!-- start body -->
				
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Java REST Client
      [master]
    </a></span> » <span class="breadcrumb-link"><a href="java-rest-high.html">Java High Level REST Client</a></span> » <span class="breadcrumb-link"><a href="java-rest-high-level-migration.html">Migration Guide</a></span> » <span class="breadcrumb-node">Changing the application’s code</span></div><div class="navheader"><span class="prev"><a href="_changing_the_client_8217_s_initialization_code.html">
              « 
              Changing the client’s initialization code</a>
           
        </span><span class="next">
           
          <a href="_provide_feedback.html">Provide feedback
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_changing_the_application_8217_s_code"></a>Changing the application’s code<a href="https://github.com/elastic/elasticsearch/edit/master/docs/java-rest/high-level/migration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>The <code class="literal">RestHighLevelClient</code> supports the same request and response objects
as the <code class="literal">TransportClient</code>, but exposes slightly different methods to
send the requests.</p><p>More importantly, the high-level client:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
does not support request builders. The legacy methods like
<code class="literal">client.prepareIndex()</code> must be changed to use
 request constructors like <code class="literal">new IndexRequest()</code> to create requests
 objects. The requests are then executed using synchronous or
 asynchronous dedicated methods like <code class="literal">client.index()</code> or <code class="literal">client.indexAsync()</code>.
</li><li class="listitem">
does not provide indices or cluster management APIs. Management
operations can be executed by external scripts or
<a class="link" href="_changing_the_application_8217_s_code.html#java-rest-high-level-migration-manage-indices" title="Manage Indices using the Low-Level REST Client">using the low-level client</a>.
</li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_how_to_migrate_the_way_requests_are_built"></a>How to migrate the way requests are built<a href="https://github.com/elastic/elasticsearch/edit/master/docs/java-rest/high-level/migration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The Java API provides two ways to build a request: by using the request’s constructor or by using
a request builder. Migrating from the <code class="literal">TransportClient</code> to the high-level client can be
straightforward if application’s code uses the former, while changing usages of the latter can
require more work.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="java-rest-high-level-migration-request-ctor"></a>With request constructors<a href="https://github.com/elastic/elasticsearch/edit/master/docs/java-rest/high-level/migration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>When request constructors are used, like in the following example:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">IndexRequest request = new IndexRequest("index", "doc", "id"); <a id="CO161-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
request.source("{\"field\":\"value\"}", XContentType.JSON);</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO161-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Create an <code class="literal">IndexRequest</code> using its constructor
</p></td></tr></table></div><p>The migration is very simple. The execution using the <code class="literal">TransportClient</code>:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">IndexResponse response = transportClient.index(indexRequest).actionGet();</pre></div><p>Can be easily replaced to use the <code class="literal">RestHighLevelClient</code>:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">IndexResponse response = client.index(request);</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="java-rest-high-level-migration-request-builder"></a>With request builders<a href="https://github.com/elastic/elasticsearch/edit/master/docs/java-rest/high-level/migration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The Java API provides a request builder for every type of request. They are exposed by the
<code class="literal">TransportClient</code> through the many <code class="literal">prepare()</code> methods. Here are some examples:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">IndexRequestBuilder indexRequestBuilder   = transportClient.prepareIndex();  // <a id="CO162-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
DeleteRequestBuilder deleteRequestBuilder = transportClient.prepareDelete(); // <a id="CO162-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
SearchRequestBuilder searchRequestBuilder = transportClient.prepareSearch(); // <a id="CO162-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO162-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Create a <code class="literal">IndexRequestBuilder</code> using the <code class="literal">prepareIndex()</code> method from the <code class="literal">TransportClient</code>. The
request builder encapsulates the <code class="literal">IndexRequest</code> to be executed.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO162-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Create a <code class="literal">DeleteRequestBuilder</code> using the <code class="literal">prepareDelete()</code> method from the <code class="literal">TransportClient</code>. The
request builder encapsulates the <code class="literal">DeleteRequest</code> to be executed.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO162-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Create a <code class="literal">SearchRequestBuilder</code> using the <code class="literal">prepareSearch()</code> method from the <code class="literal">TransportClient</code>. The
request builder encapsulates the <code class="literal">SearchRequest</code> to be executed.
</p></td></tr></table></div><p>Since the Java High Level REST Client does not support request builders, applications that use
them must be changed to use <a class="link" href="_changing_the_application_8217_s_code.html#java-rest-high-level-migration-request-ctor" title="With request constructors">requests constructors</a> instead.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>While you are incrementally migrating your application and you have both the transport client
and the high level client available you can always get the <code class="literal">Request</code> object from the <code class="literal">Builder</code> object
by calling <code class="literal">Builder.request()</code>. We do not advise continuing to depend on the builders in the long run
but it should be possible to use them during the transition from the transport client to the high
level rest client.</p></div></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_how_to_migrate_the_way_requests_are_executed"></a>How to migrate the way requests are executed<a href="https://github.com/elastic/elasticsearch/edit/master/docs/java-rest/high-level/migration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The <code class="literal">TransportClient</code> allows to execute requests in both synchronous and asynchronous ways. This is also
possible using the high-level client.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_synchronous_execution"></a>Synchronous execution<a href="https://github.com/elastic/elasticsearch/edit/master/docs/java-rest/high-level/migration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The following example shows how a <code class="literal">DeleteRequest</code> can be synchronously executed using the <code class="literal">TransportClient</code>:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">DeleteRequest request = new DeleteRequest("index", "doc", "id"); // <a id="CO163-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
DeleteResponse response = transportClient.delete(request).actionGet(); // <a id="CO163-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO163-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Create the <code class="literal">DeleteRequest</code> using its constructor
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO163-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Execute the <code class="literal">DeleteRequest</code>. The <code class="literal">actionGet()</code> method blocks until a
response is returned by the cluster.
</p></td></tr></table></div><p>The same request synchronously executed using the high-level client is:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">DeleteRequest request = new DeleteRequest("index", "doc", "id");
DeleteResponse response = client.delete(request); <a id="CO164-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO164-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Execute the <code class="literal">DeleteRequest</code>. The <code class="literal">delete()</code> method blocks until a
response is returned by the cluster.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_asynchronous_execution"></a>Asynchronous execution<a href="https://github.com/elastic/elasticsearch/edit/master/docs/java-rest/high-level/migration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The following example shows how a <code class="literal">DeleteRequest</code> can be asynchronously executed using the <code class="literal">TransportClient</code>:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">DeleteRequest request = new DeleteRequest("index", "doc", "id"); // <a id="CO165-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
transportClient.delete(request, new ActionListener&lt;DeleteResponse&gt;() { // <a id="CO165-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
    @Override
    public void onResponse(DeleteResponse deleteResponse) {
        // <a id="CO165-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
    }

    @Override
    public void onFailure(Exception e) {
        // <a id="CO165-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
    }
});</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO165-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Create the <code class="literal">DeleteRequest</code> using its constructor
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO165-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Execute the <code class="literal">DeleteRequest</code> by passing the request and a
<code class="literal">ActionListener</code> that gets called on execution completion or
failure. This method does not block and returns immediately.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO165-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">onResponse()</code> method is called when the response is
returned by the cluster.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO165-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">onFailure()</code> method is called when an error occurs
during the execution of the request.
</p></td></tr></table></div><p>The same request asynchronously executed using the high-level client is:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">DeleteRequest request = new DeleteRequest("index", "doc", "id"); <a id="CO166-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
client.deleteAsync(request, new ActionListener&lt;DeleteResponse&gt;() { <a id="CO166-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
    @Override
    public void onResponse(DeleteResponse deleteResponse) {
        <a id="CO166-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
    }

    @Override
    public void onFailure(Exception e) {
        <a id="CO166-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
    }
});</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO166-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Create the <code class="literal">DeleteRequest</code> using its constructor
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO166-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Execute the <code class="literal">DeleteRequest</code> by passing the request and a
<code class="literal">ActionListener</code> that gets called on execution completion or
failure. This method does not block and returns immediately.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO166-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">onResponse()</code> method is called when the response is
returned by the cluster.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO166-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">onFailure()</code> method is called when an error occurs
during the execution of the request.
</p></td></tr></table></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-rest-high-level-migration-manage-indices"></a>Manage Indices using the Low-Level REST Client<a href="https://github.com/elastic/elasticsearch/edit/master/docs/java-rest/high-level/migration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The low-level client is able to execute any kind of HTTP requests, and can
therefore be used to call the APIs that are not yet supported by the high level client.</p><p>For example, creating a new index with the <code class="literal">TransportClient</code> may look like this:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">Settings settings = Settings.builder() // <a id="CO167-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
                                .put(SETTING_NUMBER_OF_SHARDS, 1)
                                .put(SETTING_NUMBER_OF_REPLICAS, 0)
                                .build();

String mappings = XContentFactory.jsonBuilder()  // <a id="CO167-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
                                .startObject()
                                    .startObject("doc")
                                        .startObject("properties")
                                            .startObject("time")
                                                .field("type", "date")
                                            .endObject()
                                        .endObject()
                                    .endObject()
                                .endObject()
                                .string();

CreateIndexResponse response = transportClient.admin().indices()  // <a id="CO167-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
        .prepareCreate("my-index")
        .setSettings(indexSettings)
        .addMapping("doc", docMapping, XContentType.JSON)
        .get();

if (response.isAcknowledged() == false) {
    // <a id="CO167-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO167-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Define the settings of the index
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO167-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Define the mapping for document of type <code class="literal">doc</code> using a
<code class="literal">XContentBuilder</code>
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO167-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Create the index with the previous settings and mapping
using the <code class="literal">prepareCreate()</code> method. The execution is synchronous
and blocks on the <code class="literal">get()</code> method until the remote cluster returns
a response.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO167-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Handle the situation where the index has not been created
</p></td></tr></table></div><p>The same operation executed with the low-level client could be:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">Settings indexSettings = Settings.builder() <a id="CO168-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
        .put(SETTING_NUMBER_OF_SHARDS, 1)
        .put(SETTING_NUMBER_OF_REPLICAS, 0)
        .build();

String payload = XContentFactory.jsonBuilder() <a id="CO168-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
        .startObject()
            .startObject("settings") <a id="CO168-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
                .value(indexSettings)
            .endObject()
            .startObject("mappings")  <a id="CO168-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
                .startObject("doc")
                    .startObject("properties")
                        .startObject("time")
                            .field("type", "date")
                        .endObject()
                    .endObject()
                .endObject()
            .endObject()
        .endObject().string();

HttpEntity entity = new NStringEntity(payload, ContentType.APPLICATION_JSON); <a id="CO168-5"></a><span><img src="images/icons/callouts/5.png" alt="" /></span>

Response response = client.getLowLevelClient().performRequest("PUT", "my-index", emptyMap(), entity); <a id="CO168-6"></a><span><img src="images/icons/callouts/6.png" alt="" /></span>
if (response.getStatusLine().getStatusCode() != HttpStatus.SC_OK) {
    <a id="CO168-7"></a><span><img src="images/icons/callouts/7.png" alt="" /></span>
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO168-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Define the settings of the index
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO168-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Define the body of the HTTP request using a <code class="literal">XContentBuilder</code> with JSON format
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO168-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Include the settings in the request body
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO168-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Include the mappings in the request body
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO168-5"><span><img src="images/icons/callouts/5.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Convert the request body from <code class="literal">String</code> to a <code class="literal">HttpEntity</code> and
set its content type (here, JSON)
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO168-6"><span><img src="images/icons/callouts/6.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Execute the request using the low-level client. The execution is synchronous
and blocks on the <code class="literal">performRequest()</code> method until the remote cluster returns
a response. The low-level client can be retrieved from an existing <code class="literal">RestHighLevelClient</code>
instance through the <code class="literal">getLowLevelClient</code> getter method.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO168-7"><span><img src="images/icons/callouts/7.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Handle the situation where the index has not been created
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="java-rest-high-level-migration-cluster-health"></a>Checking Cluster Health using the Low-Level REST Client<a href="https://github.com/elastic/elasticsearch/edit/master/docs/java-rest/high-level/migration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Another common need is to check the cluster’s health using the Cluster API. With
the <code class="literal">TransportClient</code> it can be done this way:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">ClusterHealthResponse response = client.admin().cluster().prepareHealth().get(); // <a id="CO169-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>

ClusterHealthStatus healthStatus = response.getStatus(); // <a id="CO169-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
if (healthStatus != ClusterHealthStatus.GREEN) {
    // <a id="CO169-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO169-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Execute a <code class="literal">ClusterHealth</code> with default parameters
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO169-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Retrieve the cluster’s health status from the response
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO169-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Handle the situation where the cluster’s health is not green
</p></td></tr></table></div><p>With the low-level client, the code can be changed to:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">Map&lt;String, String&gt; parameters = singletonMap("wait_for_status", "green");
Response response = client.getLowLevelClient().performRequest("GET", "/_cluster/health", parameters); <a id="CO170-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>

ClusterHealthStatus healthStatus;
try (InputStream is = response.getEntity().getContent()) { <a id="CO170-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
    Map&lt;String, Object&gt; map = XContentHelper.convertToMap(XContentType.JSON.xContent(), is, true); <a id="CO170-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
    healthStatus = ClusterHealthStatus.fromString((String) map.get("status")); <a id="CO170-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
}

if (healthStatus == ClusterHealthStatus.GREEN) {
    <a id="CO170-5"></a><span><img src="images/icons/callouts/5.png" alt="" /></span>
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO170-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Call the cluster’s health REST endpoint and wait for the cluster health to become green,
then get back a <code class="literal">Response</code> object.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO170-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Retrieve an <code class="literal">InputStream</code> object in order to read the response’s content
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO170-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Parse the response’s content using Elasticsearch’s helper class <code class="literal">XContentHelper</code>. This
 helper requires the content type of the response to be passed as an argument and returns
 a <code class="literal">Map</code> of objects. Values in the map can be of any type, including inner <code class="literal">Map</code> that are
 used to represent the JSON object hierarchy.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO170-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Retrieve the value of the <code class="literal">status</code> field in the response map, casts it as a a <code class="literal">String</code>
object and use the <code class="literal">ClusterHealthStatus.fromString()</code> method to convert it as a <code class="literal">ClusterHealthStatus</code>
object. This method throws an exception if the value does not corresponds to a valid cluster
health status.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO170-5"><span><img src="images/icons/callouts/5.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Handle the situation where the cluster’s health is not green
</p></td></tr></table></div><p>Note that for convenience this example uses Elasticsearch’s helpers to parse the JSON response
body, but any other JSON parser could have been use instead.</p></div></div><div class="navfooter"><span class="prev"><a href="_changing_the_client_8217_s_initialization_code.html">
              « 
              Changing the client’s initialization code</a>
           
        </span><span class="next">
           
          <a href="_provide_feedback.html">Provide feedback
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
					<div id="rtpcontainer" style="display: block;">
						<div class="mktg-promo">
						<h3>Getting Started Videos</h3>
						<ul class="icons">
							<li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
							<li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
							<li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
						</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

        </div>
      	


<div id="footer-subscribe" class="home-footer-subscribe">
  <div class="subscribe-wrapper">
    <div class="container">
      <div class="subscribe-form-container">
        <div class="subscribe-title col-md-12 col-lg-6">
            <h5>Be in the know with the latest and greatest from Elastic.</h5>
        </div>
        <div class="subscribe-form col-md-12 col-lg-6">
          <form id="mktoForm_1398" class="mktoForm sb-form"></form>
        </div>
      </div>
      <div class="form_thanks hide">
        
          <p>Thanks for subscribing! We'll keep you updated with new releases.</p>
        
      </div>
    </div>
  </div>
</div>
<!--subscribe newsletter end-->

<!-- Footer Section -->
<footer class="footer-wrapper">
  <div class="container">
    <div class="row footer-content">
        
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/products">Products ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/products/elasticsearch">Elasticsearch</a></li>
                  
                
              
                
                  
                    <li><a href="/products/kibana">Kibana</a></li>
                  
                
              
                
                  
                    <li><a href="/products/beats">Beats</a></li>
                  
                
              
                
                  
                    <li><a href="/products/logstash">Logstash</a></li>
                  
                
              
                
                  
                    <li><a href="/products/x-pack">X-Pack</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud/as-a-service">Elastic Cloud</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud/enterprise">Elastic Cloud Enterprise</a></li>
                  
                
              
                
                  
                    <li><a href="/products/x-pack/security">Security (formerly Shield)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/x-pack/alerting">Alerting (via Watcher)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/x-pack/monitoring">Monitoring (formerly Marvel)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/x-pack/graph">Graph</a></li>
                  
                
              
                
                  
                    <li><a href="/products/x-pack/reporting">Reporting</a></li>
                  
                
              
                
                  
                    <li><a href="/products/x-pack/machine-learning">Machine Learning</a></li>
                  
                
              
                
                  
                    <li><a href="/products/hadoop">ES-Hadoop</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/solutions">Solutions ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/solutions/logging">Logging</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/metrics">Metrics</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/site-search">Site Search</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/security-analytics">Security Analytics</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/apm">APM</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/app-search">App Search</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3>Resources</h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/blog">Blog</a></li>
                  
                
              
                
                  
                    <li><a href="https://cloud-status.elastic.co">Cloud Status</a></li>
                  
                
              
                
                  
                    <li><a href="/community">Community</a></li>
                  
                
              
                
                  
                    <li><a href="/use-cases">Customers & Use Cases</a></li>
                  
                
              
                
                  
                    <li><a href="/guide">Documentation</a></li>
                  
                
              
                
                  
                    <li><a href="/elasticon">Elastic{ON} Events</a></li>
                  
                
              
                
                  
                    <li><a href="https://discuss.elastic.co/">Forums</a></li>
                  
                
              
                
                  
                    <li><a href="/community/meetups">Meetups</a></li>
                  
                
              
                
                  
                    <li><a href="/subscriptions">Subscriptions</a></li>
                  
                
              
                
                  
                    <li><a href="https://support.elastic.co">Support Portal</a></li>
                  
                
              
                
                  
                    <li><a href="/videos">Videos & Webinars</a></li>
                  
                
              
                
                  
                    <li><a href="/training">Training</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/about">About ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/about/careers">Careers/Jobs</a></li>
                  
                
              
                
                  
                    <li><a href="/contact">Contact</a></li>
                  
                
              
                
                  
                    <li><a href="/about/leadership">Leadership</a></li>
                  
                
              
                
                  
                    <li><a href="/about/partners">Partners</a></li>
                  
                
              
                
                  
                    <li><a href="/about/press">Press</a></li>
                  
                
              
                
                  
                    <li><a href="https://www.elastic.shop">Elastic Store</a></li>
                  
                
              
              </ul>
          </div>    
       
    </div>
     <!-- Social Media Section -->
    <div class="row social-icon">
      <div class="col-xs-12 col-sm-12 col-md-12">
        <p class="text-center font-size-10 m-0">FOLLOW US</p>
        <ul>
          
          <li class="facebook"><a id="footer_facebook" href="http://www.facebook.com/elastic.co"></a></li>
          
          <li class="twitter"><a id="footer_twitter" href="https://www.twitter.com/elastic"></a></li>
          
          <li class="linkedin"><a id="footer_linkedin" href="https://www.linkedin.com/company/elastic-co"></a></li>
          
          <li class="xing"><a id="footer_xing" href="https://www.xing.com/companies/elastic.co"></a></li>
          
          <li class="youtube"><a id="footer_youtube" href="https://www.youtube.com/user/elasticsearch"></a></li>
          
        </ul>
      </div>
    </div>
    <!-- Social Media Section end-->
    <div class="row">
	<div class="col-xs-12 col-sm-12 col-md-12">
		<div class="copyright">
			<ul>
				<li><a href="/legal/trademarks">Trademarks</a></li>
				<li><a href="/legal/terms-of-use">Terms of Use</a></li>
				<li><a href="/legal/privacy-policy">Privacy</a></li>
				<li><a href="/legal/privacy-and-cookie-policy">Cookie Policy</a></li>
				<li><a href="/brand">Brand</a></li>
			</ul>
			<div class="copyright-content">
				<div class="footer-logo"><a href="/"><img src="/static/images/svg/logo-elastic-footer.svg" class="img-responsive"></a>
				</div>
				<div class="footer-text">
					<p>© 2018. All Rights Reserved - Elasticsearch
					</p>
					<p>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries.
					</p>
					<p>Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other countries.
					</p>
				</div>
			</div>
		</div>
	</div>
</div>
  </div>
</footer>
<!-- Footer Section end-->

<style type="text/css">
	
        
            .facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .linkedin a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .linkedin a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .linkedin a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .youtube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .youtube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .youtube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
  MktoForms2.whenReady(function (form) {
  //    // Put your code that uses the form object here
  //   $('#Email').attr("placeholder","Email Address");
  //   $('#FirstName').attr("placeholder","First Name");
  //   $('#LastName').attr("placeholder","Last Name");
  //   $('#Form_Message').attr("placeholder","Tell us in your words");
  // // ========================End Mktoform placeholder==================
  });
  MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", 1398,function(form){
    console.log("inside footer form", form);
    form.onSuccess(function(form){
      $('#mktoForm_1398').css('display','none');
      $('.subscribe-wrapper .subscribe-form-container').hide();
      $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
      dataLayer.push({'event': 'mktoFormSubmit'});
        return false;
      });
  });
</script>
      </section>
    </div>
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";	
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script> 
     
<script type="text/javascript">
$(document).ready(function(){
	if (window.location.hash.length) {
	      var target = $(window.location.hash);
	      target = target.length ? target : $(window.location.hash);
	      if (target.length) {
	        setTimeout(function(){ $(window).scrollTop(target.offset().top - 60); }, 1200);        
	      }
	}
	$('#guide').on('click','a[href*=#]:not([href=#])',function(e) {
			var flag=true;
		      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		          var target = $(this.hash);
		          target = target.length ? target :$(this.hash);
		          if (target.length) {
		            if(flag){
		              flag=false;
		              var heightScroll=($('.tertiary-nav.navbar-fixed-top').height())?60:110;
		              $('html,body').animate({
		                  scrollTop: target.offset().top - heightScroll
		                }, 2000, function(){
		                  flag=true;
		                });
		            }                    
		          }
		      }
		    
	});

})

</script>

     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>