<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Operators
        | Painless Scripting Language [6.1]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Painless Scripting Language [6.1]" /><link rel="up" href="painless-specification.html" title="Painless Language Specification" /><link rel="prev" href="casting.html" title="Casting" /><link rel="next" href="painless-syntax.html" title="Painless Syntax" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Painless/6.1" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="6.1" />
    

    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
<meta name="apple-mobile-web-app-title" content="Elastic">
<meta name="application-name" content="Elastic">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">
<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >



	



<!-- end DC tags -->


	<meta name="description" content="" />



	<meta name="localized" content="true" />


















		
			<meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
		

		

    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">

	 

    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    
    

    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

  <script type="text/javascript">
  // -------------------- set language based on browser language --------------------
  var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

  if($.cookie("is_lang_detected") == undefined){
    if(locales[lang] != undefined && locales[lang] != currentlocale){
      locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
      $.cookie("is_lang_detected",true ,{ path: '/'}); 
      window.location = locale_lang_url;
    } 
  }
        
  // --------------------- end of set language based on browser language -----------------
  </script>

	
	<link type="text/css" rel="stylesheet" href="/static/css/guide.css" />


  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
  <body >
  	<!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
                              height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
<script src="/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>


<script type="text/javascript">
  var active;
  
  active = Math.random() < 1 //0.9 
  
  elasticApm.init({
    active: active,
    serviceName: "elastic-co-frontend",
    serverUrl: "https://elastic-co-apm-server.app.elstc.co"
  })

  var pageLoadName
  var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
  var parts = pathname.split('/');

  if (parts.length && parts[1] === 'blog') {
    if (parts.length === 2) {
      pageLoadName =  '/blog';
    }
    else if (parts[2] === 'category') {
      pageLoadName =  '/blog/category';
    }
    else if (parts[2] === 'archive') {
      pageLoadName =  '/blog/archive';
    }
    else {
      pageLoadName =  '/blog/detail';
    }
  }
  else if (parts.length && parts[1] === 'elasticon') {
    if (parts.length === 2) {
      pageLoadName =  '/elasticon';
    }
    else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
      pageLoadName =  '/elasticon/overview';
    }
    else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
      pageLoadName =  '/elasticon/video';
    }
  }
  else if (parts.length && parts[1] === 'guide') {
    pageLoadName =  '/guide';
  }
  else if (parts.length === 2 && parts[1] === 'videos') {
    pageLoadName =  '/videos';
  }
  else if (parts.length > 2 && parts[1] === 'videos') {
    pageLoadName =  '/videos/detail';
  }
  else if (parts.length > 2 && parts[1] === 'webinars') {
    pageLoadName =  '/webinars/detail';
  }
  else {
    pageLoadName =  window.location.pathname;
  }

  console.log('apm pageLoadName:', pageLoadName, parts)
  elasticApm.setTags({env:"production"});
  elasticApm.setInitialPageLoadName(pageLoadName);
</script>

<!-- Elastic APM -->


    <!-- Header Section -->
    
<header class="header-wrapper">
  



  




<div class="navigation-wrapper">
  <div class="container">
    <nav class="navbar">
    <!-- Brand and toggle get grouped for better mobile display -->

    <div class="navbar-mobile-header navbar-header mr-20 mr-xs-0">
      <div class="row hidden-sm hidden-md hidden-lg">
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg">
          <div class="navbar-mobile-header-icon navbar-mobile-header-icon-out">
            <span></span>
            <span></span>
            <span></span>
          </div>
          
        </div>
        <div class="col-xs-2 text-center">
          <div class="navbar-brand" id="elastic">
            <div id="logo">
              <a class="logo-m hidden-sm hidden-md hidden-lg" href="/">
                <img src="/assets/blta09706b1c5cc1e99/elastic-logo-mobile.svg" alt="elastic-logo-mobile">
              </a>
            </div>
          </div>
        </div>
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg text-right">
          <ul class="menu-m hidden-sm hidden-md hidden-lg">
            <li class=""><a class="icon-contact" href="/contact"></a></li>

            <li id="searchbar"><a class="button icon" href="#" alt="Search"></a></li>
            <li class="lang global-language">
                
                  
                
                  
                    <a href="#">EN</a>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              <ul class="language-list">
                
                  
                    
                  
                  
                  <li><a href="/de/" data-value="/de/" id="locale-select">Deutsch</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="#" data-value="/" id="locale-select">English</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/es/" data-value="/es/" id="locale-select">Español</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/fr/" data-value="/fr/" id="locale-select">Français</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/jp/" data-value="/jp/" id="locale-select">日本語</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/kr/" data-value="/kr/" id="locale-select">한국어</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/cn/" data-value="/cn/" id="locale-select">简体中文</a></li>
                  
                
              </ul>
            </li>
          </ul>
        </div>
      </div>

      <div class="navbar-brand hidden-xs" id="elastic">
        <div id="logo">
          <a class="hidden-xs" id="elastic-logo" href="/">
            <img src="/assets/blt244a845f141977c3/elastic-logo.svg" alt="elastic-logo">
          </a>
        </div>
      </div>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse mobile-inner-nav">
      <nav class="nav navbar-nav primary-nav-hover" id="nav">
        <ul>
        
          
            
              
            
            <li>
              <a class=" " href="/products">Products</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/cloud">Cloud</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/services">Services</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/use-cases">Customers</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/learn">Learn</a>
            </li>
          
        
          
        
        </ul>
      </nav>
      <nav class="nav navbar-nav navbar-right hidden-xs">
        <ul>
          <li class="hidden-xs hidden-sm"><a href="/downloads">downloads</a></li>
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-download" href="/downloads"></a></li>
          <!-- To set parameters to contact button -->
          
           
            
          

          
            
            
          
          <li class="hidden-xs hidden-sm"><a class="btn btn-secondary btn-contact" href="/contact?storm=global-header-en">contact</a></li>
          <!-- ////////////////ends here///////////////-->          
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-contact" href="/contact?storm=global-header-en"></a></li>
          <li class="hidden-xs" id="searchbar"><a class="button icon" href="#" alt="Search"></a></li>

          <li class="hidden-xs lang global-language">
                
                  
                
                  
                    <a href="#">EN</a>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
               <ul class="language-list">
              
                
                  
                
              
              <li><a class="" href="/de/" data-value="/de/">Deutsch</a></li>
              
              
                
                  
                
              
              <li><a class="" href="#" data-value="/">English</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/es/" data-value="/es/">Español</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/fr/" data-value="/fr/">Français</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/jp/" data-value="/jp/">日本語</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/kr/" data-value="/kr/">한국어</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/cn/" data-value="/cn/">简体中文</a></li>
              
              
            </ul>
          </li>
        </ul>
      </nav>
    </div><!-- /.navbar-collapse -->
  </nav>
  </div>
</div>

<div class="header-search-wrapper open-search"> 
  <div class="container">
    <div class="big-search">
      <i class="big-search-icon"></i>
      <form id="searchfrm" name="searchForm" autocomplete="on" action="/search" method="get">
        <ul class="tags-wrapper">
          <li class="search-field"><input type="text" name="q" id="autocomplete" class="form-control global-input" autocomplete="off"></li>
        </ul>
      </form>
      <a class="header-search-cancel" href="#"></a>
    </div>
    <div class="nav-auto-complete"></div>
  </div>
</div>
</header>
<link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">
<style> 
    
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
    
</style>
<script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>
<script type="text/javascript">
  $(document).ready( function(){
    // if($('#scrollable-pane li').length > 3){
      $('.horizon-swiper').horizonSwiper({
        showItems: 3,
        arrows: true
      }); 
    // }
    
    $('.navbar-toggle').on('click', function(){
      $('.mobile-navigation, .menu-open').hide();
      $('.navigation-wrapper').addClass('mobile-navigation');
      $('.navbar').addClass('menu-open');
      $('.menu-close').show();
    });
    $('.menu-close').on('click', function(){
      $('.navigation-wrapper').removeClass('mobile-navigation');
      $('.navbar').removeClass('menu-open');
      $('.menu-close').hide();
    });

    var active_url = "";

    $(".navbar-mobile-header-icon").click(function(index){
      $('.navigation-wrapper').toggleClass('menu-overlay');
      $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
      $(".mobile-inner-nav").slideToggle(500);
      $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
        $(this).css({'animation-delay': (index/25)+'0.4s'});
      });
    });

    $('.dropdown-btn').on('click', function(e){
      e.preventDefault();
      setDropdown();
    });
    
    function setDropdown() {
      $('#myDropdown').slideToggle();
    }

    $('body').on('click', function(event){
      if (!event.target.matches('.dropdown-btn')) {

        var dropdowns = $(".dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    });

    // if($(window).width() < 769){
    //   var $item = $('.scrollable-panel li'), 
    //       visible = 3, //Set the number of items that will be visible
    //       index = 0, //Starting index
    //       endIndex = ( $item.length / visible ) - 1; //End index (NOTE:: Requires visible to be a factor of $item.length... You can improve this by rounding...)

    //   $('#right-arrow').click(function(){
    //     if(index < endIndex ){
    //       index++;
    //       $item.animate({'left':'-=300px'});
    //     }
    //   });

    //   $('#left-arrow').click(function(){
    //     if(index > 0){
    //       index--;            
    //       $item.animate({'left':'+=300px'});
    //     }
    //   });
    // }
  });
  $(window).resize(function () {
    $('.horizon-swiper').horizonSwiper({
      showItems: 3,
      arrows: true
    });
  });
</script>
    
      


  





  
  
  
  
    <div class="tertiary-nav bdr-btm-e0e0e0">
      <div class="container">
        <div class="p-t-b-15 clearfix">
          <div class="breadcrum-wrapper pull-left text-left">
          
            <a href="/guide">Docs</a> 
          
          </div>
          
          
          
        </div>
      </div>
    </div>

    <div class="nav-mobile-dropdown hidden-sm hidden-md hidden-lg bdr-btm-e0e0e0 clearfix">
      <div class="container text-right">
        <div class="breadcrum-wrapper pull-left text-left">
          
              <a href="/guide">Docs</a>
          
        </div>
        
        
      </div>
    </div>
  


<style type="text/css">

  
</style>
    
    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   
          
            
        			<!-- <div class="pageheader">
	<div class="common-container">
		
			<h2 class="page-title">Guide template</h2>
		
	</div>
</div> -->


        		
          

          
	<section id="guide" lang="en">
		<div class="container">
			<div class="row">
			  <!-- start body -->
				
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Painless Scripting Language
      [6.1]
    </a></span> » <span class="breadcrumb-link"><a href="painless-specification.html">Painless Language Specification</a></span> » <span class="breadcrumb-node">Operators</span></div><div class="navheader"><span class="prev"><a href="casting.html">
              « 
              Casting</a>
           
        </span><span class="next">
           
          <a href="painless-syntax.html">Painless Syntax
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_operators"></a>Operators<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>The following is a table of the available operators in Painless.  Each operator will have further information and examples outside of the table.  Many operators will have a promotion table as described by the documentation on promotion [MARK].</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="left" valign="top">Operator</th><th align="left" valign="top">Symbol(s)</th><th align="left" valign="top">Precedence</th><th align="left" valign="top">Associativity</th></tr></thead><tbody><tr><td align="left" valign="top"><p>Precedence</p></td><td align="left" valign="top"><p>()</p></td><td align="left" valign="top"><p>0</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Field Access</p></td><td align="left" valign="top"><p>.</p></td><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Method Call</p></td><td align="left" valign="top"><p>. ()</p></td><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Null Safe</p></td><td align="left" valign="top"><p>?.</p></td><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Function Call</p></td><td align="left" valign="top"><p>()</p></td><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Array Initialization</p></td><td align="left" valign="top"><p>[] {}</p></td><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Array Access</p></td><td align="left" valign="top"><p>[]</p></td><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Array Length</p></td><td align="left" valign="top"><p>.</p></td><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>List Initialization</p></td><td align="left" valign="top"><p>[]</p></td><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>List Access</p></td><td align="left" valign="top"><p>[]</p></td><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Map Initialization</p></td><td align="left" valign="top"><p>[:]</p></td><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Map Access</p></td><td align="left" valign="top"><p>[]</p></td><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Post Increment</p></td><td align="left" valign="top"><p>++</p></td><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Post Decrement</p></td><td align="left" valign="top"><p>--</p></td><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Pre Increment</p></td><td align="left" valign="top"><p>++</p></td><td align="left" valign="top"><p>2</p></td><td align="left" valign="top"><p>right-to-left</p></td></tr><tr><td align="left" valign="top"><p>Pre Decrement</p></td><td align="left" valign="top"><p>--</p></td><td align="left" valign="top"><p>2</p></td><td align="left" valign="top"><p>right-to-left</p></td></tr><tr><td align="left" valign="top"><p>Unary Positive</p></td><td align="left" valign="top"><p>+</p></td><td align="left" valign="top"><p>2</p></td><td align="left" valign="top"><p>right-to-left</p></td></tr><tr><td align="left" valign="top"><p>Unary Negative</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>2</p></td><td align="left" valign="top"><p>right-to-left</p></td></tr><tr><td align="left" valign="top"><p>Boolean Not</p></td><td align="left" valign="top"><p>!</p></td><td align="left" valign="top"><p>2</p></td><td align="left" valign="top"><p>right-to-left</p></td></tr><tr><td align="left" valign="top"><p>Bitwise Not</p></td><td align="left" valign="top"><p>~</p></td><td align="left" valign="top"><p>2</p></td><td align="left" valign="top"><p>right-to-left</p></td></tr><tr><td align="left" valign="top"><p>Cast</p></td><td align="left" valign="top"><p>()</p></td><td align="left" valign="top"><p>3</p></td><td align="left" valign="top"><p>right-to-left</p></td></tr><tr><td align="left" valign="top"><p>Constructor Call</p></td><td align="left" valign="top"><p>new ()</p></td><td align="left" valign="top"><p>3</p></td><td align="left" valign="top"><p>right-to-left</p></td></tr><tr><td align="left" valign="top"><p>New Array</p></td><td align="left" valign="top"><p>new</p></td><td align="left" valign="top"><p>3</p></td><td align="left" valign="top"><p>right-to-left</p></td></tr><tr><td align="left" valign="top"><p>Multiplication</p></td><td align="left" valign="top"><p>*</p></td><td align="left" valign="top"><p>4</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Division</p></td><td align="left" valign="top"><p>/</p></td><td align="left" valign="top"><p>4</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Remainder</p></td><td align="left" valign="top"><p>%</p></td><td align="left" valign="top"><p>4</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>String Concatenation</p></td><td align="left" valign="top"><p>+</p></td><td align="left" valign="top"><p>5</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Addition</p></td><td align="left" valign="top"><p>+</p></td><td align="left" valign="top"><p>5</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Subtraction</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>5</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Left Shift</p></td><td align="left" valign="top"><p>&lt;&lt;</p></td><td align="left" valign="top"><p>6</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Right Shift</p></td><td align="left" valign="top"><p>&gt;&gt;</p></td><td align="left" valign="top"><p>6</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Unsigned Right Shift</p></td><td align="left" valign="top"><p>&gt;&gt;&gt;</p></td><td align="left" valign="top"><p>6</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Greater Than</p></td><td align="left" valign="top"><p>&gt;</p></td><td align="left" valign="top"><p>7</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Greater Than Or Equal</p></td><td align="left" valign="top"><p>&gt;=</p></td><td align="left" valign="top"><p>7</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Less Than</p></td><td align="left" valign="top"><p>&lt;</p></td><td align="left" valign="top"><p>7</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Less Than Or Equal</p></td><td align="left" valign="top"><p>⇐</p></td><td align="left" valign="top"><p>7</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Instance Of</p></td><td align="left" valign="top"><p>instanceof</p></td><td align="left" valign="top"><p>8</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Equality Equals</p></td><td align="left" valign="top"><p>==</p></td><td align="left" valign="top"><p>9</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Equality Not Equals</p></td><td align="left" valign="top"><p>!=</p></td><td align="left" valign="top"><p>9</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Identity Equals</p></td><td align="left" valign="top"><p>===</p></td><td align="left" valign="top"><p>9</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Identity Not Equals</p></td><td align="left" valign="top"><p>!==</p></td><td align="left" valign="top"><p>9</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Bitwise And</p></td><td align="left" valign="top"><p>&amp;</p></td><td align="left" valign="top"><p>10</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Boolean Xor</p></td><td align="left" valign="top"><p>^</p></td><td align="left" valign="top"><p>11</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Bitwise Xor</p></td><td align="left" valign="top"><p>^</p></td><td align="left" valign="top"><p>11</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Bitwise Or</p></td><td align="left" valign="top"><p>|</p></td><td align="left" valign="top"><p>12</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Boolean And</p></td><td align="left" valign="top"><p>&amp;&amp;</p></td><td align="left" valign="top"><p>13</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Boolean Or</p></td><td align="left" valign="top"><p>||</p></td><td align="left" valign="top"><p>14</p></td><td align="left" valign="top"><p>left-to-right</p></td></tr><tr><td align="left" valign="top"><p>Conditional</p></td><td align="left" valign="top"><p>? :</p></td><td align="left" valign="top"><p>15</p></td><td align="left" valign="top"><p>right-to-left</p></td></tr><tr><td align="left" valign="top"><p>Elvis</p></td><td align="left" valign="top"><p>?:</p></td><td align="left" valign="top"><p>16</p></td><td align="left" valign="top"><p>right-to-left</p></td></tr><tr><td align="left" valign="top"><p>Assignment</p></td><td align="left" valign="top"><p>=</p></td><td align="left" valign="top"><p>17</p></td><td align="left" valign="top"><p>right-to-left</p></td></tr><tr><td align="left" valign="top"><p>Compound Assignment</p></td><td align="left" valign="top"><p>$=</p></td><td align="left" valign="top"><p>17</p></td><td align="left" valign="top"><p>right-to-left</p></td></tr></tbody></table></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="precedence-operator"></a>Precedence<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>You group expressions using the precedence operator to guarantee
the order of evaluation and override existing precedence relationships between operators. The format is an opening parenthesis, one or more expressions, and
a closing parenthesis. For example, <code class="literal">(20+1)*2</code>.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">precedence: '(' expression ')';</pre></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">int x = (5+4)*6; // declares the variable int x and sets it to (5+4)*6
                 // where 5+4 is evaluated first due to the precedence operator
int y = 2*(x-4); // declares the variable int y and sets it to 2*(x-4)
                 // where x-4 is evaluated first due to the precedence operator</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="dot-operator"></a>Dot<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>You use the dot operator <code class="literal">.</code> to access a type’s <a class="link" href="_operators.html#field-access" title="Accessing Fields">fields</a> and <a class="link" href="_operators.html#method-access" title="Calling Methods">methods</a>.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="field-access"></a>Accessing Fields<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>You access primitive and reference type members in a reference type using the
dot operator <span class="emphasis"><em>.</em></span> followed by the id of the member. The accessed member behaves
the same way as the type it represents with one exception: if the reference
type is of type <code class="literal">def</code>, the member is also considered to be of type <code class="literal">def</code> and
resolved at runtime.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">field_access: ID '.' ID;</pre></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">FeatureTest ft = new FeatureTest(); // Declare FeatureTest variable ft and
                                    //   set it to a newly allocated FeatureTest
ft.x = 5;                           // Access int member x from ft and assign
                                    //   it the literal int value 5
ft.y = ft.x;                        // Access int member y from ft and assign
                                    //   it the value of ft member x
int value = ft.x + ft.y;            // Declare variable value as an int,
                                    //   add ft members x and y together,
                                    //   assign the sum to the variable value</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="method-access"></a>Calling Methods<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>You call reference type methods using the dot operator and the method id:
<code class="literal">.method_id(arg1,...,argn)</code>. The parentheses are required even if there are no
arguments.</p><p>If the reference type is not type <code class="literal">def</code>, the argument types for the method
can be resolved at compile time. An error occurs if appropriate type
conversions (casting) cannot be performed. If the reference type is type <code class="literal">def</code>, the argument types for the method are all considered to be the type <code class="literal">def</code>. The
appropriate type conversions are performed at run-time.</p><p>Automatic <a class="link" href="casting.html#boxing-unboxing" title="Boxing and Unboxing">boxing and unboxing</a> is performed when you pass in
arguments to a method.</p><p>Method calls can be overloaded based on arity in Painless. The same method
name can be re-used for different methods as long as the number of arguments
differs. This differs from Java method overloading, where only the types must
differ. This has an effect on some of the provided reference type methods in
the <a class="link" href="painless-api-reference.html" title="Appendix A. Painless API Reference">Painless API</a>. Where there are overloaded methods with
the same arity for a reference type in Java, Painless chooses a single method
to be provided.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">method_call: ID '.' ID '(' (expression (',' expression)*)? ')';</pre></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">Map m = new HashMap();         // Declare Map variable m and set it a newly
                               //   allocated HashMap
x.put(1, 2);                   // Call the put method on variable x to add key 1
                               //   with the value 2 to the Map
int z = x.get(1);              // Declare int variable z, call the get method to
                               //   retrieve the value of key 1, and assign the
                               //   return value of the method call to variable z
def d = new ArrayList();       // Declare def variable m and set it a newly
                               //   allocated ArrayList
d.add(1);                      // Call the add method on variable d and add the
                               //   literal int 1 to the ArrayList. Note that
                               //   the argument type is considered to be of
                               //   type def since the reference type is also def
int i = Integer.parseInt('2'); // Declare int variable i and set it to the
                               //   value returned by the static method parseInt</pre></div><div class="sidebar"><div class="titlepage"></div><p>Painless describes the Map method arguments using the <code class="literal">def</code> type:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">put(def, def)
get(def)</pre></div><p>When you call <code class="literal">x.put(1, 2)</code>, the key and value are implicitly converted from
the int type to the def type.</p><p>Assume for a minute that the Map method arguments were described as Integers:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">put(Integer, Integer)
get(Integer)</pre></div><p>In this case, the key and value would implicitly be <span class="emphasis"><em>boxed</em></span> from the primitive
int type to the Integer reference type. For more information about how Painless
casts between primitive types and reference types, see <a class="link" href="casting.html#boxing-unboxing" title="Boxing and Unboxing">Boxing and Unboxing</a>.</p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_null_safe"></a>Null Safe<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The null safe operator <code class="literal">?.</code> can be used in place of the dot operator
to check if a reference type instance is <code class="literal">null</code> before attempting to access
a field or make a method call against it. When using the null safe operator,
if the instance is <code class="literal">null</code>, the returned value is <code class="literal">null</code>. If the reference
type instance is non-null, it returns the value of the field or result of
the method call normally.</p><p>All resultant types must be a reference type or be able to be implicitly cast
to a reference type or an error will occur.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">null_safe: null_safe_field_access
         | null_safe_method_call;
null_safe_field_access: ID '?.' ID;
null_safe_method_call: ID '?.' ID '(' (expression (',' expression)*)? ')';</pre></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">Map x = new HashMap(); // Declare the Map variable x and set it to a newly
                       //   allocated HashMap
Map y = null;          // Declare the Map variable y and set it to null
def z = new HashMap(); // Declares the def variable z and set it to a newly
                       // allocated HashMap

x.put(1, 2);           // Put the key-value pair 1 and 2 into x
z.put(5, 6);           // Put the key-value pair 5 and 6 into z

def value = x?.get(1); // Declare the def variable value and set it to the
                       //   result of .get(1) since x is not null
value = y?.get(3);     // Sets value to null since y is null
value = z?.get(5);     // Sets value to the result of .get(5) since z is not null</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_parenthesis"></a>Parenthesis<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>User-defined function calls can be made in Painless using the parenthesis
operator.  See Function Calls [MARK] for more information.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_brackets_and_braces"></a>Brackets and Braces<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The brackets operator <code class="literal">[]</code> is used to create and access arrays, lists, and maps.
The braces operator <code class="literal">{}</code> is used to intialize arrays.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_creating_and_initializing_arrays"></a>Creating and Initializing Arrays<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>You create and initialize arrays using the brackets <code class="literal">[]</code> and braces <code class="literal">{}</code>
operators. Each set of brackets represents a dimension. The values you want to
initialize each dimension with are specified as a comma-separated list enclosed
in braces. For example, <code class="literal">new int[] {1, 2, 3}</code> creates a one dimensional <code class="literal">int</code>
array with a size of 3 and the values 1, 2, and 3.</p><p>For more information about allocating and initializing arrays, see <a class="link" href="types.html#array-type" title="Array Type">Array Type</a>.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_accessing_array_elements"></a>Accessing Array Elements<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Elements in an array are stored and accessed using the brackets <code class="literal">[]</code> operator.
Elements are referenced by an expression enclosed in brackets. An error
occurs if the expression used to reference an element cannot be implicitly
cast to an <code class="literal">int</code>.</p><p>The range of elements within an array that can be accessed is <code class="literal">[0, size)</code> where
size is the originally allocated size of the array. To access elements relative
to the last element in an array, you can use a negative numeric value from
<code class="literal">[-size, -1]</code>. An error occurs if you attempt to reference an element outside
of the array’s range.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">brace_access: '[' expression ']'</pre></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">int[] x = new int[2];     // Declare int array x and set it to a newly allocated
                          //   array with a size of 2
x[0] = 2;                 // Set the 0th element of array x to 2
x[1] = 5;                 // Set the 1st element of array x to 5
int y = x[0] + x[1];      // Declare the int variable y and set it to the sum
                          //   of the first two elements of array x
int z = 1;                // Declare the int variable z and set it to 1
return x[z];              // Access the 1st element of array x using the
                          //   variable z as an expression and return the value

def d = new int[2];       // Declare def variable d and set it to a newly
                          //   allocated array with a size of 2
d[0] = 2;                 // Set the 0th element of array d to 2
d[1] = 5;                 // Set the 1st element of array d to 2
def y = d[0] + d[1];      // Declare def variable y and set it to the sum
                          //   of the first two elements of array d
def z = 1;                // Declare def variable z and set it to 1
return d[z];              // Access the 1st element of array d using the
                          //   variable z as an expression and return the value</pre></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>The use of the <code class="literal">def</code> type in the second example means that the types
cannot be resolved until runtime.</p></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_array_length"></a>Array Length<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Arrays contain a special member known as <span class="emphasis"><em>length</em></span> that is a read-only value that contains the size of the array.  This member can be accessed from an array using the dot operator.</p><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">int[] x = new int[10]; // declares an int array variable x and sets it to a newly allocated array with a size of 10
int l = x.length;      // declares and int variable l and sets it to the field length of variable x</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_creating_and_initializing_lists"></a>Creating and Initializing Lists<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>You create and initialize lists using the brackets <code class="literal">[]</code> operator. The values
you want to initialize the list with are specified as a comma-separated list
of expressions enclosed in brackets. For example, <code class="literal">List l = [1, 2, 3]</code> creates
a new three item list. Each expression used to initialize the list is converted
a <code class="literal">def</code> type when the value is inserted into the list. The order of the
expressions is maintained.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">list_initialization: '[' expression (',' expression)* ']'
                   | '[' ']';</pre></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">List empty = [];          // declares the List variable empty and sets it to a newly initialized empty List
List l0 = [1, 2, 3];      // declares the List variable l0 and sets it to a newly initialized List with the values 1, 2, and 3

int i = 1;
long l = 2L;
float f = 3.0F;
double d = 4.0;
String s = "5";
List l1 = [i, l, f*d, s]; // declares the List variable l1 and sets it to a newly initialized List with the values of i, l, and f*d and s</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_accessing_list_elements"></a>Accessing List Elements<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Elements in a List are stored or accessed using the brackets operator.  The format begins with an opening bracket, followed by an expression, and finishes with a closing bracket.  Storing elements in a List is equivalent to invoking a List’s set method.  Accessing elements in a List is equivalent to invoking a List’s get method.  Using this operator is strictly a shortcut for the previously mentioned methods.  The range of elements within a List that can be accessed is [0, size) where size is the number of elements currently in the List.  Elements may also be accessed from the last element in a List using a negative numeric value from [-size, -1].  The expression used to determine which element is accessed must be able to be implicitly cast to an int.  An error will occur if the expression is outside of the legal range or is not of type int.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">list_access: '[' expression ']'</pre></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">List x = new ArrayList(); // declares a List variable x and sets it to a newly allocated ArrayList
x.add(1);                 // invokes the add method on the variable x and adds the constant int 1 to the List
x.add(2);                 // invokes the add method on the variable x and adds the constant int 2 to the List
x.add(3);                 // invokes the add method on the variable x and adds the constant int 3 to the List
x[0] = 2;                 // sets the 0th element of the variable x to the constant int 2
x[1] = 5;                 // sets the 1st element of the variable x to the constant int 2
int y = x[0] + x[1];      // declares the int variable y and sets it to the sum of the first two elements of the variable x
int z = 1;                // declares the int variable z and sets it to the constant int 1
return x[z];              // accesses the 1st element of the variable x using the variable z as an expression and returns the value

def d = new ArrayList(); // declares a def variable d and sets it to a newly allocated ArrayList
d.add(1);                // invokes the add method on the variable d and adds the constant int 1 to the List
d.add(2);                // invokes the add method on the variable d and adds the constant int 2 to the List
d.add(3);                // invokes the add method on the variable d and adds the constant int 3 to the List
d[0] = 2;                // sets the 0th element of the variable d to the constant int 2
d[1] = 5;                // sets the 1st element of the variable d to the constant int 2
def y = d[0] + d[1];     // declares the def variable y and sets it to the sum of the first two elements of the variable d
def z = 1;               // declares the def variable z and sets it to the constant int 1
return d[z];             // accesses the 1st element of the variable d using the variable z as an expression and returns the value</pre></div><p>Note in the first example above all types can be resolved at compile-time, while in the second example all types must wait to be resolved until run-time.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_creating_and_initializing_maps"></a>Creating and Initializing Maps<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>A Map can be created and initialized using the brackets operator.  The format begins with a bracket, followed by an arbitrary number of key-value pairs delimited with commas (except the last), and ends with a closing bracket.  Each key-value pair is a set of two expressions separate by a colon.  If there is only a single colon with no expressions, a new empty Map is created.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">map_initialization: '[' key_pair (',' key_pair)* ']'
                  | '[' ':' ']';
key_pair: expression ':' expression</pre></div><p>Each expression used as part of the initialization is converted to a <code class="literal">def</code> type
for insertion into the map.</p><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">Map empty = [:];            // declares the Map variable empty and sets it to a newly initialized empty Map
Map m0 = [1:2, 3:4, 5:6];   // declares the Map variable m0 and sets it to a newly initialized Map with the keys 1, 3, 5 and values 2, 4, 6, respectively

byte b = 0;
int i = 1;
long l = 2L;
float f = 3.0F;
double d = 4.0;
String s = "5";
Map m1 = [b:i, l:f*d, d:s]; // declares the Map variable m1 and sets it to a newly initialized Map with the keys b, l, d and values i, f*d, s, respectively</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_accessing_map_elements"></a>Accessing Map Elements<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Elements in a Map can be stored or accessed using the brackets operator.  The format begins with an opening bracket, followed by an expression, and finishes with a closing bracket.  Storing values in a Map is equivalent to invoking a Map’s put method.  Accessing values in a Map is equivalent to invoking a Map’s get method.  Using this operator is strictly a shortcut for the previously mentioned methods.  Any element from a Map can be stored/accessed where the expression is the key.  If a key has no corresponding value when accessing a Map then the value will be null.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">map_access: '[' expression ']'</pre></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">Map x = new HashMap();             // declares a Map variable x and sets it to a newly allocated HashMap
x['value2'] = 2;                   // puts the value of the key constant String value2 of the variable x to the constant int 2
x['value5'] = 5;                   // puts the value of the key constant String value5 of the variable x to the constant int 5
int y = x['value2'] + x['value5']; // declares the int variable y and sets it to the sum of the two values of the variable x
String z = 'value5';               // declares the String variable z and sets it to the constant String value5
return x[z];                       // accesses the value for the key value5 of the variable x using the variable z as an expression and returns the value

def d = new HashMap();             // declares a def variable d and sets it to a newly allocated HashMap
d['value2'] = 2;                   // puts the value of the key constant String value2 of the variable d to the constant int 2
d['value5'] = 5;                   // puts the value of the key constant String value5 of the variable d to the constant int 5
int y = d['value2'] + d['value5']; // declares the int variable y and sets it to the sum of the two values of the variable d
String z = 'value5';               // declares the String variable z and sets it to the constant String value5
return d[z];                       // accesses the value for the key value5 of the variable x using the variable z as an expression and returns the value</pre></div><p>Note in the first example above all types can be resolved at compile-time, while in the second example all types must wait to be resolved until run-time.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_post_increment"></a>Post Increment<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>A variable/field representing a numerical value can be possibly evaluated as part of an expression, and then increased by 1 for its respective type.  The format starts with a variable name followed by a plus and ends with a plus.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">post_increment: ( variable | member ) '++'</pre></div><p>A numeric promotion may occur during a post-increment followed by a downcast if necessary.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents.  A downcast may be required after the type promotion to assign the appropriate value back into the variable/field.  Non-numeric variables/members will result in an error.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p>from</p></td><td align="left" valign="top"><p>to</p></td><td align="left" valign="top"><p>downcast</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>byte</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>short</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>char</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p></p></td></tr></tbody></table></div><p>Examples(s):</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">int i = 0;    // declares the int variable i and sets it to the constant 0
i++;          // increments the int variable i by 1 to a value of 1
long l = 1;   // declares the long variable l and set it the constant 1
long k;       // declares the long variable k
k = l++;      // sets the long variable k to the value of l (1), and then increments the long variable l by 1 to a value of 2</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_post_decrement"></a>Post Decrement<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>A variable/field representing a numerical value can be possibly evaluated as part of an expression, and then increased by 1 for its respective type.  The format starts with a variable name followed by a minus and ends with a minus.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">post_increment: ( variable | member ) '--'</pre></div><p>A numeric promotion may occur during a post-decrement followed by a downcast if necessary.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents.  A downcast may be required after the type promotion to assign the appropriate value back into the variable/field.  Non-numeric variables/members will result in an error.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p>from</p></td><td align="left" valign="top"><p>to</p></td><td align="left" valign="top"><p>downcast</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>byte</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>short</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>char</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p></p></td></tr></tbody></table></div><p>Examples(s):</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">short i = 0;    // declares the short variable i and sets it to the constant short 0
i--;            // decrements the short variable i by 1 to a value of -1 (promoted to int and downcast to short)
float l = 1.0f; // declares the float variable l and sets it the constant float 1.0f
float k;        // declares the float variable k
k = l--;        // sets the float variable k to the value of l (1.0f), and then decrements the float variable l by 1.0 to a value of 0.0</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_pre_increment"></a>Pre Increment<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>A variable/field representing a numerical value can be increased by 1 for its respective type, and then possibly evaluated as part of an expression.  The format starts with a plus followed by a plus and ends with a variable name.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">pre_increment: '++' ( variable | member )</pre></div><p>A numeric promotion may occur during a pre-increment followed by a downcast if necessary.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents.  A downcast may be required after the type promotion to assign the appropriate value back into the variable/field.  Non-numeric variables/members will result in an error.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p>from</p></td><td align="left" valign="top"><p>to</p></td><td align="left" valign="top"><p>downcast</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>byte</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>short</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>char</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p></p></td></tr></tbody></table></div><p>Examples(s):</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">int i = 0;    // declares the int variable i and sets it to the constant int 0
++i;          // increments the int variable i by 1 to a value of 1
long l = 1;   // declares the long variable l and sets it to the constant long 1
long k;       // declares the long variable k
k = ++l;      // increments the long variable l by 1 to a value of 2, and then sets the long variable k to the value of l (2)</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_pre_decrement"></a>Pre Decrement<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>A variable/field representing a numerical value can be decreased by 1 for its respective type, and then possibly evaluated as part of an expression.  The format starts with a minus followed by a minus and ends with a variable name.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">pre_decrement: '--' ( variable | member )</pre></div><p>A numeric promotion may occur during a pre-decrement followed by a downcast if necessary.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents.  A downcast may be required after the type promotion to assign the appropriate value back into the variable/field.  Non-numeric variables/members will result in an error.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p>from</p></td><td align="left" valign="top"><p>to</p></td><td align="left" valign="top"><p>downcast</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>byte</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>short</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>char</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p></p></td></tr></tbody></table></div><p>Examples(s):</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">byte i = 1;      // declares the byte variable i and sets it to the constant int 1
--i;             // decrements the byte variable i by 1 to a value of 0 (promoted to int and downcast to byte)
double l = 1.0;  // declares the double variable l and sets it to the constant double 1.0
double k;        // declares the double variable k
k = --l;         // decrements the double variable l by 1.0 to a value of 0.0, and then sets the double variable k to the value of l (0.0)</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_unary_positive"></a>Unary Positive<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Unary positive gives the identity of a numerical value using the plus operator.  In practice this is usually a no-op, but will cause some numeric types to be promoted.  Format starts with a plus operator followed by a numerical expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">unary_positive: '+' expression</pre></div><p>A numeric promotion may occur during a unary positive operation.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents.  Non-numeric expressions will result in an error.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td align="left" valign="top"><p>from</p></td><td align="left" valign="top"><p>to</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td></tr><tr><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td></tr><tr><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">int x = +1;  // declares the int variable x and sets it to positive 1
long y = +x; // declares the long variable y and sets it to positive x (promoted to long from int)
def z = +y;  // declares the def variable z and sets it to positive y
byte z = +2; //ERROR: cannot implicitly downcast an int to a byte</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_unary_negative"></a>Unary Negative<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Unary negative negates a numeric value using the minus operator.  Format starts with a minus followed by a numerical expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">unary_negative: '-' expression</pre></div><p>A numeric promotion may occur during a unary negative operation.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents.  Non-numeric expressions will result in an error.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td align="left" valign="top"><p>from</p></td><td align="left" valign="top"><p>to</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td></tr><tr><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td></tr><tr><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">int x = -1;  // declares the int variable x and sets it to negative 1
long y = -x; // declares the long variable y and sets it to negative x (promoted to long from int)
def z = -y;  // declares the def variable z and sets it to negative y
byte z = -2; //ERROR: cannot implicitly downcast an int to a byte</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_boolean_not"></a>Boolean Not<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Boolean not will flip a boolean value from true to false or false to true using the bang operator.  The format is a bang operator followed by an expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">boolean_not: '!' expression;</pre></div><p>Note that def types will be assumed to be of the boolean type.  Any def type evaluated at run-time that does not represent a boolean will result in an error.  Non-boolean expressions will result in an error.</p><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">boolean x = !false; // declares the boolean variable x and sets it to the opposite of the false value
boolean y = !x;     // declares the boolean variable y and sets it to the opposite of the boolean variable x
def z = !y;         // declares the def variable z and sets it to the opposite of the boolean variable y</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_bitwise_not"></a>Bitwise Not<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Bitwise not will flip each bit of an integer type expression.  The format is the tilde operator followed by an expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">bitwise_not: '~' expression;</pre></div><p>A numeric promotion may occur during unary positive operation.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents.  Non-integer expressions will result in an error.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td align="left" valign="top"><p>from</p></td><td align="left" valign="top"><p>to</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">byte x = 1;  // declares the byte variable x and sets it to a constant int 1
int y = ~x;  // declares the int variable y and sets it to the negation of x
long z = ~y; // declares the long variable z and sets it the negation of y
def d = ~z;  // declares the def variable d and sets it the negation of z
def e;       // declares the def variable e
e = ~d;      // sets e the negation of d</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_cast"></a>Cast<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The cast operator can be used to explicitly convert one type to another.  See casting [MARK] for more information.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_constructor_call"></a>Constructor Call<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>A constructor call is a special type of method call [MARK] used to allocate a reference type instance using the new operator.  The format is the new operator followed by a type, an opening parenthesis, arguments if any, and a closing parenthesis.  Arguments are a series of zero-to-many expressions delimited by commas.  Auto-boxing and auto-unboxing will be applied automatically for arguments passed into a constructor call.  See boxing and unboxing [MARK] for more information on this topic.  Constructor argument types can always be resolved at run-time; if appropriate type conversions (casting) cannot be applied an error will occur.  Once a reference type instance has been allocated, its members may be used as part of other expressions.</p><p>Constructor calls may be overloaded based on arity in Painless.  This means the same reference type may have multiple constructors as long as the number of arguments differs for each one.  This does have an effect on some of the provided reference type constructors in the Painless API [MARK].  When there are overloaded constructors with the same arity for a reference type in Java a single constructor must be chosen to be provided in Painless.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">constructor_call: 'new' TYPE '(' (expression (',' expression)*)? ')';</pre></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">Map m = new HashMap();   // declares the Map variable m and sets it to a newly allocated HashMap using an empty constructor
m.put(3, 3);             // invokes the method call member put and adds the key-value pair of 3 to Map variable m
def d = new ArrayList(); // declares the def variable d and sets it to a newly allocated ArrayList using an empty constructor
def e;                   // declares the def variable e
e = new HashMap(m);      // sets e to a newly allocated HashMap using the constructor with a single argument m</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_new_array"></a>New Array<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>An array type instance can be allocated using the new operator. The format starts with the new operator followed by the type followed by a series of opening and closing braces each containing an expression for the size of the dimension.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">new_array: 'new' TYPE ('[' expression ']')+;</pre></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">int[] x = new int[5];      // declares an int array variable x and sets it to a newly allocated array with a size of 5
x = new int[10];           // sets the int array variable x to a newly allocated array with a size of 10
def[][] y = new def[5][5]; // declares a 2-dimensional def array variable y and set it to a newly
                           // allocated 2-dimensional array where both dimensions have a size of 5</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_multiplication"></a>Multiplication<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Multiplies two numerical expressions.  Rules for resultant overflow and NaN values follow the Java specification.  The format is an expression, followed by the star operator, and a closing expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">multiplication: expression '*' expression;</pre></div><p>A numeric promotion may occur during a multiplication operation.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents. Non-numeric numbers will result in an error.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /></colgroup><tbody><tr><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">int x = 5*4;      // declares the int variable x and sets it to the result of 5 multiplied by 4
double y = x*7.0; // declares the double variable y and sets it to the result of x multiplied by 7.0 (x is promoted to a double)
def z = x*y;      // declares the def variable z and sets it to the result of x multiplied by y (x is promoted to a double)
def a = z*x;      // declares the def variable a and sets it to the result of z multiplied by x (x is promoted to def at compile-time and double at run-time)</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_division"></a>Division<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Divides two numerical expressions.  Rules for NaN values and division by zero follow the Java specification.  Integer division will drop the remainder of the resultant value.  The format is an expression, followed by the slash operator, and a closing expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">division: expression '/' expression;</pre></div><p>A numeric promotion may occur during a division operation.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents. Non-numeric expressions will result in an error.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /></colgroup><tbody><tr><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">int x = 5/4;      // declares the int variable x and sets it to the result of 5 divided by 4
double y = x/7.0; // declares the double variable y and sets it to the result of x divided by 7.0 (x is promoted to a double)
def z = x/y;      // declares the def variable z and sets it to the result of x divided by y (x is promoted to a double)
def a = z/x;      // declares the def variable a and sets it to the result of z divided by x (x is promoted to def at compile-time and double at run-time)</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_remainder"></a>Remainder<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Calculates the remainder for division between two numerical expressions.  Rules for NaN values and division by zero follow the Java specification.  The format is an expression, followed by the percent operator, and a closing expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">remainder: expression '%' expression;</pre></div><p>A numeric promotion may occur during a remainder operation.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents. Non-numeric expressions will result in an error.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /></colgroup><tbody><tr><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">int x = 5%4;      // declares the int variable x and sets it to the remainder of 5 divided by 4
double y = x%7.0; // declares the double variable y and sets it to the remainder of x divided by 7.0 (x is promoted to a double)
def z = x%y;      // declares the def variable z and sets it to the remainder of x divided by y (x is promoted to a double)
def a = z%x;      // declares the def variable a and sets it to the remainder of z divided by x (x is promoted to def at compile-time and double at run-time)</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_string_concatenation"></a>String Concatenation<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Concatenates two expressions together as a single String where at least of one of the expressions is a String to begin with.  The format is an expression, followed by a plus operator, and a closing expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">concatenate: expression '+' expression;</pre></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">String x = "con";          // declares the String variable x and sets it to the String constant "con"
String y = x + "cat";      // declares the String variable y and sets it to the concatenation of the String variable x and the String constant "cat"
String z = 4 + x;          // declares the String variable z and sets it to the concatenation of the int constant 4 and the String variable x (4 is implicitly cast to a String)
def d = 2;                 // declares the def variable d and sets it to the int constant 2
z = z + d;                 // sets the String variable z to the concatenation of the String variable z
d = "con" + x + y + "cat"; // sets the def variable d to the concatenation of String constant "con", x, y, and the String constant "cat"</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_addition"></a>Addition<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Adds two numerical expressions.  Rules for resultant overflow and NaN values follow the Java specification.  The format is an expression, followed by the plus operator, and a closing expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">addition: expression '+' expression;</pre></div><p>A numeric promotion may occur during a addition operation.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents. Non-numeric expressions will result in an error, except in the case of String which then implies the operation is string concatenation [MARK] rather than addition.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /></colgroup><tbody><tr><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">int x = 5 + 4;      // declares the int variable x and sets it to the result of 5 added to 4
double y = x + 7.0; // declares the double variable y and sets it to the result of x added to 7.0 (x is promoted to a double)
def z = x + y;      // declares the def variable z and sets it to the result of x added to y (x is promoted to a double)
def a = z + x;      // declares the def variable a and sets it to the result of z added to x (x is promoted to def at compile-time and double at run-time)</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_subtraction"></a>Subtraction<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Subtracts two numerical expressions.  Rules for resultant overflow and NaN values follow the Java specification.  The format is an expression, followed by the minus operator, and a closing expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">subtraction: expression '-' expression;</pre></div><p>A numeric promotion may occur during a subtraction operation.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents. Non-numeric expressions will result in an error.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /></colgroup><tbody><tr><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">int x = 5-4;      // declares the int variable x and sets it to the result of 4 subtracted from 5
double y = x-7.0; // declares the double variable y and sets it to the result of 7.0 subtracted from x (x is promoted to a double)
def z = x-y;      // declares the def variable z and sets it to the result of y subtracted from x (x is promoted to a double)
def a = z-x;      // declares the def variable a and sets it to the result of x subtracted from z (x is promoted to def at compile-time and double at run-time)</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_left_shift"></a>Left Shift<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Shifts lower order bits to higher order bits in the left-side expression by the distance specified in the right-side expression.  The format is an expression followed by two left-carrots, and a closing expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">left_shift: expression '&lt;&lt;' expression;</pre></div><p>A numeric promotion may occur during a left shift operation to the left-side expression.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents. Non-numeric and floating point expressions will result in an error.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td align="left" valign="top"><p>from</p></td><td align="left" valign="top"><p>to</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p>The right-side expression will be explicitly cast to an int value and truncated based on the promoted type of the left-side expression.  If the left-side expression is of type int then the lowest order 5-bits will be taken as the distance to shift from the right-side expression (0-31).  If the left-side expression is of type long then the lowest order 6-bits will be taken as the distance to shift from the right-side expression (0-63). Non-numeric and floating point expressions will result in an error.</p><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">int x = 5 &lt;&lt; 4;  // declares the int variable x and sets it to the result of 5 left shifted by 4
long y = x &lt;&lt; 7; // declares the long variable y and sets it to the result of x left shifted by 7 (x is promoted to a long)
def z = x &lt;&lt; y;  // declares the def variable z and sets it to the result of x left shifted by y
def a = z &lt;&lt; x;  // declares the def variable a and sets it to the result of z left shifted by x</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_right_shift"></a>Right Shift<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Shifts higher order bits to lower order bits in the left-side expression by the distance specified in the right-side expression.  Right shift will preserve the signed bit (highest order bit) as part of the result.  The format is an expression followed by two right-carrots, and a closing expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">right_shift: expression '&gt;&gt;' expression;</pre></div><p>A numeric promotion may occur during a right shift operation to the left-side expression.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents. Non-numeric and floating point expressions will result in an error.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td align="left" valign="top"><p>from</p></td><td align="left" valign="top"><p>to</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p>The right-side expression will be explicitly cast to an int value and truncated based on the promoted type of the left-side expression.  If the left-side expression is of type int then the lowest order 5-bits will be taken as the distance to shift from the right-side expression (0-31).  If the left-side expression is of type long then the lowest order 6-bits will be taken as the distance to shift from the right-side expression (0-63). Non-numeric and floating point expressions will result in an error.</p><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">int x = 5 &gt;&gt; 4;  // declares the int variable x and sets it to the result of 5 right shifted by 4
long y = x &gt;&gt; 7; // declares the long variable y and sets it to the result of x right shifted by 7 (x is promoted to a long)
def z = x &gt;&gt; y;  // declares the def variable z and sets it to the result of x right shifted by y
def a = z &gt;&gt; x;  // declares the def variable a and sets it to the result of z right shifted by x</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_unsigned_right_shift"></a>Unsigned Right Shift<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Shifts higher order bits to lower order bits in the left-side expression by the distance specified in the right-side expression.  Unsigned right shift will not preserve the signed bit (highest order bit) as part of the result.  The format is an expression followed by three right-carrots, and a closing expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">unsigned_right_shift: expression '&gt;&gt;&gt;' expression;</pre></div><p>A numeric promotion may occur during an unsigned right shift operation to the left-side expression.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents. Non-numeric and floating point expressions will result in an error.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td align="left" valign="top"><p>from</p></td><td align="left" valign="top"><p>to</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p>The right-side expression will be explicitly cast to an int value and truncated based on the promoted type of the left-side expression.  If the left-side expression is of type int then the lowest order 5-bits will be taken as the distance to shift from the right-side expression (0-31).  If the left-side expression is of type long then the lowest order 6-bits will be taken as the distance to shift from the right-side expression (0-63). Non-numeric and floating point expressions will result in an error.</p><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">int x = 5 &gt;&gt; 4;  // declares the int variable x and sets it to the result of 5 unsigned right shifted by 4
long y = x &gt;&gt; 7; // declares the long variable y and sets it to the result of x unsigned right shifted by 7 (x is promoted to a long)
def z = x &gt;&gt; y;  // declares the def variable z and sets it to the result of x unsigned right shifted by y
def a = z &gt;&gt; x;  // declares the def variable a and sets it to the result of z unsigned right shifted by x</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_greater_than"></a>Greater Than<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Greater than compares two numerical expressions where a resultant boolean value will be true if the left-side expression is a larger value than the right-side expression otherwise false.  The format is an expression, followed by the right angle operator, and a closing expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">greater_than: expression '&gt;' expression;</pre></div><p>A numeric promotion may occur during a greater than operation.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents. Non-numeric expressions will result in an error.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /></colgroup><tbody><tr><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">boolean x = 5 &gt; 4; // declares the int variable x and sets it to the result of 5 greater than 4
double y = 7.0;    // declares the double variable y and sets it to the double constant 7.0
def z = y &gt; 6.5;   // declares the def variable z and sets it to the result of y greater than 6.5
def a = y &gt; x;     // declares the def variable a and sets it to the result of y greater than z (x is promoted to double at compile-time)</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_greater_than_or_equal"></a>Greater Than Or Equal<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Greater than or equal compares two numerical expressions where a resultant boolean value will be true if the left-side expression is a larger value than or equal to the right-side expression otherwise false.  The format is an expression, followed by the right angle and equals operator, and a closing expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">greater_than_or_equal: expression '&gt;=' expression;</pre></div><p>A numeric promotion may occur during a greater than or equal operation.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents. Non-numeric expressions will result in an error.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /></colgroup><tbody><tr><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">boolean x = 5 &gt;= 4; // declares the int variable x and sets it to the result of 5 greater than or equal to 4
double y = 7.0;     // declares the double variable y and sets it to the double constant 7.0
def z = y &gt;= 6.5;   // declares the def variable z and sets it to the result of y greater than or equal to 6.5
def a = y &gt;= x;     // declares the def variable a and sets it to the result of y greater than or equal to z (x is promoted to double at compile-time)</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_less_than"></a>Less Than<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Less than compares two numerical expressions where a resultant boolean value will be true if the left-side expression is a smaller value than the right-side expression otherwise false.  The format is an expression, followed by the left angle operator, and a closing expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">less_than: expression '&lt;' expression;</pre></div><p>A numeric promotion may occur during a less than operation.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents. Non-numeric expressions will result in an error.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /></colgroup><tbody><tr><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">boolean x = 5 &lt; 4; // declares the int variable x and sets it to the result of 5 less than 4
double y = 7.0;    // declares the double variable y and sets it to the double constant 7.0
def z = y &lt; 6.5;   // declares the def variable z and sets it to the result of y less than 6.5
def a = y &lt; x;     // declares the def variable a and sets it to the result of y less than z (x is promoted to double at compile-time)</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_less_than_or_equal"></a>Less Than Or Equal<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Less than or equal compares two numerical expressions where a resultant boolean value will be true if the left-side expression is a larger value than or equal to the right-side expression otherwise false.  The format is an expression, followed by the left angle and equals operator, and a closing expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">less_than_or_equal: expression '&lt;=' expression;</pre></div><p>A numeric promotion may occur during a less than or equal operation.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents. Non-numeric expressions will result in an error.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /></colgroup><tbody><tr><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">boolean x = 5 &lt;= 4; // declares the int variable x and sets it to the result of 5 less than or equal to 4
double y = 7.0;     // declares the double variable y and sets it to the double constant 7.0
def z = y &lt;= 6.5;   // declares the def variable z and sets it to the result of y less than or equal to 6.5
def a = y &lt;= x;     // declares the def variable a and sets it to the result of y less than or equal to z (x is promoted to double at compile-time)</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_instance_of"></a>Instance Of<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The instanceof operator can be used to compare a variable’s type to a specified reference type where a resultant boolean value is true if the variable type is the same as or a descendant of the specified reference type and false otherwise.  The format is an id, followed by the instanceof operator, and finished with a type.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">instance_of: ID 'instanceof' TYPE;</pre></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">Map x = new HashMap();            // declares the Map variable x and sets it to a newly allocated HashMap
List y = new ArrayList();         // declares the List variable y and sets it to a newly allocated ArrayList
def z = y;                        // declares the def variable z and sets it to y
boolean a = x instanceof HashMap; // declares the boolean variable a and sets it to true since x's type is the same type as HashMap
boolean b = y instanceof Map;     // declares the boolean variable b and sets it to false since y's type is not the same type as Map or a descendant of Map
boolean c = z instanceof List;    // declares the boolean variable c and sets it to true since z's type is a descendant of the type List</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_equality_equals"></a>Equality Equals<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Equality equals compares two expressions where a resultant boolean value is true if the two expressions are equal and false otherwise.  When reference types are compared using this operator the equivalent of the equals member method will be called against the first expression, where the second expression is the argument.  Though the equals member method is used for reference types, this operation will always be null-safe.  Valid comparisons are between boolean types, primitive numeric types, and reference types.  If a comparison is made that is not listed as one of the valid comparisons an error will occur.  The format is an expression, followed by the equals-equals operator, and finished with an expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">equality_equals: expression '==' expression;</pre></div><p>A numeric type promotion may occur during a primitive numeric comparison.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /></colgroup><tbody><tr><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">boolean b0 = true;              // declares the boolean variable b0 and sets it the constant boolean true
boolean b1 = false;             // declares the boolean variable b1 and sets it the constant boolean false
int i = 2;                      // declares the int variable i and sets it the constant int 2
float f = 2.0f;                 // declares the float variable f and sets it the constant float 2.0
List l0 = new ArrayList();      // declares the List variable l0 and sets it to a newly allocated ArrayList
ArrayList l1 = new ArrayList(); // declares the ArrayList variable l1 and sets it to a newly allocated ArrayList
def di0 = 2;                    // declares the def variable di0 and sets it the constant int 2
def di1 = 3;                    // declares the def variable di1 and sets it the constant int 3
def dl = new ArrayList();       // declares the def variable dl and sets it to a newly allocated ArrayList
boolean result;                 // declares the boolean variable result

result = b0 == b1;              // compares b0 to b1 and has a boolean result of false
result = i == f;                // compares i to f where i is promoted to float and has a boolean result of true
result = b0 == i;               // ERROR: a comparison between a boolean and a primitive numeric type is illegal
result = i == l0;               // ERROR: a comparison between a primitive numeric type and a reference type is illegal

l0.add(1);                      // adds a constant int 1 to the List l0
l1.add(1);                      // adds a constant int 1 to the ArrayList l1
result = l0 == l1;              // compares l0 to l1 using l0.equals(l1) and has a boolean result of true
l0.add(1);                      // adds a constant int 1 to the List l0
result = l0 == l1;              // compares l0 to l1 using l0.equals(l1) and has a boolean result of false

result = di0 == di1;            // compares di0 to di1 and has a boolean result of false
result = di0 == i;              // compares di0 to i where i is promoted to def and has a boolean result of true

dl.add(1);                      // adds a constant int 1 to the def ArrayList dl
result = dl == l0;              // compares dl to l0 using dl.equals(l0) with a boolean result of true

result = null == dl;            // compares null to dl with a boolean result of false
result = l1 == null;            // compares l1 to null with a boolean result of false</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_equality_not_equals"></a>Equality Not Equals<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Equality not equals compares two expressions where a resultant boolean value is true if the two expressions are not equal and false otherwise.  When reference types are compared using this operator the equivalent of the equals member method will be called against the first expression, where the second expression is the argument, with the resultant boolean being reversed.  Though the equals member method is used for reference types, this operation will always be null-safe.  Valid comparisons are between boolean types, primitive numeric types, and reference types.  If a comparison is made that is not listed as one of the valid comparisons an error will occur.  The format is an expression, followed by the bang-equals operator, and finished with an expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">equality_not_equals: expression '!=' expression;</pre></div><p>A numeric type promotion may occur during a primitive numeric comparison.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /></colgroup><tbody><tr><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">boolean b0 = true;              // declares the boolean variable b0 and sets it the constant boolean true
boolean b1 = false;             // declares the boolean variable b1 and sets it the constant boolean false
int i = 2;                      // declares the int variable i and sets it the constant int 2
float f = 2.0f;                 // declares the float variable f and sets it the constant float 2.0
List l0 = new ArrayList();      // declares the List variable l0 and sets it to a newly allocated ArrayList
ArrayList l1 = new ArrayList(); // declares the ArrayList variable l1 and sets it to a newly allocated ArrayList
def di0 = 2;                    // declares the def variable di0 and sets it the constant int 2
def di1 = 3;                    // declares the def variable di1 and sets it the constant int 3
def dl = new ArrayList();       // declares the def variable dl and sets it to a newly allocated ArrayList
boolean result;                 // declares the boolean variable result

result = b0 != b1;              // compares b0 to b1 and has a boolean result of true
result = i != f;                // compares i to f where i is promoted to float and has a boolean result of false
result = b0 != i;               // ERROR: a comparison between a boolean and a primitive numeric type is illegal
result = i != l0;               // ERROR: a comparison between a primitive numeric type and a reference type is illegal

l0.add(1);                      // adds a constant int 1 to the List l0
l1.add(1);                      // adds a constant int 1 to the ArrayList l1
result = l0 != l1;              // compares l0 to l1 using l0.equals(l1) and has a boolean result of false
l0.add(1);                      // adds a constant int 1 to the List l0
result = l0 != l1;              // compares l0 to l1 using l0.equals(l1) and has a boolean result of true

result = di0 != di1;            // compares di0 to di1 and has a boolean result of true
result = di0 != i;              // compares di0 to i where i is promoted to def and has a boolean result of false

dl.add(1);                      // adds a constant int 1 to the def ArrayList dl
result = dl != l0;              // compares dl to l0 using dl.equals(l0) with a boolean result of false

result = null != dl;            // compares null to dl with a boolean result of true
result = l1 != null;            // compares null to l1 with a boolean result of true</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_identity_equals"></a>Identity Equals<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Identity equals compares two expressions where a resultant boolean value is true if the two expressions are equal and false otherwise.  Two primitive types are considered to be equal if they have the same value.  Two reference types are considered to be equal if they refer to the exact same instance in memory or are both null.  Valid comparisons are between boolean types, primitive numeric types, and reference types.  If a comparison is made that is not listed as one of the valid comparisons an error will occur.  The format is an expression, followed by the equals-equals-equals operator, and finished with an expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">identity_equals: expression '===' expression;</pre></div><p>A numeric type promotion may occur during a primitive numeric comparison.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /></colgroup><tbody><tr><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">boolean b0 = true;              // declares the boolean variable b0 and sets it the constant boolean true
boolean b1 = false;             // declares the boolean variable b1 and sets it the constant boolean false
int i = 2;                      // declares the int variable i and sets it the constant int 2
float f = 2.0f;                 // declares the float variable f and sets it the constant float 2.0
List l0 = new ArrayList();      // declares the List variable l0 and sets it to a newly allocated ArrayList
ArrayList l1 = new ArrayList(); // declares the ArrayList variable l1 and sets it to a newly allocated ArrayList
List l2 = l1;                   // declares the List variable l2 and sets it to l1
def di0 = 2;                    // declares the def variable di0 and sets it the constant int 2
def di1 = 3;                    // declares the def variable di1 and sets it the constant int 3
def dl = l0;                    // declares the def variable dl and sets it to l0
boolean result;                 // declares the boolean variable result

result = b0 === b1;             // compares b0 to b1 and has a boolean result of false
result = i === f;               // compares i to f where i is promoted to float and has a boolean result of true
result = b0 === i;              // ERROR: a comparison between a boolean and a primitive numeric type is illegal
result = i === l0;              // ERROR: a comparison between a primitive numeric type and a reference type is illegal

l0.add(1);                      // adds a constant int 1 to the List l0
l1.add(1);                      // adds a constant int 1 to the ArrayList l1
result = l0 === l1;             // compares l0 to l1 and has a boolean result of false
l0.add(1);                      // adds a constant int 1 to the List l0
result = l0 === l1;             // compares l0 to l1 and has a boolean result of false
result = l1 === l2;             // compares l1 to l2 and has a boolean result of true

result = di0 === di1;           // compares di0 to di1 and has a boolean result of false
result = di0 === i;             // compares di0 to i where i is promoted to def and has a boolean result of true

result = dl === l0;             // compares dl to l0 with a boolean result of true

result = null === dl;           // compares null to dl with a boolean result of false
result = l1 === null;           // compares null to l1 with a boolean result of false</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_identity_not_equals"></a>Identity Not Equals<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Identity not equals compares two expressions where a resultant boolean value is true if the two expressions are not equal and false otherwise.  Two primitive types are considered to be not equal if they have different values.  Two reference types are considered to be not equal if they refer to the different instances in memory or one is null and the other is not.  Valid comparisons are between boolean types, primitive numeric types, and reference types.  If a comparison is made that is not listed as one of the valid comparisons an error will occur.  The format is an expression, followed by the bang-equals-equals operator, and finished with an expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">identity_not_equals: expression '!==' expression;</pre></div><p>A numeric type promotion may occur during a primitive numeric comparison.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /></colgroup><tbody><tr><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">boolean b0 = true;              // declares the boolean variable b0 and sets it the constant boolean true
boolean b1 = false;             // declares the boolean variable b1 and sets it the constant boolean false
int i = 2;                      // declares the int variable i and sets it the constant int 2
float f = 2.0f;                 // declares the float variable f and sets it the constant float 2.0
List l0 = new ArrayList();      // declares the List variable l0 and sets it to a newly allocated ArrayList
ArrayList l1 = new ArrayList(); // declares the ArrayList variable l1 and sets it to a newly allocated ArrayList
List l2 = l1;                   // declares the List variable l2 and sets it to l1
def di0 = 2;                    // declares the def variable di0 and sets it the constant int 2
def di1 = 3;                    // declares the def variable di1 and sets it the constant int 3
def dl = l0;                    // declares the def variable dl and sets it to l0
boolean result;                 // declares the boolean variable result

result = b0 !== b1;             // compares b0 to b1 and has a boolean result of true
result = i !== f;               // compares i to f where i is promoted to float and has a boolean result of false
result = b0 !== i;              // ERROR: a comparison between a boolean and a primitive numeric type is illegal
result = i !== l0;              // ERROR: a comparison between a primitive numeric type and a reference type is illegal

l0.add(1);                      // adds a constant int 1 to the List l0
l1.add(1);                      // adds a constant int 1 to the ArrayList l1
result = l0 !== l1;             // compares l0 to l1 and has a boolean result of true
l0.add(1);                      // adds a constant int 1 to the List l0
result = l0 !== l1;             // compares l0 to l1 and has a boolean result of true
result = l1 !== l2;             // compares l1 to l2 and has a boolean result of false

result = di0 !== di1;           // compares di0 to di1 and has a boolean result of true
result = di0 !== i;             // compares di0 to i where i is promoted to def and has a boolean result of false

result = dl !== l0;             // compares dl to l0 with a boolean result of false

result = null !== dl;           // compares null to dl with a boolean result of true
result = l1 !== null;           // compares null to l1 with a boolean result of true</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_bitwise_and"></a>Bitwise And<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Bitwise and will and together two integer type expressions.  The table below shows what each resultant bit will in the resultant integer type value be based on the corresponding bit in each integer type expression.</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>0</p></td></tr><tr><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>0</p></td></tr><tr><td align="left" valign="top"><p>0</p></td><td align="left" valign="top"><p>0</p></td><td align="left" valign="top"><p>0</p></td></tr></tbody></table></div><p>The format starts with an expression, follows with the ampersand operator, and finishes with an expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">bitwise_and: expression '&amp;' expression;</pre></div><p>A numeric promotion may occur during a bitwise and operation.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents.  Non-integer expressions will result in an error.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /></colgroup><tbody><tr><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">byte x = 16;    // declares the byte variable x and sets it to a constant int 1
int y = x &amp; 4;  // declares the int variable y and sets it to the result of x and 4
long z = y &amp; x; // declares the long variable z and sets it the result of y and x
def d = z &amp; 2;  // declares the def variable d and sets it the result of z and 2
def e;          // declares the def variable e
e = d &amp; z;      // sets e to the result of d and z</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_boolean_xor"></a>Boolean Xor<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Boolean xor will xor together two boolean expressions.  The table below shows what the resultant boolean value will be based on the two boolean expressions.</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>true</p></td><td align="left" valign="top"><p>false</p></td></tr><tr><td align="left" valign="top"><p>true</p></td><td align="left" valign="top"><p>false</p></td><td align="left" valign="top"><p>true</p></td></tr><tr><td align="left" valign="top"><p>false</p></td><td align="left" valign="top"><p>true</p></td><td align="left" valign="top"><p>false</p></td></tr></tbody></table></div><p>The format starts with an expression, follows with the carrot operator, and finishes with an expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">boolean_xor: expression '^' expression;</pre></div><p>Note that def types will be assumed to be of the boolean type.  Any def type evaluated at run-time that does not represent a boolean will result in an error.  Non-boolean expressions will result in an error.</p><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">boolean x = false;    // declares the boolean variable x and sets the constant boolean false
boolean y = x ^ true; // declares the boolean variable y and sets it the result of x xor true
def z = y ^ x;        // declares the def variable z and sets it to the result of y xor x</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_bitwise_xor"></a>Bitwise Xor<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Bitwise xor will xor together two integer type expressions.  The table below shows what each resultant bit will in the resultant integer type value be based on the corresponding bit in each integer type expression.</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>0</p></td></tr><tr><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>0</p></td><td align="left" valign="top"><p>1</p></td></tr><tr><td align="left" valign="top"><p>0</p></td><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>0</p></td></tr></tbody></table></div><p>The format starts with an expression, follows with the carrot operator, and finishes with an expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">bitwise_xor: expression '^' expression;</pre></div><p>A numeric promotion may occur during a bitwise xor operation.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents.  Non-integer expressions will result in an error.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /></colgroup><tbody><tr><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">byte x = 16;    // declares the byte variable x and sets it to a constant int 1
int y = x ^ 4;  // declares the int variable y and sets it to the result of x xor 4
long z = y ^ x; // declares the long variable z and sets it the result of y xor x
def d = z ^ 2;  // declares the def variable d and sets it the result of z xor 2
def e;          // declares the def variable e
e = d ^ z;      // sets e to the result of d xor z</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_bitwise_or"></a>Bitwise Or<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Bitwise or will or together two integer type expressions.  The table below shows what each resultant bit will in the resultant integer type value be based on the corresponding bit in each integer type expression.</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>0</p></td></tr><tr><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>1</p></td></tr><tr><td align="left" valign="top"><p>0</p></td><td align="left" valign="top"><p>1</p></td><td align="left" valign="top"><p>0</p></td></tr></tbody></table></div><p>The format starts with an expression, follows with the pipe operator, and finishes with an expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">bitwise_or: expression '|' expression;</pre></div><p>A numeric promotion may occur during a bitwise xor operation.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents.  Non-integer expressions will result in an error.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /></colgroup><tbody><tr><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">byte x = 16;    // declares the byte variable x and sets it to a constant int 1
int y = x | 4;  // declares the int variable y and sets it to the result of x or 4
long z = y | x; // declares the long variable z and sets it the result of y or x
def d = z | 2;  // declares the def variable d and sets it the result of z or 2
def e;          // declares the def variable e
e = d | z;      // sets e to the result of d or z</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_boolean_and"></a>Boolean And<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Boolean and will and together two boolean expressions.  If the first expression is found to be false then it is known that the result will also be false, so evaluation of the second expression will be skipped.  The table below shows what the resultant boolean value will be based on the two boolean expressions.</p><p>||true|false
|true|true|false
|false|false|false</p><p>The format starts with an expression, follows with the ampersand-ampersand operator, and finishes with an expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">boolean_and: expression '&amp;&amp;' expression;</pre></div><p>Note that def types will be assumed to be of the boolean type.  Any def type evaluated at run-time that does not represent a boolean will result in an error.  Non-boolean expressions will result in an error.</p><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">boolean x = false;     // declares the boolean variable x and sets the constant boolean false
boolean y = x &amp;&amp; true; // declares the boolean variable y and sets it the result of x and true
def z = y &amp;&amp; x;        // declares the def variable z and sets it to the result of y and x</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_boolean_or"></a>Boolean Or<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Boolean or will or together two boolean expressions.  If the first expression is found to be true then it is known that the result will also be true, so evaluation of the second expression will be skipped.  The table below shows what the resultant boolean value will be based on the two boolean expressions.</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>true</p></td><td align="left" valign="top"><p>false</p></td></tr><tr><td align="left" valign="top"><p>true</p></td><td align="left" valign="top"><p>true</p></td><td align="left" valign="top"><p>true</p></td></tr><tr><td align="left" valign="top"><p>false</p></td><td align="left" valign="top"><p>true</p></td><td align="left" valign="top"><p>false</p></td></tr></tbody></table></div><p>The format starts with an expression, follows with the pipe-pipe operator, and finishes with an expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">boolean_and: expression '||' expression;</pre></div><p>Note that def types will be assumed to be of the boolean type.  Any def type evaluated at run-time that does not represent a boolean will result in an error.  Non-boolean expressions will result in an error.</p><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">boolean x = false;     // declares the boolean variable x and sets the constant boolean false
boolean y = x || true; // declares the boolean variable y and sets it the result of x or true
def z = y || x;        // declares the def variable z and sets it to the result of y or x</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_conditional"></a>Conditional<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>A conditional operation consists of three expressions.  The first expression is evaluated with an expected boolean result type.  If the first expression evaluates to true then the second expression will be evaluated.  If the first expression evaluates to false then the third expression will be evaluated.  This can be used as a shortcut many different operations without requiring a full if/else branch.  Errors will occur if the first expression does not evaluate to a boolean type or if one of the second or third expression cannot be converted to a type appropriate for the expected result.  The format is an expression followed by a question-mark operator, another expression, a colon operator, and finishes with a final expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">conditional: expression '?' expression ':' expression;</pre></div><p>A numeric type promotion may occur during the evaluation of a conditional with the second and third expressions if the expected result is a numeric type.  A def type evaluated at run-time will follow the same promotion table at run-time following whatever type def represents.</p><p>Promotion Table:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /><col class="col_6" /><col class="col_7" /><col class="col_8" /><col class="col_9" /></colgroup><tbody><tr><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>byte</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>short</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>char</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>long</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>float</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>double</p></td><td align="left" valign="top"><p>def</p></td></tr><tr><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td><td align="left" valign="top"><p>def</p></td></tr></tbody></table></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">boolean b = true;                        // declares the boolean variable b and sets it the constant boolean true

int x = b ? 1 : 2;                       // declares the int variable x and sets it to the int constant 1
                                         // since the first expression of the conditional evaluates to true
                                         // so the second expression is evaluated for a result

List y = x &gt; 1 ? new ArrayList() : null; // declares the List variable y and sets it to null
                                         // since the first expression of the conditional evaluates to false
                                         // so the third expression is evaluated for a result

def z = x &lt; 2 ? true : false;            // declares the def variable z and sets it to the boolean constant true
                                         // since the first expression of the conditional evaluates to true
                                         // so the second expression is evaluated for a result</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_elvis"></a>Elvis<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The elvis operator consists of two expressions.  If the first expression is a non-null value then the resultant value will be the evaluated first expression otherwise the resultant value will be the evaluated second expression.  This is typically used as a shortcut for a null check in a conditional.  An error will occur if the expected result is a primitive type.  The format is an expression, followed by the question-mark-colon operator, and finishes with an expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">elvis: expression '?:' expression;</pre></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">List l = new ArrayList();     // declares the List variable l and sets it to a newly allocated ArrayList
List y = l : new ArrayList(); // declares the List variable y and sets it to l since l is not null
y = null;                     // sets y to null
def z = y ?: new HashMap();   // declares the def variable z and sets it to a newly allocated HashMap since y is null</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_assignment"></a>Assignment<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Assignment can be used to assign a value to a variable.  See Variable Assignment [MARK] for more information.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_compound_assignment"></a>Compound Assignment<a href="https://github.com/elastic/elasticsearch/edit/6.1/docs/painless/painless-operators.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Compound assignment can be used as a shortcut for an assignment where a binary operation would occur between the variable/field as the left-side expression and a separate right-side expression.  The variable/field and right-side expression must be of appropriate types for the specific operation or an error will occur.  A downcast may be necessary for certain operations to be able to assign the result back into the variable/field and will happen implicitly.  The format is a variable/field, followed by one of the compound assignment operators, finished with an expression.</p><p><span class="strong strong"><strong>Grammar:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">compund_assignment: ID (. ID)? '$=' expression; // $ is a placeholder for the operation symbol</pre></div><p>A compound assignment is equivalent to the expression below where V is the variable/field and T is the type of variable/member.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">V = (T)(V op expression);</pre></div><p>The table below shows all available operators for compound assignment.  All operators follow any casting/promotion rules according to their regular definition.</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td align="left" valign="top"><p>Operator</p></td><td align="left" valign="top"><p>Compound Symbol</p></td></tr><tr><td align="left" valign="top"><p>Multiplication</p></td><td align="left" valign="top"><p>*=</p></td></tr><tr><td align="left" valign="top"><p>Division</p></td><td align="left" valign="top"><p>/=</p></td></tr><tr><td align="left" valign="top"><p>Remainder</p></td><td align="left" valign="top"><p>%=</p></td></tr><tr><td align="left" valign="top"><p>String Concatenation</p></td><td align="left" valign="top"><p>+=</p></td></tr><tr><td align="left" valign="top"><p>Addition</p></td><td align="left" valign="top"><p>+=</p></td></tr><tr><td align="left" valign="top"><p>Subtraction</p></td><td align="left" valign="top"><p>-=</p></td></tr><tr><td align="left" valign="top"><p>Left Shift</p></td><td align="left" valign="top"><p>&lt;⇐</p></td></tr><tr><td align="left" valign="top"><p>Right Shift</p></td><td align="left" valign="top"><p>&gt;&gt;=</p></td></tr><tr><td align="left" valign="top"><p>Unsigned Right Shift</p></td><td align="left" valign="top"><p>&gt;&gt;&gt;=</p></td></tr><tr><td align="left" valign="top"><p>Bitwise And</p></td><td align="left" valign="top"><p>&amp;=</p></td></tr><tr><td align="left" valign="top"><p>Boolean And</p></td><td align="left" valign="top"><p>&amp;=</p></td></tr><tr><td align="left" valign="top"><p>Bitwise Xor</p></td><td align="left" valign="top"><p>^=</p></td></tr><tr><td align="left" valign="top"><p>Boolean Xor</p></td><td align="left" valign="top"><p>^=</p></td></tr><tr><td align="left" valign="top"><p>Bitwise Or</p></td><td align="left" valign="top"><p>|=</p></td></tr><tr><td align="left" valign="top"><p>Boolean Or</p></td><td align="left" valign="top"><p>|=</p></td></tr></tbody></table></div><p><span class="strong strong"><strong>Examples:</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Java">int i = 10;         // declares the variable i and sets it to constant int 10
i *= 2;             // multiplies i by 2 -- i = (int)(i * 2)
i /= 5;             // divides i by 5 -- i = (int)(i / 5)
i %= 3;             // gives the remainder for i/3 -- i = (int)(i % 3)
i += 5;             // adds 5 to i -- i = (int)(i + 5)
i -= 5;             // subtracts 5 from i -- i = (int)(i - 5)
i &lt;&lt;= 2;            // left shifts i by 2 -- i = (int)(i &lt;&lt; 2)
i &gt;&gt;= 1;            // right shifts i by 1 -- i = (int)(i &gt;&gt; 1)
i &gt;&gt;&gt;= 1;           // unsigned right shifts i by 1 -- i = (int)(i &gt;&gt;&gt; 1)
i &amp;= 15;            // ands i with 15 -- i = (int)(i &amp; 15)
i ^= 12;            // xors i with 12 -- i = (int)(i ^ 2)
i |= 4;             // ors i with 4 -- i = (int)(i | 4)

boolean b = true;   // declares the boolean variable b and sets it to the constant boolean true
b &amp;= false;         // ands b with false -- b = (boolean)(b &amp; false)
b ^= false;         // xors b with false -- b = (boolean)(b &amp; false)
b |= true;          // ors be with true -- b = (boolean)(b &amp; false)

def x = 'compound'; // declares the def variable x and sets it to the constant String 'compound'
x += ' assignment'; // string concatenates ' assignment' to x -- x = (String)(x + ' assignment')</pre></div></div></div><div class="navfooter"><span class="prev"><a href="casting.html">
              « 
              Casting</a>
           
        </span><span class="next">
           
          <a href="painless-syntax.html">Painless Syntax
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
					<div id="rtpcontainer" style="display: block;">
						<div class="mktg-promo">
						<h3>Getting Started Videos</h3>
						<ul class="icons">
							<li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
							<li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
							<li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
						</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

        </div>
      	


<div id="footer-subscribe" class="home-footer-subscribe">
  <div class="subscribe-wrapper">
    <div class="container">
      <div class="subscribe-form-container">
        <div class="subscribe-title col-md-12 col-lg-6">
            <h5>Be in the know with the latest and greatest from Elastic.</h5>
        </div>
        <div class="subscribe-form col-md-12 col-lg-6">
          <form class="mktoForm sb-form"></form>
        </div>
      </div>
      <div class="form_thanks hide">
        
          <p>Thanks for subscribing! We'll keep you updated with new releases.</p>
        
      </div>
    </div>
  </div>
</div>
<!--subscribe newsletter end-->

<!-- Footer Section -->
<footer class="footer-wrapper">
  <div class="container">
    <div class="row footer-content">
        
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/products">Products ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/products/elasticsearch">Elasticsearch</a></li>
                  
                
              
                
                  
                    <li><a href="/products/kibana">Kibana</a></li>
                  
                
              
                
                  
                    <li><a href="/products/beats">Beats</a></li>
                  
                
              
                
                  
                    <li><a href="/products/logstash">Logstash</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack">Stack Features (formerly X-Pack)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/security">Security</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/alerting">Alerting</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/canvas">Canvas</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/monitoring">Monitoring</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/graph">Graph</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/reporting">Reporting</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/machine-learning">Machine Learning</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/elasticsearch-sql">Elasticsearch SQL</a></li>
                  
                
              
                
                  
                    <li><a href="/products/hadoop">Elasticsearch-Hadoop</a></li>
                  
                
              
                
                  
                    <li><a href="/products/ece">Elastic Cloud Enterprise</a></li>
                  
                
              
              </ul>
              
                <h3><a href=""></a></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/solutions">Solutions ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/solutions/logging">Logging</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/metrics">Metrics</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/site-search">Site Search</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/security-analytics">Security Analytics</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/apm">APM</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/app-search">App Search</a></li>
                  
                
              
              </ul>
              
                <h3><a href="/cloud">Elastic Cloud ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/cloud/elasticsearch-service">Elasticsearch Service</a></li>
                  
                
              
                
                  
                    <li><a href="/aws-elasticsearch-service">AWS Elasticsearch Service Comparison</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud/app-search-service">Elastic App Search Service</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud/site-search-service">Elastic Site Search Service</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3>Resources</h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/blog">Blog</a></li>
                  
                
              
                
                  
                    <li><a href="https://cloud-status.elastic.co">Cloud Status</a></li>
                  
                
              
                
                  
                    <li><a href="/community">Community</a></li>
                  
                
              
                
                  
                    <li><a href="/use-cases">Customers & Use Cases</a></li>
                  
                
              
                
                  
                    <li><a href="/guide">Documentation</a></li>
                  
                
              
                
                  
                    <li><a href="/elasticon">Elastic{ON} Events</a></li>
                  
                
              
                
                  
                    <li><a href="https://discuss.elastic.co/">Forums</a></li>
                  
                
              
                
                  
                    <li><a href="/community/meetups">Meetups</a></li>
                  
                
              
                
                  
                    <li><a href="/subscriptions">Subscriptions</a></li>
                  
                
              
                
                  
                    <li><a href="https://support.elastic.co">Support Portal</a></li>
                  
                
              
                
                  
                    <li><a href="/videos">Videos & Webinars</a></li>
                  
                
              
                
                  
                    <li><a href="/training">Training</a></li>
                  
                
              
              </ul>
              
                <h3></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/about">About ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/about/careers">Careers/Jobs</a></li>
                  
                
              
                
                  
                    <li><a href="/about/our-source-code">Our Source Code</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams">Teams</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams/board">Board of Directors</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams/leadership">Leadership</a></li>
                  
                
              
                
                  
                    <li><a href="/contact">Contact</a></li>
                  
                
              
                
                  
                    <li><a href="/about/history-of-elasticsearch">Our Story</a></li>
                  
                
              
                
                  
                    <li><a href="/about/why-open-source">Why Open Source</a></li>
                  
                
              
                
                  
                    <li><a href="/about/distributed">Distributed by Intention</a></li>
                  
                
              
                
                  
                    <li><a href="/about/partners">Partners</a></li>
                  
                
              
                
                  
                    <li><a href="/about/press">Media</a></li>
                  
                
              
                
                  
                    <li><a href="https://ir.elastic.co">Investor Relations</a></li>
                  
                
              
                
                  
                    <li><a href="https://www.elastic.shop">Elastic Store</a></li>
                  
                
              
              </ul>
              
                <h3><a href=""></a></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
       
    </div>
     <!-- Social Media Section -->
    <div class="row social-icon">
      <div class="col-xs-12 col-sm-12 col-md-6 col-md-offset-3">
	    <div class="row">
		     <div class="follow-us col-xs-12 col-sm-12 col-md-12">
			    <div class="social-label">FOLLOW US</div>
			    <ul class="social-icon-list">
          
          		 	<li class="Facebook"><a id="footer_facebook" href="https://www.facebook.com/elastic.co">Facebook</a></li>
          
          		 	<li class="Twitter"><a id="footer_twitter" href="https://www.twitter.com/elastic">Twitter</a></li>
          
          		 	<li class="LinkedIn"><a id="footer_linkedin" href="https://www.linkedin.com/company/elastic-co">LinkedIn</a></li>
          
          		 	<li class="Xing"><a id="footer_xing" href="https://www.xing.com/companies/elastic.co">Xing</a></li>
          
          		 	<li class="YouTube"><a id="footer_youtube" href="https://www.youtube.com/user/elasticsearch">YouTube</a></li>
          
		  		</ul>
		     </div>
	    </div>
      </div>
    </div>
    <!-- Social Media Section end-->
    <div class="row">
	<div class="col-xs-12 col-sm-12 col-md-11">
		<div class="copyright">
			<ul>
				<li><a href="/legal/trademarks">Trademarks</a></li>
				<li><a href="/legal/terms-of-use">Terms of Use</a></li>
				<li><a href="/legal/privacy-statement">Privacy</a></li>
				<li><a href="/brand">Brand</a></li>
			</ul>
			<div class="copyright-content">
				<div class="footer-text">
					<p>© 2018. Elasticsearch B.V. All Rights Reserved
					</p>
					<p>Elasticsearch is a trademark of Elasticsearch B.V., registered in the U.S. and in other countries.
					</p>
					<p>Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a> in the United States and/or other countries.
					</p>
				</div>
			</div>
		</div>
	</div>
	<div class="col-xs-2 col-xs-offset-5 col-sm-1 col-sm-offset-5 col-md-1 col-md-offset-0">
		<div class="footer-logo"><a href="/"><img src="/static/images/svg/logo-elastic-footer-stacked-999.svg" class="img-responsive"></a>
		</div>
	</div>
</div>
  </div>
</footer>
<!-- Footer Section end-->

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>
 
     
<script type="text/javascript">
$(document).ready(function(){
	if (window.location.hash.length) {
	      var target = $(window.location.hash);
	      target = target.length ? target : $(window.location.hash);
	      if (target.length) {
	        setTimeout(function(){ $(window).scrollTop(target.offset().top - 60); }, 1200);        
	      }
	}
	$('#guide').on('click','a[href*=#]:not([href=#])',function(e) {
			var flag=true;
		      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		          var target = $(this.hash);
		          target = target.length ? target :$(this.hash);
		          if (target.length) {
		            if(flag){
		              flag=false;
		              var heightScroll=($('.tertiary-nav.navbar-fixed-top').height())?60:110;
		              $('html,body').animate({
		                  scrollTop: target.offset().top - heightScroll
		                }, 2000, function(){
		                  flag=true;
		                });
		            }                    
		          }
		      }
		    
	});

})

</script>

     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>