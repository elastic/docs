<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Azure Module
        | Logstash Reference [6.5]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Logstash Reference [6.5]" /><link rel="up" href="logstash-modules.html" title="Working with Logstash Modules" /><link rel="prev" href="netflow-module.html" title="Logstash Netflow Module" /><link rel="next" href="filebeat-modules.html" title="Working with Filebeat Modules" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Logstash/Reference/6.5" /><meta name="DC.subject" content="Logstash" /><meta name="DC.identifier" content="6.5" />
    

    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
<meta name="apple-mobile-web-app-title" content="Elastic">
<meta name="application-name" content="Elastic">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">
<meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
<meta name="yandex-verification" content="d8a47e95d0972434" />
<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >



	



<!-- end DC tags -->


	<meta name="description" content="" />



	<meta name="localized" content="true" />


















		
			<meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
		

		

    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">

	 

    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    
    

    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

  <script type="text/javascript">
  // -------------------- set language based on browser language --------------------
  var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

  if($.cookie("is_lang_detected") == undefined){
    if(locales[lang] != undefined && locales[lang] != currentlocale){
      locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
      $.cookie("is_lang_detected",true ,{ path: '/'}); 
      window.location = locale_lang_url;
    } 
  }
        
  // --------------------- end of set language based on browser language -----------------
  </script>

  

	
	<link type="text/css" rel="stylesheet" href="/static/css/guide.css" />


  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
  <body >
  	<!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
                              height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
<script src="/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>


<script type="text/javascript">
  var active;
  
  active = Math.random() < 1 //0.9 
  
  elasticApm.init({
    active: active,
    serviceName: "elastic-co-frontend",
    serverUrl: "https://elastic-co-apm-server.app.elstc.co"
  })

  var pageLoadName
  var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
  var parts = pathname.split('/');

  if (parts.length && parts[1] === 'blog') {
    if (parts.length === 2) {
      pageLoadName =  '/blog';
    }
    else if (parts[2] === 'category') {
      pageLoadName =  '/blog/category';
    }
    else if (parts[2] === 'archive') {
      pageLoadName =  '/blog/archive';
    }
    else {
      pageLoadName =  '/blog/detail';
    }
  }
  else if (parts.length && parts[1] === 'elasticon') {
    if (parts.length === 2) {
      pageLoadName =  '/elasticon';
    }
    else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
      pageLoadName =  '/elasticon/overview';
    }
    else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
      pageLoadName =  '/elasticon/video';
    }
  }
  else if (parts.length && parts[1] === 'guide') {
    pageLoadName =  '/guide';
  }
  else if (parts.length === 2 && parts[1] === 'videos') {
    pageLoadName =  '/videos';
  }
  else if (parts.length > 2 && parts[1] === 'videos') {
    pageLoadName =  '/videos/detail';
  }
  else if (parts.length > 2 && parts[1] === 'webinars') {
    pageLoadName =  '/webinars/detail';
  }
  else {
    pageLoadName =  window.location.pathname;
  }

  console.log('apm pageLoadName:', pageLoadName, parts)
  elasticApm.setTags({env:"production"});
  elasticApm.setInitialPageLoadName(pageLoadName);
</script>

<!-- Elastic APM -->


    <!-- Header Section -->
    
<header class="header-wrapper">
  



  




<div class="navigation-wrapper">
  <div class="container">
    <nav class="navbar">
    <!-- Brand and toggle get grouped for better mobile display -->

    <div class="navbar-mobile-header navbar-header mr-20 mr-xs-0">
      <div class="row hidden-sm hidden-md hidden-lg">
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg">
          <div class="navbar-mobile-header-icon navbar-mobile-header-icon-out">
            <span></span>
            <span></span>
            <span></span>
          </div>
          
        </div>
        <div class="col-xs-2 text-center">
          <div class="navbar-brand" id="elastic">
            <div id="logo">
              <a class="logo-m hidden-sm hidden-md hidden-lg" href="/">
                <img src="/assets/blta09706b1c5cc1e99/elastic-logo-mobile.svg" alt="elastic-logo-mobile">
              </a>
            </div>
          </div>
        </div>
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg text-right">
          <ul class="menu-m hidden-sm hidden-md hidden-lg">
            <li class=""><a class="icon-contact" href="/contact"></a></li>

            <li id="searchbar"><a class="button icon" href="#" alt="Search"></a></li>
            <li class="lang global-language">
                
                  
                
                  
                    <a href="#">EN</a>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              <ul class="language-list">
                
                  
                    
                  
                  
                  <li><a href="/de/" data-value="/de/" id="locale-select">Deutsch</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="#" data-value="/" id="locale-select">English</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/es/" data-value="/es/" id="locale-select">Español</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/fr/" data-value="/fr/" id="locale-select">Français</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/jp/" data-value="/jp/" id="locale-select">日本語</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/kr/" data-value="/kr/" id="locale-select">한국어</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/cn/" data-value="/cn/" id="locale-select">简体中文</a></li>
                  
                
              </ul>
            </li>
          </ul>
        </div>
      </div>

      <div class="navbar-brand hidden-xs" id="elastic">
        <div id="logo">
          <a class="hidden-xs" id="elastic-logo" href="/">
            <img src="/assets/blt244a845f141977c3/elastic-logo.svg" alt="elastic-logo">
          </a>
        </div>
      </div>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse mobile-inner-nav">
      <nav class="nav navbar-nav primary-nav-hover" id="nav">
        <ul>
        
          
            
              
            
            <li>
              <a class=" " href="/products">Products</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/cloud">Cloud</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/services">Services</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/use-cases">Customers</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/learn">Learn</a>
            </li>
          
        
          
        
        </ul>
      </nav>
      <nav class="nav navbar-nav navbar-right hidden-xs">
        <ul>
          <li class="hidden-xs hidden-sm"><a href="/downloads">downloads</a></li>
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-download" href="/downloads"></a></li>
          <!-- To set parameters to contact button -->
          
           
            
          

          
            
            
          
          <li class="hidden-xs hidden-sm"><a class="btn btn-secondary btn-contact" href="/contact?storm=global-header-en">contact</a></li>
          <!-- ////////////////ends here///////////////-->          
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-contact" href="/contact?storm=global-header-en"></a></li>
          <li class="hidden-xs" id="searchbar"><a class="button icon" href="#" alt="Search"></a></li>

          <li class="hidden-xs lang global-language">
                
                  
                
                  
                    <a href="#">EN</a>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
               <ul class="language-list">
              
                
                  
                
              
              <li><a class="" href="/de/" data-value="/de/">Deutsch</a></li>
              
              
                
                  
                
              
              <li><a class="" href="#" data-value="/">English</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/es/" data-value="/es/">Español</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/fr/" data-value="/fr/">Français</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/jp/" data-value="/jp/">日本語</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/kr/" data-value="/kr/">한국어</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/cn/" data-value="/cn/">简体中文</a></li>
              
              
            </ul>
          </li>
        </ul>
      </nav>
    </div><!-- /.navbar-collapse -->
  </nav>
  </div>
</div>

<div class="header-search-wrapper open-search"> 
  <div class="container">
    <div class="big-search">
      <i class="big-search-icon"></i>
      <form id="searchfrm" name="searchForm" autocomplete="on" action="/search" method="get">
        <ul class="tags-wrapper">
          <li class="search-field"><input type="text" name="q" id="autocomplete" class="form-control global-input" autocomplete="off"></li>
        </ul>
      </form>
      <a class="header-search-cancel" href="#"></a>
    </div>
    <div class="nav-auto-complete"></div>
  </div>
</div>
</header>
<link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">
<style> 
    
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
    
</style>
<script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>
<script type="text/javascript">
  $(document).ready( function(){
    // if($('#scrollable-pane li').length > 3){
      $('.horizon-swiper').horizonSwiper({
        showItems: 3,
        arrows: true
      }); 
    // }
    
    $('.navbar-toggle').on('click', function(){
      $('.mobile-navigation, .menu-open').hide();
      $('.navigation-wrapper').addClass('mobile-navigation');
      $('.navbar').addClass('menu-open');
      $('.menu-close').show();
    });
    $('.menu-close').on('click', function(){
      $('.navigation-wrapper').removeClass('mobile-navigation');
      $('.navbar').removeClass('menu-open');
      $('.menu-close').hide();
    });

    var active_url = "";

    $(".navbar-mobile-header-icon").click(function(index){
      $('.navigation-wrapper').toggleClass('menu-overlay');
      $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
      $(".mobile-inner-nav").slideToggle(500);
      $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
        $(this).css({'animation-delay': (index/25)+'0.4s'});
      });
    });

    $('.dropdown-btn').on('click', function(e){
      e.preventDefault();
      setDropdown();
    });
    
    function setDropdown() {
      $('#myDropdown').slideToggle();
    }

    $('body').on('click', function(event){
      if (!event.target.matches('.dropdown-btn')) {

        var dropdowns = $(".dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    });

    // if($(window).width() < 769){
    //   var $item = $('.scrollable-panel li'), 
    //       visible = 3, //Set the number of items that will be visible
    //       index = 0, //Starting index
    //       endIndex = ( $item.length / visible ) - 1; //End index (NOTE:: Requires visible to be a factor of $item.length... You can improve this by rounding...)

    //   $('#right-arrow').click(function(){
    //     if(index < endIndex ){
    //       index++;
    //       $item.animate({'left':'-=300px'});
    //     }
    //   });

    //   $('#left-arrow').click(function(){
    //     if(index > 0){
    //       index--;            
    //       $item.animate({'left':'+=300px'});
    //     }
    //   });
    // }
  });
  $(window).resize(function () {
    $('.horizon-swiper').horizonSwiper({
      showItems: 3,
      arrows: true
    });
  });
</script>
    
      


  





  
  
  
  
    <div class="tertiary-nav bdr-btm-e0e0e0">
      <div class="container">
        <div class="p-t-b-15 clearfix">
          <div class="breadcrum-wrapper pull-left text-left">
          
            <a href="/guide">Docs</a> 
          
          </div>
          
          
          
        </div>
      </div>
    </div>

    <div class="nav-mobile-dropdown hidden-sm hidden-md hidden-lg bdr-btm-e0e0e0 clearfix">
      <div class="container text-right">
        <div class="breadcrum-wrapper pull-left text-left">
          
              <a href="/guide">Docs</a>
          
        </div>
        
        
      </div>
    </div>
  


<style type="text/css">

  
</style>
    
    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   
          
            
        			<!-- <div class="pageheader">
	<div class="common-container">
		
			<h2 class="page-title">Guide template</h2>
		
	</div>
</div> -->


        		
          

          
	<section id="guide" lang="en">
		<div class="container">
			<div class="row">
			  <!-- start body -->
				
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Logstash Reference
      [6.5]
    </a></span> » <span class="breadcrumb-link"><a href="logstash-modules.html">Working with Logstash Modules</a></span> » <span class="breadcrumb-node">Azure Module</span></div><div class="navheader"><span class="prev"><a href="netflow-module.html">
              « 
              Logstash Netflow Module</a>
           
        </span><span class="next">
           
          <a href="filebeat-modules.html">Working with Filebeat Modules
               »
            </a></span></div><div class="xpack section"><div class="titlepage"><div><div><h2 class="title"><a id="azure-module"></a>Azure Module<a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>This functionality is experimental and may be changed or removed completely in a future release. Elastic will take a best effort approach to fix any issues, but experimental features are not subject to the support SLA of official GA features.</p></div></div><p>The <a class="ulink" href="https://azure.microsoft.com/en-us/overview/what-is-azure/" target="_top">Microsoft Azure</a>
module in Logstash helps you easily integrate your Azure activity logs and SQL
diagnostic logs with the Elastic Stack.</p><div class="informalfigure"><div class="mediaobject"><img src="static/images/azure-flow.png" width="432" alt="Azure Work Flow" /></div></div><p>You can monitor your Azure cloud environments and SQL DB deployments with
deep operational insights across multiple Azure subscriptions. You can explore
the health of your infrastructure in real-time, accelerating root cause analysis
and decreasing overall time to resolution. The Azure module helps you:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Analyze infrastructure changes and authorization activity
</li><li class="listitem">
Identify suspicious behaviors and potential malicious actors
</li><li class="listitem">
Perform root-cause analysis by investigating user activity
</li><li class="listitem">
Monitor and optimize your SQL DB deployments.
</li></ul></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>The Logstash Azure module is an
<a class="ulink" href="https://www.elastic.co/products/x-pack" target="_top">X-Pack</a> feature under the Basic License
and is therefore free to use. Please contact
<a class="ulink" href="mailto:monitor-azure@elastic.co" target="_top">monitor-azure@elastic.co</a> for questions or more
information.</p></div></div><p>The Azure module uses the
<a class="ulink" href="http://www.elastic.co/guide/en/logstash/6.5/plugins-inputs-azure_event_hubs.html" target="_top">Logstash Azure Event Hubs
input plugin</a> to consume data from Azure Event Hubs. The module taps directly into the
Azure dashboard, parses and indexes events into Elasticsearch, and installs a
suite of Kibana dashboards to help you start exploring your data immediately.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="azure-dashboards"></a>Dashboards<a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>These Kibana dashboards are available and ready for you to use. You can use them as they are, or tailor them to meet your needs.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_infrastructure_activity_monitoring"></a>Infrastructure activity monitoring<a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong strong"><strong>Overview</strong></span>. Top-level view into your Azure operations, including info about users, resource groups, service health, access, activities, and alerts.
</li><li class="listitem">
<span class="strong strong"><strong>Alerts</strong></span>. Alert info, including activity, alert status, and alerts heatmap
</li><li class="listitem">
<span class="strong strong"><strong>User Activity</strong></span>. Info about system users, their activity, and requests.
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_sql_database_monitoring"></a>SQL Database monitoring<a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong strong"><strong>SQL DB Overview</strong></span>. Top-level view into your SQL Databases, including counts for databases, servers, resource groups, and subscriptions.
</li><li class="listitem">
<span class="strong strong"><strong>SQL DB Database View</strong></span>. Detailed info about each SQL Database, including wait time, errors, DTU and storage utilization, size, and read and write input/output.
</li><li class="listitem">
<span class="strong strong"><strong>SQL DB Queries</strong></span>. Info about SQL Database queries and performance.
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="azure-module-prereqs"></a>Prerequisites<a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Azure Monitor enabled with Azure Event Hubs and the Elastic Stack are required
for this module.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="azure-elk-prereqs"></a>Elastic prerequisites<a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The instructions below assume that you have Logstash, Elasticsearch, and Kibana running locally.
You can also run Logstash, Elasticsearch, and Kibana on separate hosts.</p><p>The Elastic Stack version 6.4 (or later) is required for this module.</p><p>The Azure module uses the <code class="literal">azure_event_hubs</code> input plugin to consume logs and
metrics from your Azure environment. It is installed by default with Logstash 6.4
(or later). Basic understanding of the plugin and options is helpful when you
set up the Azure module.
See the <a class="ulink" href="http://www.elastic.co/guide/en/logstash/6.5/plugins-inputs-azure_event_hubs.html" target="_top">azure_event_hubs input
plugin documentation</a> for more information.</p><p>Elastic products are <a class="ulink" href="https://www.elastic.co/downloads" target="_top">available to download</a> and
easy to install.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="azure-prereqs"></a>Azure prerequisites<a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Azure Monitor should be configured to stream logs to one or more Event Hubs.
Logstash will need to access these Event Hubs instances to consume your Azure logs and metrics.
See <a class="xref" href="azure-module.html#azure-resources" title="Microsoft Azure resources">Microsoft Azure resources</a> at the end of this topic for links to Microsoft Azure documentation.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="configuring-azure"></a>Configure the module<a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Specify <a class="link" href="azure-module.html#azure_config_options" title="Configuration options">options</a> for the Logstash Azure module in the
<code class="literal">logstash.yml</code> configuration file.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong strong"><strong>Basic configuration.</strong></span> You can use the <code class="literal">logstash.yml</code> file to configure inputs from multiple Event Hubs that share the same configuration.
Basic configuration is recommended for most use cases.
</li><li class="listitem">
<span class="strong strong"><strong>Advanced configuration.</strong></span>  The advanced configuration is available for deployments where different Event Hubs
require different configurations. The <code class="literal">logstash.yml</code> file holds your settings. Advanced configuration is not necessary or
recommended for most use cases.
</li></ul></div><p>See the <a class="ulink" href="http://www.elastic.co/guide/en/logstash/6.5/plugins-inputs-azure_event_hubs.html" target="_top">azure_event_hubs input plugin
documentation</a> for more information about basic and advanced configuration
models.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="basic-config-sample"></a>Basic configuration sample<a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The configuration in the <code class="literal">logstash.yml</code> file is shared between Event Hubs.
Basic configuration is recommended for most use cases</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-shell">modules:
  - name: azure
    var.elasticsearch.hosts: localhost:9200
    var.kibana.host: localhost:5601
    var.input.azure_event_hubs.consumer_group: "logstash" <a id="CO10-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
    var.input.azure_event_hubs.storage_connection: "DefaultEndpointsProtocol=https;AccountName=instance1..." <a id="CO10-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
    var.input.azure_event_hubs.threads: 9 <a id="CO10-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
    var.input.azure_event_hubs.event_hub_connections:
      - "Endpoint=sb://...EntityPath=insights-operational-logs" <a id="CO10-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
      - "Endpoint=sb://...EntityPath=insights-metrics-pt1m" <a id="CO10-5"></a><span><img src="images/icons/callouts/5.png" alt="" /></span>
      - "Endpoint=sb://...EntityPath=insights-logs-blocks"
      - "Endpoint=sb://...EntityPath=insights-logs-databasewaitstatistics"
      - "Endpoint=sb://...EntityPath=insights-logs-errors"
      - "Endpoint=sb://...EntityPath=insights-logs-querystoreruntimestatistics"
      - "Endpoint=sb://...EntityPath=insights-logs-querystorewaitstatistics"
      - "Endpoint=sb://...EntityPath=insights-logs-timeouts"</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO10-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">consumer_group</code> (optional) is highly recommended. See <a class="xref" href="azure-module.html#azure_best_practices" title="Best practices">Best practices</a>.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO10-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">storage_connection</code> (optional) sets the Azure Blob Storage connection for tracking processing state for Event Hubs when scaling out a deployment with multiple Logstash instances. See <a class="xref" href="azure-module.html#scaling-blob" title="Scale Event Hub consumption">Scale Event Hub consumption</a> for additional details.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO10-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
See <a class="xref" href="azure-module.html#azure_best_practices" title="Best practices">Best practices</a> for guidelines on choosing an appropriate number of threads.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO10-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
This connection sets up the consumption of Activity Logs. By default, Azure Monitor uses the <code class="literal">insights-operational-logs</code> Event Hub name. Make sure this matches the name of the Event Hub specified for Activity Logs.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO10-5"><span><img src="images/icons/callouts/5.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
This connection and the ones below set up the consumption of SQL DB diagnostic logs and metrics. By default, Azure Monitor uses all these different Event Hub names.
</p></td></tr></table></div><p>The basic configuration requires the <code class="literal">var.input.azure_event_hubs.</code> prefix
before a configuration option.
Notice the notation for the <code class="literal">threads</code> option.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="adv-config-sample"></a>Advanced configuration sample<a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Advanced configuration in the <code class="literal">logstash.yml</code> file supports Event Hub specific
options. Advanced configuration is available for more granular tuning of
threading and Blob Storage usage across multiple Event Hubs. Advanced
configuration is not necessary or recommended for most use cases. Use it only if
it is required for your deployment scenario.</p><p>You must define the <code class="literal">header</code> array with <code class="literal">name</code> in the first position. You can
define other options in any order. The per Event Hub configuration takes
precedence. Any values not defined per Event Hub use the global config value.</p><p>In this example <code class="literal">threads</code>, <code class="literal">consumer_group</code>, and <code class="literal">storage_connection</code> will be
applied to each of the configured Event Hubs. Note that <code class="literal">decorate_events</code> is
defined in both the global and per Event Hub configuration. The per Event Hub
configuration takes precedence, and the global configuration is effectively
ignored when the per Event Hub setting is present.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-shell">modules:
  - name: azure
    var.elasticsearch.hosts: localhost:9200
    var.kibana.host: localhost:5601
    var.input.azure_event_hubs.decorate_events: true <a id="CO11-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
    var.input.azure_event_hubs.threads: 9 <a id="CO11-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
    var.input.azure_event_hubs.consumer_group: "logstash"
    var.input.azure_event_hubs.storage_connection: "DefaultEndpointsProtocol=https;AccountName=instance1..."
    var.input.azure_event_hubs.event_hubs:
      - ["name",                                    "initial_position",  "storage_container",  "decorate_events",  "event_hub_connection"]                                   <a id="CO11-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
      - ["insights-operational-logs",                 "TAIL",              "activity-logs1",    "true",             "Endpoint=sb://...EntityPath=insights-operational-logs"]
      - ["insights-operational-logs",                 "TAIL",              "activity_logs2",<a id="CO11-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>   "true",             "Endpoint=sb://...EntityPath=insights-operational-logs"]
      - ["insights-metrics-pt1m",                     "TAIL",              "dbmetrics",         "true",             "Endpoint=sb://...EntityPath=insights-metrics-pt1m"]
      - ["insights-logs-blocks",                      "TAIL",              "dbblocks",          "true",             "Endpoint=sb://...EntityPath=insights-logs-blocks"]
      - ["insights-logs-databasewaitstatistics",      "TAIL",              "dbwaitstats",       "false",            "Endpoint=sb://...EntityPath=insights-logs-databasewaitstatistics"]
      - ["insights-logs-errors",                      "HEAD",              "dberrors",          "true",             "Endpoint=sb://...EntityPath=insights-logs-errors"
      - ["insights-logs-querystoreruntimestatistics", "TAIL",              "dbstoreruntime",    "true",             "Endpoint=sb://...EntityPath=insights-logs-querystoreruntimestatistics"]
      - ["insights-logs-querystorewaitstatistics",    "TAIL",              "dbstorewaitstats",  "true",             "Endpoint=sb://...EntityPath=insights-logs-querystorewaitstatistics"]
      - ["insights-logs-timeouts",                    "TAIL",              "dbtimeouts",        "true",             "Endpoint=sb://...EntityPath=insights-logs-timeouts"]</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO11-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
You can specify global Event Hub options. They will be overridden by any configurations specified in the event_hubs option.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO11-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
See <a class="xref" href="azure-module.html#azure_best_practices" title="Best practices">Best practices</a> for guidelines on choosing an appropriate number of threads.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO11-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The header array must be defined with name in the first position. Other options can be defined in any order. The per Event Hub configuration takes precedence. Any values not defined per Event Hub use the global config value.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO11-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
This enables consuming from a second Activity Logs Event Hub that uses a different Blob Storage container. This is necessary to avoid the offsets from the first insights-operational-logs from overwriting the offsets for the second insights-operational-logs.
</p></td></tr></table></div><p>The advanced configuration doesn’t require a prefix before a per Event Hub
configuration option. Notice the notation for the <code class="literal">initial_position</code> option.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="scaling-blob"></a>Scale Event Hub consumption<a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>An <a class="ulink" href="https://azure.microsoft.com/en-us/services/storage/blobs" target="_top">Azure Blob Storage
account</a> is an essential part of Azure-to-Logstash configuration.
It is required for users who want to scale out multiple Logstash instances to consume from Event Hubs.</p><p>A Blob Storage account is a central location that enables multiple instances of
Logstash to work together to process events. It records the
offset (location) of processed events. On restart, Logstash resumes processing
exactly where it left off.</p><p>Configuration notes:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
A Blob Storage account is highly recommended for use with this module, and is
likely required for production servers.
</li><li class="listitem">
The <code class="literal">storage_connection</code> option passes the blob storage connection string.
</li><li class="listitem">
Configure all Logstash instances to use the same <code class="literal">storage_connection</code> to get the
benefits of shared processing.
</li></ul></div><p>Sample Blob Storage connection string:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-text">DefaultEndpointsProtocol=https;AccountName=logstash;AccountKey=ETOPnkd/hDAWidkEpPZDiXffQPku/SZdXhPSLnfqdRTalssdEuPkZwIcouzXjCLb/xPZjzhmHfwRCGo0SBSw==;EndpointSuffix=core.windows.net</pre></div><p>Find the connection string to Blob Storage here:
<a class="ulink" href="https://portal.azure.com" target="_top">Azure Portal</a><code class="literal">-&gt; Blob Storage account -&gt; Access keys</code>.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="azure_best_practices"></a>Best practices<a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Here are some guidelines to help you achieve a successful deployment, and avoid
data conflicts that can cause lost events.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong strong"><strong>Create a Logstash consumer group.</strong></span>
Create a new consumer group specifically for Logstash. Do not use the $default or
any other consumer group that might already be in use. Reusing consumer groups
among non-related consumers can cause unexpected behavior and possibly lost
events. All Logstash instances should use the same consumer group so that they can
work together for processing events.
</li><li class="listitem"><p class="simpara">
<span class="strong strong"><strong>Avoid overwriting offset with multiple Event Hubs.</strong></span>
The offsets (position) of the Event Hubs are stored in the configured Azure Blob
store. The Azure Blob store uses paths like a file system to store the offsets.
If the paths between multiple Event Hubs overlap, then the offsets may be stored
incorrectly.
To avoid duplicate file paths, use the advanced configuration model and make
sure that at least one of these options is different per Event Hub:
</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
storage_connection
</li><li class="listitem">
storage_container (defaults to Event Hub name if not defined)
</li><li class="listitem">
consumer_group
</li></ul></div></li><li class="listitem"><p class="simpara">
<span class="strong strong"><strong>Set number of threads correctly.</strong></span>
The number of threads should equal the number of Event Hubs plus one (or more).
Each Event Hub needs at least one thread. An additional thread is needed to help
coordinate the other threads. The number of threads should not exceed the number of Event Hubs multiplied by the
number of partitions per Event Hub plus one. Threads are
currently  available only as a global setting.
</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
Sample: Event Hubs = 4. Partitions on each Event Hub = 3.
Minimum threads is 5 (4 Event Hubs plus one). Maximum threads is 13 (4 Event
Hubs times 3 partitions plus one).
</li><li class="listitem">
If you’re collecting activity logs from only one specified event hub instance,
then only 2 threads (1 Event Hub plus one) are required.
</li></ul></div></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="azure-module-setup"></a>Set up and run the module<a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Be sure that the <code class="literal">logstash.yml</code> file is <a class="link" href="azure-module.html#configuring-azure" title="Configure the module">configured correctly</a>.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_first_time_setup"></a>First time setup<a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Run this command from the Logstash directory:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-shell">bin/logstash --setup</pre></div><p>The <code class="literal">--modules azure</code> option starts a Logstash pipeline for ingestion from Azure
Event Hubs. The <code class="literal">--setup</code> option creates an <code class="literal">azure-*</code> index pattern in
Elasticsearch and imports Kibana dashboards and visualizations.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_subsequent_starts"></a>Subsequent starts<a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Run this command from the Logstash directory:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-shell">bin/logstash</pre></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>The <code class="literal">--setup</code> option is intended only for first-time setup. If you include
<code class="literal">--setup</code> on subsequent runs, your existing Kibana dashboards will be
overwritten.</p></div></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="exploring-data-azure"></a>Explore your data<a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>When the Logstash Azure module starts receiving events, you can begin using the
packaged Kibana dashboards to explore and visualize your data.</p><p>To explore your data with Kibana:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Open a browser to <a class="ulink" href="http://localhost:5601" target="_top">http://localhost:5601</a> (username:
  "elastic"; password: "YOUR_PASSWORD")
</li><li class="listitem">
Click <span class="strong strong"><strong>Dashboard</strong></span>.
</li><li class="listitem">
Click <span class="strong strong"><strong>[Azure Monitor] Overview</strong></span>.
</li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="azure_config_options"></a>Configuration options<a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>All Event Hubs options are common to both basic and advanced
configurations, with the following exceptions. The basic configuration uses
<code class="literal">event_hub_connections</code> to support multiple connections. The advanced
configuration uses <code class="literal">event_hubs</code> and <code class="literal">event_hub_connection</code> (singular).</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="azure_event_hubs"></a><code class="literal">event_hubs</code><a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#array" title="Array">array</a>
</li><li class="listitem">
No default value
</li><li class="listitem">
Ignored for basic and command line configuration
</li><li class="listitem">
Required for advanced configuration
</li></ul></div><p>Defines the per Event Hubs configuration for the <a class="link" href="azure-module.html#adv-config-sample" title="Advanced configuration sample">advanced configuration</a>.</p><p>The advanced configuration uses <code class="literal">event_hub_connection</code> instead of <code class="literal">event_hub_connections</code>.
The <code class="literal">event_hub_connection</code> option is defined per Event Hub.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="azure_event_hub_connections"></a><code class="literal">event_hub_connections</code><a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#array" title="Array">array</a>
</li><li class="listitem">
No default value
</li><li class="listitem">
Required for basic and command line configuration
</li><li class="listitem">
Ignored for advanced configuration
</li></ul></div><p>List of connection strings that identifies the Event Hubs to be read. Connection
strings include the EntityPath for the Event Hub.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="azure_checkpoint_interval"></a><code class="literal">checkpoint_interval</code><a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#number" title="Numberedit">number</a>
</li><li class="listitem">
Default value is <code class="literal">5</code> seconds
</li><li class="listitem">
Set to <code class="literal">0</code> to disable.
</li></ul></div><p>Interval in seconds to write checkpoints during batch processing. Checkpoints
tell Logstash where to resume processing after a restart. Checkpoints are
automatically written at the end of each batch, regardless of this setting.</p><p>Writing checkpoints too frequently can slow down processing unnecessarily.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="azure_consumer_group"></a><code class="literal">consumer_group</code><a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#string" title="Stringedit">string</a>
</li><li class="listitem">
Default value is <code class="literal">$Default</code>
</li></ul></div><p>Consumer group used to read the Event Hub(s). Create a consumer group
specifically for Logstash. Then ensure that all instances of Logstash use that
consumer group so that they can work together properly.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="azure_decorate_events"></a><code class="literal">decorate_events</code><a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#boolean" title="Booleanedit">boolean</a>
</li><li class="listitem">
Default value is <code class="literal">false</code>
</li></ul></div><p>Adds metadata about the Event Hub, including <code class="literal">Event Hub name</code>, <code class="literal">consumer_group</code>,
<code class="literal">processor_host</code>, <code class="literal">partition</code>, <code class="literal">offset</code>, <code class="literal">sequence</code>, <code class="literal">timestamp</code>, and <code class="literal">event_size</code>.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="azure_initial_position"></a><code class="literal">initial_position</code><a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#string" title="Stringedit">string</a>
</li><li class="listitem">
Valid arguments are <code class="literal">beginning</code>, <code class="literal">end</code>, <code class="literal">look_back</code>
</li><li class="listitem">
Default value is <code class="literal">beginning</code>
</li></ul></div><p>When first reading from an Event Hub, start from this position:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<code class="literal">beginning</code> reads all pre-existing events in the Event Hub
</li><li class="listitem">
<code class="literal">end</code> does not read any pre-existing events in the Event Hub
</li><li class="listitem">
<code class="literal">look_back</code> reads <code class="literal">end</code> minus a number of seconds worth of pre-existing events.
You control the number of seconds using the <code class="literal">initial_position_look_back</code> option.
</li></ul></div><p>If <code class="literal">storage_connection</code> is set, the <code class="literal">initial_position</code> value is used only
the first time Logstash reads from the Event Hub.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="azure_initial_position_look_back"></a><code class="literal">initial_position_look_back</code><a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#number" title="Numberedit">number</a>
</li><li class="listitem">
Default value is <code class="literal">86400</code>
</li><li class="listitem">
Used only if <code class="literal">initial_position</code> is set to <code class="literal">look-back</code>
</li></ul></div><p>Number of seconds to look back to find the initial position for pre-existing
events. This option is used only if <code class="literal">initial_position</code> is set to <code class="literal">look_back</code>. If
<code class="literal">storage_connection</code> is set, this configuration applies only the first time Logstash
reads from the Event Hub.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="azure_max_batch_size"></a><code class="literal">max_batch_size</code><a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#number" title="Numberedit">number</a>
</li><li class="listitem">
Default value is <code class="literal">125</code>
</li></ul></div><p>Maximum number of events retrieved and processed together. A checkpoint is
created after each batch. Increasing this value may help with performance, but
requires more memory.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="azure_storage_connection"></a><code class="literal">storage_connection</code><a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#string" title="Stringedit">string</a>
</li><li class="listitem">
No default value
</li></ul></div><p>Connection string for blob account storage. Blob account storage persists the
offsets between restarts, and ensures that multiple instances of Logstash
process different partitions.
When this value is set, restarts resume where processing left off.
When this value is not set, the <code class="literal">initial_position</code> value is used on every restart.</p><p>We strongly recommend that you define this value for production environments.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="azure_storage_container"></a><code class="literal">storage_container</code><a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#string" title="Stringedit">string</a>
</li><li class="listitem">
Defaults to the Event Hub name if not defined
</li></ul></div><p>Name of the storage container used to persist offsets and allow multiple instances of Logstash
to work together.</p><p>To avoid overwriting offsets, you can use different storage containers. This is
particularly important if you are monitoring two Event Hubs with the same name.
You can use the advanced configuration model to configure different storage
containers.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="azure_threads"></a><code class="literal">threads</code><a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#number" title="Numberedit">number</a>
</li><li class="listitem">
Minimum value is <code class="literal">2</code>
</li><li class="listitem">
Default value is <code class="literal">4</code>
</li></ul></div><p>Total number of threads used to process events. The value you set here applies
to all Event Hubs. Even with advanced configuration, this value is a global
setting, and can’t be set per event hub.</p><p>The number of threads should be the number of Event Hubs plus one or more.
See <a class="xref" href="azure-module.html#azure_best_practices" title="Best practices">Best practices</a> for more information.</p><p><span class="strong strong"><strong>Common options</strong></span></p><p>The following configuration options are supported by all modules:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong strong"><strong><code class="literal">var.elasticsearch.hosts</code></strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#uri" title="URIedit">uri</a>
</li><li class="listitem">
Default value is "localhost:9200"
</li></ul></div><p class="simpara">Sets the host(s) of the Elasticsearch cluster. For each host, you must specify
the hostname and port. For example, "myhost:9200". If given an <a class="link" href="configuration-file-structure.html#array" title="Array">array</a>,
Logstash will load balance requests across the hosts specified in the hosts
parameter. It is important to exclude <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/6.5/modules-node.html" target="_top">dedicated master
nodes</a> from the hosts list to prevent Logstash from sending bulk requests to the
master nodes. So this parameter should only reference either data or client
nodes in Elasticsearch.</p><p class="simpara">Any special characters present in the URLs here MUST be URL escaped! This means #
should be put in as %23 for instance.</p></dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">var.elasticsearch.username</code></strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#string" title="Stringedit">string</a>
</li><li class="listitem">
Default value is "elastic"
</li></ul></div><p class="simpara">The username to authenticate to a secure Elasticsearch cluster.</p></dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">var.elasticsearch.password</code></strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#string" title="Stringedit">string</a>
</li><li class="listitem">
Default value is "changeme"
</li></ul></div><p class="simpara">The password to authenticate to a secure Elasticsearch cluster.</p></dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">var.elasticsearch.ssl.enabled</code></strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#boolean" title="Booleanedit">boolean</a>
</li><li class="listitem">
There is no default value for this setting.
</li></ul></div><p class="simpara">Enable SSL/TLS secured communication to the Elasticsearch cluster. Leaving this
unspecified will use whatever scheme is specified in the URLs listed in <code class="literal">hosts</code>.
If no explicit protocol is specified, plain HTTP will be used. If SSL is
explicitly disabled here, the plugin will refuse to start if an HTTPS URL is
given in hosts.</p></dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">var.elasticsearch.ssl.verification_mode</code></strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#string" title="Stringedit">string</a>
</li><li class="listitem">
Default value is "strict"
</li></ul></div><p class="simpara">The hostname verification setting when communicating with Elasticsearch. Set to
<code class="literal">disable</code> to turn off hostname verification. Disabling this has serious security
concerns.</p></dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">var.elasticsearch.ssl.certificate_authority</code></strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#string" title="Stringedit">string</a>
</li><li class="listitem">
There is no default value for this setting
</li></ul></div><p class="simpara">The path to an X.509 certificate to use to validate SSL certificates when
communicating with Elasticsearch.</p></dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">var.elasticsearch.ssl.certificate</code></strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#string" title="Stringedit">string</a>
</li><li class="listitem">
There is no default value for this setting
</li></ul></div><p class="simpara">The path to an X.509 certificate to use for client authentication when
communicating with Elasticsearch.</p></dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">var.elasticsearch.ssl.key</code></strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#string" title="Stringedit">string</a>
</li><li class="listitem">
There is no default value for this setting
</li></ul></div><p class="simpara">The path to the certificate key for client authentication when communicating
with Elasticsearch.</p></dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">var.kibana.host</code></strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#string" title="Stringedit">string</a>
</li><li class="listitem">
Default value is "localhost:5601"
</li></ul></div><p class="simpara">Sets the hostname and port of the Kibana instance to use for importing
dashboards and visualizations. For example: "myhost:5601".</p></dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">var.kibana.scheme</code></strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#string" title="Stringedit">string</a>
</li><li class="listitem">
Default value is "http"
</li></ul></div><p class="simpara">Sets the protocol to use for reaching the Kibana instance. The options are:
"http" or "https". The default is "http".</p></dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">var.kibana.username</code></strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#string" title="Stringedit">string</a>
</li><li class="listitem">
Default value is "elastic"
</li></ul></div><p class="simpara">The username to authenticate to a secured Kibana instance.</p></dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">var.kibana.password</code></strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#string" title="Stringedit">string</a>
</li><li class="listitem">
Default value is "changeme"
</li></ul></div><p class="simpara">The password to authenticate to a secure Kibana instance.</p></dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">var.kibana.ssl.enabled</code></strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#boolean" title="Booleanedit">boolean</a>
</li><li class="listitem">
Default value is false
</li></ul></div><p class="simpara">Enable SSL/TLS secured communication to the Kibana instance.</p></dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">var.kibana.ssl.verification_mode</code></strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#string" title="Stringedit">string</a>
</li><li class="listitem">
Default value is "strict"
</li></ul></div><p class="simpara">The hostname verification setting when communicating with Kibana. Set to
<code class="literal">disable</code> to turn off hostname verification. Disabling this has serious security
concerns.</p></dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">var.kibana.ssl.certificate_authority</code></strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#string" title="Stringedit">string</a>
</li><li class="listitem">
There is no default value for this setting
</li></ul></div><p class="simpara">The path to an X.509 certificate to use to validate SSL certificates when
communicating with Kibana.</p></dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">var.kibana.ssl.certificate</code></strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#string" title="Stringedit">string</a>
</li><li class="listitem">
There is no default value for this setting
</li></ul></div><p class="simpara">The path to an X.509 certificate to use for client authentication when
communicating with Kibana.</p></dd><dt><span class="term">
<span class="strong strong"><strong><code class="literal">var.kibana.ssl.key</code></strong></span>
</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Value type is <a class="link" href="configuration-file-structure.html#string" title="Stringedit">string</a>
</li><li class="listitem">
There is no default value for this setting
</li></ul></div><p class="simpara">The path to the certificate key for client authentication when communicating
with Kibana.</p></dd></dl></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_azure_module_schema"></a>Azure module schema<a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>This module reads data from the Azure Event Hub and adds some additional structure to the data for Activity Logs and SQL Diagnostics. The original data is always preserved and any data added or parsed will be namespaced under <span class="emphasis"><em>azure</em></span>. For example, <span class="emphasis"><em>azure.subscription</em></span> may have been parsed from a longer more complex URN.</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top">Name </th><th align="left" valign="top">Description</th><th align="left" valign="top">Notes</th></tr></thead><tbody><tr><td align="left" valign="top"><p>azure.subscription</p></td><td align="left" valign="top"><p>Azure subscription from which this data originates.</p></td><td align="left" valign="top"><p>Some Activity Log events may not be associated with a subscription.</p></td></tr><tr><td align="left" valign="top"><p>azure.group</p></td><td align="left" valign="top"><p>Primary type of data.</p></td><td align="left" valign="top"><p>Current values are either <span class="emphasis"><em>activity_log</em></span> or <span class="emphasis"><em>sql_diagnostics</em></span></p></td></tr><tr><td align="left" valign="top"><p>azure.category*</p></td><td align="left" valign="top"><p>Secondary type of data specific to group from which the data originated</p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p>azure.provider</p></td><td align="left" valign="top"><p>Azure provider</p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p>azure.resource_group</p></td><td align="left" valign="top"><p>Azure resource group</p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p>azure.resource_type</p></td><td align="left" valign="top"><p>Azure resource type</p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p>azure.resource_name</p></td><td align="left" valign="top"><p>Azure resource name</p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p>azure.database</p></td><td align="left" valign="top"><p>Azure database name, for display purposes</p></td><td align="left" valign="top"><p>SQL Diagnostics only</p></td></tr><tr><td align="left" valign="top"><p>azure.db_unique_id</p></td><td align="left" valign="top"><p>Azure database name that is guaranteed to be unique</p></td><td align="left" valign="top"><p>SQL Diagnostics only</p></td></tr><tr><td align="left" valign="top"><p>azure.server</p></td><td align="left" valign="top"><p>Azure server for the database</p></td><td align="left" valign="top"><p>SQL Diagnostics only</p></td></tr><tr><td align="left" valign="top"><p>azure.server_and_database</p></td><td align="left" valign="top"><p>Azure server and database combined</p></td><td align="left" valign="top"><p>SQL Diagnostics only</p></td></tr></tbody></table></div><p>Notes:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Activity Logs can have the following categories: Administrative, ServiceHealth, Alert, Autoscale, Security
</li><li class="listitem">
SQL Diagnostics can have the following categories: Metric, Blocks, Errors, Timeouts, QueryStoreRuntimeStatistics, QueryStoreWaitStatistics, DatabaseWaitStatistics, SQLInsights
</li></ul></div><p>Microsoft documents Activity log schema
<a class="ulink" href="https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/monitoring-activity-log-schema" target="_top">here</a>.
The SQL Diagnostics data is documented
<a class="ulink" href="https://docs.microsoft.com/en-us/azure/sql-database/sql-database-metrics-diag-logging" target="_top">here</a>.
Elastic does not own these data models, and as such, cannot make any
assurances of information accuracy or passivity.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_special_note_properties_field"></a>Special note - Properties field<a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Many of the logs contain a <code class="literal">properties</code> top level field. This is often where the
most interesting data lives. There is not a fixed schema between log types for
properties fields coming from different sources.</p><p>For example, one log may have
<code class="literal">properties.type</code> where one log sets this a String type and another sets this an
Integer type. To avoid mapping errors, the original properties field is moved to
<code class="literal">&lt;azure.group&gt;_&lt;azure_category&gt;_properties.&lt;original_key&gt;</code>.
For example
<code class="literal">properties.type</code> may end up as <code class="literal">sql_diagnostics_Errors_properties.type</code> or
<code class="literal">activity_log_Security_properties.type</code> depending on the group/category where
the event originated.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="azure-production"></a>Deploying the module in production<a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Use security best practices to secure your configuration.
See <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/6.5/xpack-security.html" target="_top">https://www.elastic.co/guide/en/elastic-stack-overview/6.5/xpack-security.html</a> for details and recommendations.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="azure-resources"></a>Microsoft Azure resources<a href="https://github.com/elastic/logstash/edit/6.5/docs/static/azure-module.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Microsoft is the best source for the most up-to-date Azure information.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<a class="ulink" href="https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/monitoring-overview-azure-monitor" target="_top">Overview of Azure Monitor</a>
</li><li class="listitem">
<a class="ulink" href="https://docs.microsoft.com/en-us/azure/sql-database/sql-database-metrics-diag-logging" target="_top">Azure SQL Database metrics and diagnostics logging</a>
</li><li class="listitem">
<a class="ulink" href="https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/monitoring-stream-activity-logs-event-hubs" target="_top">Stream the Azure Activity Log to Event Hubs</a>
</li></ul></div></div></div><div class="navfooter"><span class="prev"><a href="netflow-module.html">
              « 
              Logstash Netflow Module</a>
           
        </span><span class="next">
           
          <a href="filebeat-modules.html">Working with Filebeat Modules
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
					<div id="rtpcontainer" style="display: block;">
						<div class="mktg-promo">
						<h3>Getting Started Videos</h3>
						<ul class="icons">
							<li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
							<li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
							<li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
						</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

        </div>
      	


<div id="footer-subscribe" class="home-footer-subscribe">
  <div class="subscribe-wrapper">
    <div class="container">
      <div class="subscribe-form-container">
        <div class="subscribe-title col-md-12 col-lg-6">
            <h5>Be in the know with the latest and greatest from Elastic.</h5>
        </div>
        <div class="subscribe-form col-md-12 col-lg-6">
          <form class="mktoForm sb-form"></form>
        </div>
      </div>
      <div class="form_thanks hide">
        
          <p>Thanks for subscribing! We'll keep you updated with new releases.</p>
        
      </div>
    </div>
  </div>
</div>
<!--subscribe newsletter end-->

<!-- Footer Section -->
<footer class="footer-wrapper">
  <div class="container">
    <div class="row footer-content">
        
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/products">Products ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/products/elasticsearch">Elasticsearch</a></li>
                  
                
              
                
                  
                    <li><a href="/products/kibana">Kibana</a></li>
                  
                
              
                
                  
                    <li><a href="/products/beats">Beats</a></li>
                  
                
              
                
                  
                    <li><a href="/products/logstash">Logstash</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack">Stack Features (formerly X-Pack)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/security">Security</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/alerting">Alerting</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/canvas">Canvas</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/monitoring">Monitoring</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/graph">Graph</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/reporting">Reporting</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/machine-learning">Machine Learning</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/elasticsearch-sql">Elasticsearch SQL</a></li>
                  
                
              
                
                  
                    <li><a href="/products/hadoop">Elasticsearch-Hadoop</a></li>
                  
                
              
                
                  
                    <li><a href="/products/ece">Elastic Cloud Enterprise</a></li>
                  
                
              
              </ul>
              
                <h3><a href=""></a></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/solutions">Solutions ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/solutions/logging">Logging</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/metrics">Metrics</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/site-search">Site Search</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/security-analytics">Security Analytics</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/apm">APM</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/app-search">App Search</a></li>
                  
                
              
              </ul>
              
                <h3><a href="/cloud">Elastic Cloud ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/cloud/elasticsearch-service">Elasticsearch Service</a></li>
                  
                
              
                
                  
                    <li><a href="/aws-elasticsearch-service">AWS Elasticsearch Service Comparison</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud/app-search-service">Elastic App Search Service</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud/site-search-service">Elastic Site Search Service</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3>Resources</h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/blog">Blog</a></li>
                  
                
              
                
                  
                    <li><a href="https://cloud-status.elastic.co">Cloud Status</a></li>
                  
                
              
                
                  
                    <li><a href="/community">Community</a></li>
                  
                
              
                
                  
                    <li><a href="/use-cases">Customers & Use Cases</a></li>
                  
                
              
                
                  
                    <li><a href="/guide">Documentation</a></li>
                  
                
              
                
                  
                    <li><a href="/elasticon">Elastic{ON} Events</a></li>
                  
                
              
                
                  
                    <li><a href="https://discuss.elastic.co/">Forums</a></li>
                  
                
              
                
                  
                    <li><a href="/community/meetups">Meetups</a></li>
                  
                
              
                
                  
                    <li><a href="/subscriptions">Subscriptions</a></li>
                  
                
              
                
                  
                    <li><a href="https://support.elastic.co">Support Portal</a></li>
                  
                
              
                
                  
                    <li><a href="/videos">Videos & Webinars</a></li>
                  
                
              
                
                  
                    <li><a href="/training">Training</a></li>
                  
                
              
              </ul>
              
                <h3></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/about">About ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/about/careers">Careers/Jobs</a></li>
                  
                
              
                
                  
                    <li><a href="/about/our-source-code">Our Source Code</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams">Teams</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams/board">Board of Directors</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams/leadership">Leadership</a></li>
                  
                
              
                
                  
                    <li><a href="/contact">Contact</a></li>
                  
                
              
                
                  
                    <li><a href="/about/history-of-elasticsearch">Our Story</a></li>
                  
                
              
                
                  
                    <li><a href="/about/why-open-source">Why Open Source</a></li>
                  
                
              
                
                  
                    <li><a href="/about/distributed">Distributed by Intention</a></li>
                  
                
              
                
                  
                    <li><a href="/about/partners">Partners</a></li>
                  
                
              
                
                  
                    <li><a href="/about/press">Media</a></li>
                  
                
              
                
                  
                    <li><a href="https://ir.elastic.co">Investor Relations</a></li>
                  
                
              
                
                  
                    <li><a href="https://www.elastic.shop">Elastic Store</a></li>
                  
                
              
              </ul>
              
                <h3><a href=""></a></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
       
    </div>
     <!-- Social Media Section -->
    <div class="row social-icon">
      <div class="col-xs-12 col-sm-12 col-md-6 col-md-offset-3">
	    <div class="row">
		     <div class="follow-us col-xs-12 col-sm-12 col-md-12">
			    <div class="social-label">FOLLOW US</div>
			    <ul class="social-icon-list">
          
          		 	<li class="Facebook"><a id="footer_facebook" href="https://www.facebook.com/elastic.co">Facebook</a></li>
          
          		 	<li class="Twitter"><a id="footer_twitter" href="https://www.twitter.com/elastic">Twitter</a></li>
          
          		 	<li class="LinkedIn"><a id="footer_linkedin" href="https://www.linkedin.com/company/elastic-co">LinkedIn</a></li>
          
          		 	<li class="Xing"><a id="footer_xing" href="https://www.xing.com/companies/elastic.co">Xing</a></li>
          
          		 	<li class="YouTube"><a id="footer_youtube" href="https://www.youtube.com/user/elasticsearch">YouTube</a></li>
          
		  		</ul>
		     </div>
	    </div>
      </div>
    </div>
    <!-- Social Media Section end-->
    <div class="row">
	<div class="col-xs-12 col-sm-12 col-md-11">
		<div class="copyright">
			<ul>
				<li><a href="/legal/trademarks">Trademarks</a></li>
				<li><a href="/legal/terms-of-use">Terms of Use</a></li>
				<li><a href="/legal/privacy-statement">Privacy</a></li>
				<li><a href="/brand">Brand</a></li>
			</ul>
			<div class="copyright-content">
				<div class="footer-text">
					<p>© 2019. Elasticsearch B.V. All Rights Reserved
					</p>
					<p>Elasticsearch is a trademark of Elasticsearch B.V., registered in the U.S. and in other countries.
					</p>
					<p>Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a> in the United States and/or other countries.
					</p>
				</div>
			</div>
		</div>
	</div>
	<div class="col-xs-2 col-xs-offset-5 col-sm-1 col-sm-offset-5 col-md-1 col-md-offset-0">
		<div class="footer-logo"><a href="/"><img src="/static/images/svg/logo-elastic-footer-stacked-999.svg" class="img-responsive"></a>
		</div>
	</div>
</div>
  </div>
</footer>
<!-- Footer Section end-->

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>
 
     
<script type="text/javascript">
$(document).ready(function(){
	if (window.location.hash.length) {
	      var target = $(window.location.hash);
	      target = target.length ? target : $(window.location.hash);
	      if (target.length) {
	        setTimeout(function(){ $(window).scrollTop(target.offset().top - 60); }, 1200);        
	      }
	}
	$('#guide').on('click','a[href*=#]:not([href=#])',function(e) {
			var flag=true;
		      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		          var target = $(this.hash);
		          target = target.length ? target :$(this.hash);
		          if (target.length) {
		            if(flag){
		              flag=false;
		              var heightScroll=($('.tertiary-nav.navbar-fixed-top').height())?60:110;
		              $('html,body').animate({
		                  scrollTop: target.offset().top - heightScroll
		                }, 2000, function(){
		                  flag=true;
		                });
		            }                    
		          }
		      }
		    
	});

})

</script>

     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>