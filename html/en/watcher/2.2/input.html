<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Input
        | Elasticsearch Watcher [2.2]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Watcher [2.2]" /><link rel="up" href="reference.html" title="Reference" /><link rel="prev" href="reference.html" title="Reference" /><link rel="next" href="trigger.html" title="Trigger" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Docs/Watcher/Reference/2.2" />
    <!-- RTP tag -->
   <script type='text/javascript'> (function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)}; c[a].a=i;c[a].e=e;h.write('<script src="'+f+'?aid='+i+'" type="text/javascript"><\/script>'); })(window,document,"rtp","//sjrtp2-cdn.marketo.com/rtp-api/v1/rtp.js ","elasticco" ); rtp('send','view'); rtp('get', 'campaign',true); </script>
    <!-- End of RTP tag -->
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
<meta name="apple-mobile-web-app-title" content="Elastic">
<meta name="application-name" content="Elastic">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">
<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >



	



<!-- end DC tags -->


	<meta name="description" content="" />





		
			<meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
		

		

    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">

	   

    <!-- css -->
    <link href="https://static-www.elastic.co/static/css/main.css?q=756" rel="stylesheet">
    
    

    <script src="https://static-www.elastic.co/static/js/jquery.min.js?q=756"></script>
    <script src="https://static-www.elastic.co/static/js/bootstrap.min.js?q=756"></script>
    <script src="https://static-www.elastic.co/static/js/jquery.cookie.js?q=756"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // ---------------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
        locales = {
          '/en/': '/',
          '/de/': '/de/',
          '/fr/': '/fr/',
          '/ja/':'/jp/',
          '/ko/':'/kr/',
          '/zh/':'/cn/'
        }
        localepages = ['/','/de/','/fr/','/jp/','/kr/','/cn/','/products','/de/products','/fr/products','/jp/products','/kr/products','/cn/products'],
        locationpath = window.location.pathname,
        localeUrl = '{"relative_url_prefix":"/","code":"en-us","url":"/guide_template"}',
        currentlocale = JSON.parse(localeUrl);
    
      if(localepages.indexOf(locationpath) != -1){
        if($.cookie("c_lang")){
          if($.cookie("c_lang") != currentlocale.relative_url_prefix){
            var cookieurl = $.cookie("c_lang") + currentlocale.url.slice(1,currentlocale.url.length);
            window.location = cookieurl;
          }
        }
        else{
          var locale_lang = "/";
          if(locales[lang] != undefined){
            locale_lang = locales[lang];
          }
          $.cookie("c_lang",locale_lang ,{ expires: 365, path: '/'}); 
          window.location = localepages[localepages.indexOf(locationpath)];
        }
      }
      
      // --------------------- end of set language based on browser language -----------------
      </script>


	
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/guide.css?q=756" />


  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
  <body >
  	<!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
                              height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- begin olark code -->
    <script data-cfasync="false" type='text/javascript'>/*<![CDATA[*/window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){
    f[z]=function(){
    (a.s=a.s||[]).push(arguments)};var a=f[z]._={
    },q=c.methods.length;while(q--){(function(n){f[z][n]=function(){
    f[z]("call",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={
    0:+new Date};a.P=function(u){
    a.p[u]=new Date-a.p[0]};function s(){
    a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){
    hd="head";return["<",hd,"></",hd,"><",i,' onl' + 'oad="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){
    return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){
    b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{
    b.contentWindow[g].open()}catch(w){
    c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{
    var t=b.contentWindow[g];t.write(p());t.close()}catch(x){
    b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({
    loader: "static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});
    /* custom configuration goes here (www.olark.com/documentation) */
    olark.identify('1356-750-10-5709');/*]]>*/</script><noscript><a href="https://www.olark.com/site/1356-750-10-5709/contact" title="Contact us">Questions? Feedback?</a> powered by <a href="http://www.olark.com?welcome" title="Olark live chat software">Olark live chat software</a></noscript>
    <!-- end olark code -->

    <script> 
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ 
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), 
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) 
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); 
      ga('create', 'UA-12395217-16', 'auto'); 
      ga('send', 'pageview'); 
    </script>

    <!-- Header Section -->
    
<header class="header-wrapper">
   

  




<div class="navigation-wrapper">
  <div class="container">
    <nav class="navbar">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-mobile-header navbar-header mr-20 mr-xs-0">
      <div class="row hidden-sm hidden-md hidden-lg">
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg">
          <div class="navbar-mobile-header-icon navbar-mobile-header-icon-out">
            <span></span>
            <span></span>
            <span></span>
          </div>
          
        </div>
        <div class="col-xs-2 text-center">
          <div class="navbar-brand" id="elastic">
            <h1>
              <a class="logo-m hidden-sm hidden-md hidden-lg" href="/">
                <img src="https://static-www.elastic.co/assets/bltd5ac38b4549d53de/elastic-logo-mobile (1).svg?q=756" alt="elastic-logo-mobile">
              </a>
            </h1>
          </div>
        </div>
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg text-right">
          <ul class="menu-m hidden-sm hidden-md hidden-lg">
            <li class=""><a class="icon-contact" href="/contact"></a></li>
            <li id="searchbar"><a class="button icon" href="#"></a></li>
            <li class="lang global-language">
                
                  
                    <a href="#">EN</a>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              <ul class="language-list">
                
                  
                    
                  
                <li><a href="/" data-value="/" id="locale-select">English</a></li>
                
                  
                    
                  
                <li><a href="/fr/" data-value="/fr/" id="locale-select">Français</a></li>
                
                  
                    
                  
                <li><a href="/de/" data-value="/de/" id="locale-select">Deutsch</a></li>
                
                  
                    
                  
                <li><a href="/jp/" data-value="/jp/" id="locale-select">日本語</a></li>
                
                  
                    
                  
                <li><a href="/kr/" data-value="/kr/" id="locale-select">한국어</a></li>
                
                  
                    
                  
                <li><a href="/cn/" data-value="/cn/" id="locale-select">简体中文</a></li>
                
              </ul>
            </li>
          </ul>
        </div>
      </div>

      <div class="navbar-brand hidden-xs" id="elastic">
        <h1>
          <a class="hidden-xs" id="elastic-logo" href="/">
            <img src="https://static-www.elastic.co/assets/blt6050efb80ceabd47/elastic-logo (2).svg?q=756" alt="elastic-logo">
          </a>
        </h1>
      </div>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse mobile-inner-nav">
      <nav class="nav navbar-nav primary-nav-hover" id="nav">
        <ul>
        
          
            
              
            
            <li>
              <a id="nav_products" class=" " href="/products">Products</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_cloud" class=" " href="/cloud">Cloud</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_services" class=" " href="/services">Services</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_customers" class=" " href="/use-cases">Customers</a>
            </li>
          
        
          
            
              
            
            <li>
              <a id="nav_learn" class=" " href="/learn">Learn</a>
            </li>
          
        
          
        
        </ul>
      </nav>
      <nav class="nav navbar-nav navbar-right hidden-xs">
        <ul>
          <li class="hidden-xs hidden-sm"><a href="/downloads">downloads</a></li>
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-download" href="/downloads"></a></li>
          <!-- To set parameters to contact button -->
          
           
            
          

          
            
            
          
          <li class="hidden-xs hidden-sm"><a class="btn btn-secondary btn-contact" href="/contact?storm=global-header-en">contact</a></li>
          <!-- ////////////////ends here///////////////-->          
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-contact" href="/contact?storm=global-header-en"></a></li>
          <li class="hidden-xs" id="searchbar"><a class="button icon" href="#"></a></li>
          <li class="hidden-xs lang global-language">
                
                  
                    <a href="#">EN</a>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
               <ul class="language-list">
              
                
                  
                
              <li><a class="" href="/" data-value="/">English</a></li>
              
                
                  
                
              <li><a class="" href="/fr/" data-value="/fr/">Français</a></li>
              
                
                  
                
              <li><a class="" href="/de/" data-value="/de/">Deutsch</a></li>
              
                
                  
                
              <li><a class="" href="/jp/" data-value="/jp/">日本語</a></li>
              
                
                  
                
              <li><a class="" href="/kr/" data-value="/kr/">한국어</a></li>
              
                
                  
                
              <li><a class="" href="/cn/" data-value="/cn/">简体中文</a></li>
              
            </ul>
          </li>
        </ul>
      </nav>
    </div><!-- /.navbar-collapse -->
  </nav>
  </div>
</div>

<div class="header-search-wrapper open-search"> 
  <div class="container">
    <div class="big-search">
      <i class="big-search-icon"></i>
      <form id="searchfrm" name="searchForm" autocomplete="on" action="/search" method="get">
        <ul class="tags-wrapper">
          <li class="search-field"><input type="text" name="q" id="autocomplete" class="form-control global-input" autocomplete="off"></li>
        </ul>
      </form>
      <a class="header-search-cancel" href="#"></a>
    </div>
    <div class="nav-auto-complete"></div>
  </div>
</div>
</header>
<link rel="stylesheet" type="text/css" href="https://static-www.elastic.co/static/css/horizon-swiper.min.css?q=756">
<style> 
    
      .m-shortcuts li a.m-search {
        background: url("https://static-www.elastic.co/assets/blt7b9c4fe6528dc4ef/m-search-icon.png?q=756") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-docs {
        background: url("https://static-www.elastic.co/assets/blt44d8b7530a76d01c/m-guide-icon.png?q=756") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-contact {
        background: url("https://static-www.elastic.co/assets/blt878040795c9d083b/m-contact-icon.png?q=756") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
    
</style>
<script type="text/javascript" src="https://static-www.elastic.co/static/js/horizon-swiper.min.js?q=756"></script>
<script type="text/javascript">
  $(document).ready( function(){
    // if($('#scrollable-pane li').length > 3){
      $('.horizon-swiper').horizonSwiper({
        showItems: 3,
        arrows: true
      }); 
    // }
    
    $('.navbar-toggle').on('click', function(){
      $('.mobile-navigation, .menu-open').hide();
      $('.navigation-wrapper').addClass('mobile-navigation');
      $('.navbar').addClass('menu-open');
      $('.menu-close').show();
    });
    $('.menu-close').on('click', function(){
      $('.navigation-wrapper').removeClass('mobile-navigation');
      $('.navbar').removeClass('menu-open');
      $('.menu-close').hide();
    });

    var active_url = "";

    $(".navbar-mobile-header-icon").click(function(index){
      $('.navigation-wrapper').toggleClass('menu-overlay');
      $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
      $(".mobile-inner-nav").slideToggle(500);
      $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
        $(this).css({'animation-delay': (index/25)+'0.4s'});
      });
    });

    $('.dropdown-btn').on('click', function(e){
      e.preventDefault();
      setDropdown();
    });
    
    function setDropdown() {
      $('#myDropdown').slideToggle();
    }

    $('body').on('click', function(event){
      if (!event.target.matches('.dropdown-btn')) {

        var dropdowns = $(".dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    });

    // if($(window).width() < 769){
    //   var $item = $('.scrollable-panel li'), 
    //       visible = 3, //Set the number of items that will be visible
    //       index = 0, //Starting index
    //       endIndex = ( $item.length / visible ) - 1; //End index (NOTE:: Requires visible to be a factor of $item.length... You can improve this by rounding...)

    //   $('#right-arrow').click(function(){
    //     if(index < endIndex ){
    //       index++;
    //       $item.animate({'left':'-=300px'});
    //     }
    //   });

    //   $('#left-arrow').click(function(){
    //     if(index > 0){
    //       index--;            
    //       $item.animate({'left':'+=300px'});
    //     }
    //   });
    // }
  });
  $(window).resize(function () {
    $('.horizon-swiper').horizonSwiper({
      showItems: 3,
      arrows: true
    });
  });
</script>
    


  





  
  
  
  
    <div class="tertiary-nav">
      <div class="container">
        <div class="p-t-b-15 bdr-btm-e0e0e0 clearfix">
          <div class="breadcrum-wrapper pull-left text-left">
          
            <a href="/guide">Docs</a> 
          
          </div>
          
          
          
        </div>
      </div>
    </div>

    <div class="nav-mobile-dropdown hidden-sm hidden-md hidden-lg bdr-btm-e0e0e0 clearfix">
      <div class="container text-right">
        <div class="breadcrum-wrapper pull-left text-left">
          
              <a href="/guide">Docs</a>
          
        </div>
        
        
      </div>
    </div>
  


<style type="text/css">

  
</style>
    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   
          
            
        			<!-- <div class="pageheader">
	<div class="common-container">
		
			<h2 class="page-title">Guide template</h2>
		
	</div>
</div> -->


        		
          

          
	<section id="guide" lang="en">
		<div class="container">
			<div class="row">
			  <!-- start body -->
				
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Watcher
      [2.2]
    </a></span> » <span class="breadcrumb-link"><a href="reference.html">Reference</a></span> » <span class="breadcrumb-node">Input</span></div><div class="navheader"><span class="prev"><a href="reference.html">
              « 
              Reference</a>
           
        </span><span class="next">
           
          <a href="trigger.html">Trigger
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="input"></a>Input</h2></div></div></div><p>A watch <span class="emphasis"><em>input</em></span> loads data into a watch’s execution context as the initial payload.
Watcher supports four input types: <a class="link" href="input.html#input-simple" title="Simple Input"><code class="literal">simple</code></a> , <a class="link" href="input.html#input-search" title="Search Input"><code class="literal">search</code></a>,
<a class="link" href="input.html#input-http" title="HTTP Input"><code class="literal">http</code></a> and <a class="link" href="input.html#input-chain" title="Chain Input"><code class="literal">chain</code></a></p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>If you don’t define an input for a watch, an empty payload is loaded into the
        execution context.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="input-simple"></a>Simple Input</h3></div></div></div><p>An <a class="link" href="input.html" title="Input">input</a> that enables you to load static data into a watch’s execution context as the initial payload.
The <code class="literal">simple</code> input is useful when the data you want to work with doesn’t need to be loaded dynamically, but for
maintainability you want to store the data centrally and reference it with templates.</p><p>You can define the static data as a string (<code class="literal">str</code>), numeric value (<code class="literal">num</code>), or an object (<code class="literal">obj</code>):</p><div class="pre_wrapper"><pre class="programlisting">{
  "input" : {
    "simple" : {
      "str" : "val1",
      "num" : 23,
      "obj" : {
        "str" : "val2"
      }
    }
  }
  ...
}</pre></div><p>For example, the following watch uses the <code class="literal">simple</code> input to set the recipient name
for a reminder email that’s sent every day at noon.</p><div class="pre_wrapper"><pre class="programlisting">{
  "trigger" : {
    "schedule" : {
      "daily" : { "at" : "noon" }
    }
  },
  "input" : {
    "simple" : {
      "name" : "John"
    }
  },
  "actions" : {
    "reminder_email" : {
      "email" : {
        "to" : "to@host.domain",
        "subject" : "Reminder",
        "body" : "Dear {{ctx.payload.name}}, by the time you read these lines, I'll be gone"
      }
    }
  }
}</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="input-search"></a>Search Input</h3></div></div></div><p>An <a class="link" href="input.html" title="Input">input</a> that enables you to search the Elasticsearch cluster that Watcher is running on and load the
response into a watch’s execution context as the initial payload. See <a class="xref" href="input.html#search-input-attributes" title="Table 2. Search Input Attributes">Table 2, “Search Input Attributes”</a> for the supported attributes.</p><p>Conditions, transforms, and actions can access the search results through the watch execution context. For example:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
To load all of the search hits into an email body, use <code class="literal">ctx.payload.hits</code>.
</li><li class="listitem">
To reference the total number of hits, use <code class="literal">ctx.payload.hits.total</code>.
</li><li class="listitem">
To access a particular hit, use its zero-based array index. For example, to
get the third hit, use <code class="literal">ctx.payload.hits.hits.2</code>.
</li><li class="listitem">
To get a field value from a particular hit, use <code class="literal">ctx.payload.hits.hits.&lt;index&gt;.fields.&lt;fieldname&gt;</code>. For
example, to get the message field from the first hit, use <code class="literal">ctx.payload.hits.hits.0.fields.message</code>.
</li></ul></div><div class="table"><a id="search-input-attributes"></a><p class="title"><strong>Table 2. Search Input Attributes</strong></p><div class="table-contents"><table summary="Search Input Attributes" cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th class="entry" align="left" valign="top"> Name                                          </th><th class="entry" align="left" valign="top">Required   </th><th class="entry" align="left" valign="top"> Default     </th><th class="entry" align="left" valign="top"> Description</th></tr></thead><tbody><tr><td class="entry" align="left" valign="top"><p><code class="literal">request.search_type</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p><code class="literal">query_then_fetch</code></p></td><td class="entry" align="left" valign="top"><p>The <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.2/search-request-search-type.html#search-request-search-type" target="_top">type</a> of search request to perform. Valid values are: <code class="literal">dfs_query_and_fetch</code>, <code class="literal">dfs_query_then_fetch</code>, <code class="literal">query_and_fetch</code>, <code class="literal">query_then_fetch</code>, and <code class="literal">scan</code>. The Elasticsearch default is <code class="literal">query_then_fetch</code>.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">request.indices</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p>-</p></td><td class="entry" align="left" valign="top"><p>The indices to search. If omitted, all indices are searched, which is the default behaviour in Elasticsearch.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">request.types</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p>-</p></td><td class="entry" align="left" valign="top"><p>The document types to search for. If omitted, all document types are are searched, which is the default behaviour in Elasticsearch.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">request.body</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p>-</p></td><td class="entry" align="left" valign="top"><p>The body of the request. The <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.2/search-request-body.html" target="_top">request body</a> follows the same structure you normally send in the body of a REST <code class="literal">_search</code> request. The body can be static text or include <code class="literal">mustache</code> <a class="link" href="scripts-templates.html#templates" title="Using Templates">templates</a>.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">request.template</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p>-</p></td><td class="entry" align="left" valign="top"><p>The body of the search template. See <a class="link" href="scripts-templates.html#templates" title="Using Templates">configure templates</a> for more information.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">request.indices_options.expand_wildcards</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p><code class="literal">open</code></p></td><td class="entry" align="left" valign="top"><p>How to expand wildcards. Valid values are: <code class="literal">all</code>, <code class="literal">open</code>, <code class="literal">closed</code>, and <code class="literal">none</code> See <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.2/multi-index.html#multi-index" target="_top"><code class="literal">expand_wildcards</code></a> for more information.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">request.indices_options.ignore_unavailable</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p><code class="literal">true</code></p></td><td class="entry" align="left" valign="top"><p>Whether the search should ignore unavailable indices. See <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.2/multi-index.html#multi-index" target="_top"><code class="literal">ignore_unavailable</code></a> for more information.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">request.indices_options.allow_no_indices</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p><code class="literal">true</code></p></td><td class="entry" align="left" valign="top"><p>Whether to allow a search where a wildcard indices expression results in no concrete indices. See <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.2/multi-index.html#multi-index" target="_top">allow_no_indices</a> for more information.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">extract</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p>-</p></td><td class="entry" align="left" valign="top"><p>A array of JSON keys to extract from the search response and load as the payload. When a search generates a large response, you can use <code class="literal">extract</code> to select the relevant fields instead of loading the entire response.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">timeout</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p>30s</p></td><td class="entry" align="left" valign="top"><p>The timeout for waiting for the search api call to return. If no response is returned within this time, the search input times out and fails.
                                                                            This setting overrides the default internal search operations <a class="link" href="configuring-default-internal-ops-timeouts.html#default-internal-ops-timeouts">timeouts</a>.</p></td></tr></tbody></table></div></div><br class="table-break" /><p>You can reference the following variables in the execution context when specifying the request <code class="literal">body</code>:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th class="entry" align="left" valign="top"> Name                                  </th><th class="entry" align="left" valign="top"> Description</th></tr></thead><tbody><tr><td class="entry" align="left" valign="top"><p><code class="literal">ctx.watch_id</code></p></td><td class="entry" align="left" valign="top"><p>The id of the watch that is currently executing.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">ctx.execution_time</code></p></td><td class="entry" align="left" valign="top"><p>The time execution of this watch started.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">ctx.trigger.triggered_time</code></p></td><td class="entry" align="left" valign="top"><p>The time this watch was triggered.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">ctx.trigger.scheduled_time</code></p></td><td class="entry" align="left" valign="top"><p>The time this watch was supposed to be triggered.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">ctx.metadata.*</code></p></td><td class="entry" align="left" valign="top"><p>Any metadata associated with the watch.</p></td></tr></tbody></table></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_submitting_searches"></a>Submitting Searches</h4></div></div></div><p>You can use the search input to submit any valid search request to your Elasticsearch cluster.
For example, the following snippet returns all <code class="literal">event</code> documents in the <code class="literal">logs</code> index.</p><div class="pre_wrapper"><pre class="programlisting">"input" : {
  "search" : {
    "request" : {
      "indices" : [ "logs" ],
      "types" : [ "event" ],
      "body" : {
        "query" : { "match_all" : {}}
      }
    }
  }
}</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_extracting_specific_fields"></a>Extracting Specific Fields</h4></div></div></div><p>You can specify which fields in the search response you want to load into the watch payload with
the <code class="literal">extract</code> attribute. This is useful when a search generates a large response and you are only
interested in particular fields.</p><p>For example, the following input loads only the total number of hits into the watch payload:</p><div class="pre_wrapper"><pre class="programlisting">"input": {
    "search": {
      "request": {
        "indices": [".watch_history*"]
      },
      "extract": ["hits.total"]
    }
  },</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_using_templates"></a>Using Templates</h4></div></div></div><p>The <code class="literal">search</code> input supports <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.2/search-template.html" target="_top">search templates</a>. For example, the following snippet
references the indexed template called <code class="literal">my_template</code> and passes a value of 23 to fill in the template’s
<code class="literal">value</code> parameter.</p><div class="pre_wrapper"><pre class="programlisting">{
  "input" : {
    "search" : {
      "request" : {
        "indices" : [ "logs" ],
        "template" : {
          "id" : "my_template",
          "params" : {
            "value" : 23
          }
        }
      }
    }
  }
  ...
}</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_applying_conditions"></a>Applying Conditions</h4></div></div></div><p>The <code class="literal">search</code> input is often used in conjunction with the <a class="link" href="condition.html#condition-script" title="Script Condition"><code class="literal">script</code></a> condition. For example,
the following snippet adds a condition to check if the search returned more than five hits</p><div class="pre_wrapper"><pre class="programlisting">{
  "input" : {
    "search" : {
      "request" : {
        "indices" : [ "logs" ],
        "body" : {
          "query" : { "match_all" : {} }
        }
      }
    }
  },
  "condition" : {
    "script" : "return ctx.payload.hits.total &gt; 5"
  }
  ...
}</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="input-http"></a>HTTP Input</h3></div></div></div><p>An <a class="link" href="input.html" title="Input">input</a> that enables you to query an HTTP endpoint and load theresponse into a watch’s execution context as the initial payload. See <a class="xref" href="input.html#http-input-attributes" title="Table 3. HTTP Input Attributes">Table 3, “HTTP Input Attributes”</a> for the supported attributes.</p><p>For example, you can use the <code class="literal">http</code> input to:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Query an external Elasticsearch cluster. The query that one can define in the <a class="link" href="input.html#input-search" title="Search Input"><code class="literal">search</code></a> input can also defined
  in the <code class="literal">http</code> input. This in particular interesting as one can query clusters that are version wise incompatible with the
  cluster where <span class="emphasis"><em>Watcher</em></span> is running on. With the <code class="literal">search</code> input these cluster would otherwise not be accessible. Also with
  the <code class="literal">http</code> input it is straight forward to run a dedicated <span class="emphasis"><em>Watcher</em></span> cluster that queries other clusters.
</li><li class="listitem">
Query Elasticsearch APIs other than the search API. For example, the <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.2/cluster-nodes-stats.html" target="_top">Nodes Stats</a>,
  <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.2/cluster-health.html" target="_top">Cluster Health</a> or <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.2/cluster-state.html" target="_top">Cluster State</a> APIs.
</li><li class="listitem">
Query an external webservice. Any service that exposes an HTTP endpoint can be queried by the <code class="literal">http</code> input. This can be very useful when you need to bridge between an Elasticsearch cluster and other systems.
</li></ul></div><p>Conditions, transforms, and actions can access the JSON response through the watch execution context. For example, if
the response contains a <code class="literal">message</code> object, you could use <code class="literal">ctx.payload.message</code> to get the message from the payload.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>If the body of the response from the HTTP endpoint is in the JSON or YAML format it will be parsed and used as the initial payload. Any
        other value that is returned will be assigned and accessible to/via the <code class="literal">_value</code> variable of the payload.</p></div></div><div class="table"><a id="http-input-attributes"></a><p class="title"><strong>Table 3. HTTP Input Attributes</strong></p><div class="table-contents"><table summary="HTTP Input Attributes" cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th class="entry" align="left" valign="top"> Name                                          </th><th class="entry" align="left" valign="top">Required   </th><th class="entry" align="left" valign="top"> Default     </th><th class="entry" align="left" valign="top"> Description</th></tr></thead><tbody><tr><td class="entry" align="left" valign="top"><p><code class="literal">request.scheme</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p>http</p></td><td class="entry" align="left" valign="top"><p>Url scheme. Valid values are: <code class="literal">http</code> or <code class="literal">https</code>.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">request.host</code></p></td><td class="entry" align="left" valign="top"><p>yes</p></td><td class="entry" align="left" valign="top"><p>-</p></td><td class="entry" align="left" valign="top"><p>The host to connect to.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">request.port</code></p></td><td class="entry" align="left" valign="top"><p>yes</p></td><td class="entry" align="left" valign="top"><p>-</p></td><td class="entry" align="left" valign="top"><p>The port the http service is listening on.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">request.path</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p>-</p></td><td class="entry" align="left" valign="top"><p>The URL path. The path can be static text or contain <code class="literal">mustache</code> <a class="link" href="scripts-templates.html#templates" title="Using Templates">templates</a>. URL query string parameters must be specified via the <code class="literal">request.params</code> attribute.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">request.method</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p>get</p></td><td class="entry" align="left" valign="top"><p>The HTTP method. Supported values are: <code class="literal">head</code>, <code class="literal">get</code>, <code class="literal">post</code>, <code class="literal">put</code> and <code class="literal">delete</code>.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">request.headers</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p>-</p></td><td class="entry" align="left" valign="top"><p>The HTTP request headers. The header values can be static text or include <code class="literal">mustache</code> <a class="link" href="scripts-templates.html#templates" title="Using Templates">templates</a>.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">request.params</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p>-</p></td><td class="entry" align="left" valign="top"><p>The URL query string parameters. The parameter values can be static text or contain <code class="literal">mustache</code> <a class="link" href="scripts-templates.html#templates" title="Using Templates">templates</a>.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">request.auth</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p>-</p></td><td class="entry" align="left" valign="top"><p>Authentication related HTTP headers. Currently, only basic authentication is supported.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">request.proxy.host</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p>-</p></td><td class="entry" align="left" valign="top"><p>The proxy host to use when connecting to the host.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">request.proxy.port</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p>-</p></td><td class="entry" align="left" valign="top"><p>The proxy port to use when connecting to the host.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">request.connection_timeout</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p>10s</p></td><td class="entry" align="left" valign="top"><p>The timeout for setting up the http connection. If the connection could not be set up within this time, the input will timeout and fail. It is
                                                                            also possible to <a class="link" href="configuring-default-http-timeouts.html" title="Configuring the Default HTTP Timeouts">configure</a> the default connection timeout for all http connection timeouts.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">request.read_timeout</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p>10s</p></td><td class="entry" align="left" valign="top"><p>The timeout for reading data from http connection. If no response was received within this time, the input will timeout and fail. It is
                                                                            also possible to <a class="link" href="configuring-default-http-timeouts.html" title="Configuring the Default HTTP Timeouts">configure</a> the default read timeout for all http connection timeouts.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">request.body</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p>-</p></td><td class="entry" align="left" valign="top"><p>The HTTP request body. The body can be static text or include <code class="literal">mustache</code> <a class="link" href="scripts-templates.html#templates" title="Using Templates">templates</a>.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">extract</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p>-</p></td><td class="entry" align="left" valign="top"><p>A array of JSON keys to extract from the input response and use as payload. In cases when an input generates a large response this can be used to filter the relevant piece of the response to be used as payload.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">response_content_type</code></p></td><td class="entry" align="left" valign="top"><p>no</p></td><td class="entry" align="left" valign="top"><p>json</p></td><td class="entry" align="left" valign="top"><p>The expected content type the response body will contain. Supported values are <code class="literal">json</code>, <code class="literal">yaml</code> and <code class="literal">text</code>. If the format is <code class="literal">text</code> the <code class="literal">extract</code> attribute cannot exist. Note that any content type set by the http headers in the response will override this setting. If this is set to <code class="literal">text</code> the body of the response will be assigned and accessible to/via the <code class="literal">_value</code> variable of the payload.</p></td></tr></tbody></table></div></div><br class="table-break" /><p>You can reference the following variables in the execution context when specifying the <code class="literal">path</code>, <code class="literal">params</code>, <code class="literal">headers</code> and <code class="literal">body</code> values:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th class="entry" align="left" valign="top"> Name                                  </th><th class="entry" align="left" valign="top"> Description</th></tr></thead><tbody><tr><td class="entry" align="left" valign="top"><p><code class="literal">ctx.watch_id</code></p></td><td class="entry" align="left" valign="top"><p>The id of the watch that is currently executing.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">ctx.execution_time</code></p></td><td class="entry" align="left" valign="top"><p>The time execution of this watch started.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">ctx.trigger.triggered_time</code></p></td><td class="entry" align="left" valign="top"><p>The time this watch was triggered.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">ctx.trigger.scheduled_time</code></p></td><td class="entry" align="left" valign="top"><p>The time this watch was supposed to be triggered.</p></td></tr><tr><td class="entry" align="left" valign="top"><p><code class="literal">ctx.metadata.*</code></p></td><td class="entry" align="left" valign="top"><p>Any metadata associated with the watch.</p></td></tr></tbody></table></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_querying_external_elasticsearch_clusters"></a>Querying External Elasticsearch Clusters</h4></div></div></div><p>The following snippet shows a basic <code class="literal">http</code> input that searches for all documents in the <code class="literal">idx</code> index in
an external cluster:</p><div class="pre_wrapper"><pre class="programlisting">"input" : {
  "http" : {
    "request" : {
      "host" : "example.com",
      "port" : 9200,
      "path" : "/idx/_search"
    }
  }
}</pre></div><p>You can use the full Elasticsearch <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.2/query-dsl.html" target="_top">Query DSL</a> to perform more sophisticated searches. For example, the following snippet retrieves all documents that contain <code class="literal">event</code> in the <code class="literal">category</code> field.</p><div class="pre_wrapper"><pre class="programlisting">"input" : {
  "http" : {
    "request" : {
      "host" : "host.domain",
      "port" : 9200,
      "path" : "/idx/_search",
      "body" :  "{\"query\" :  {  \"match\" : { \"category\" : \"event\"}}}"
    }
  }
}</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_using_templates_2"></a>Using Templates</h4></div></div></div><p>The <code class="literal">http</code> input supports templating. You can use <a class="link" href="scripts-templates.html#templates" title="Using Templates">templates</a> when specifying
the <code class="literal">path</code>, <code class="literal">body</code>, header values, and parameter values.</p><p>For example, the following snippet uses templates to specify what
index to query and restrict the results to documents added
within the last five minutes.</p><div class="pre_wrapper"><pre class="programlisting">"input" : {
  "http" : {
    "request" : {
      "host" : "host.domain",
      "port" : 9200,
      "path" : "/{{ctx.watch_id}}/_search",
      "body" : "{\"query\" : {\"range\": {\"@timestamp\" : {\"from\": \"{{ctx.trigger.triggered_time}}||-5m\",\"to\": \"{{ctx.trigger.triggered_time}}\"}}}}"
      }
    }
  }</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_calling_elasticsearch_apis"></a>Calling Elasticsearch APIs</h4></div></div></div><p>You can use <code class="literal">http</code> input load the data returned by any Elasticsearch API. For example, the following snippet calls the
 <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/2.2/cluster-stats.html" target="_top">Cluster Stats</a> API and passes in the <code class="literal">human</code> query string argument.</p><p class="formalpara"><strong>Http Input. </strong>
</p><div class="pre_wrapper"><pre class="programlisting">"input" : {
  "http" : {
    "request" : {
      "host" : "host.domain",
      "port" : "9200",
      "path" : "/_cluster/stats",
      "params" : {
        "human" : "true" <a id="CO21-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
      }
    }
  }
}</pre></div><p class="formalpara">
</p><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO21-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p class="para">
Enabling this attribute returns the <code class="literal">bytes</code> values in the response in human readable format.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_calling_external_webservices"></a>Calling External Webservices</h4></div></div></div><p>You can use <code class="literal">http</code> input to get data from any external webservice. The <code class="literal">http</code> input
supports basic authentication. For example, the following snippet calls <code class="literal">myservice</code> and uses basic authentication:</p><p class="formalpara"><a id="input-http-auth-basic-example"></a><strong>Http Input. </strong>
</p><div class="pre_wrapper"><pre class="programlisting">"input" : {
  "http" : {
    "request" : {
      "host" : "host.domain",
      "port" : "9200",
      "path" : "/myservice",
      "auth" : {
        "basic" : {
          "username" : "user",
          "password" : "pass"
        }
      }
    }
  }
}</pre></div><p class="formalpara">
</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="input-chain"></a>Chain Input</h3></div></div></div><p>An <a class="link" href="input.html" title="Input">input</a> that enables you to string together multiple inputs to load data into the watch execution
context. Each input loads data into the execution context and that data is available to subsequent inputs in the chain.</p><p>The <code class="literal">chain</code> input is useful when you want to perform an action based on data from multiple sources.
You can also use the data collected by one input to load data from another source.</p><p>To reference data loaded by a particular input, you use the input’s name, <code class="literal">ctx.payload.&lt;input-name&gt;.&lt;value&gt;</code>.</p><p>For example, the following chain input loads data from an HTTP server using the path set by a <code class="literal">simple</code> input.</p><div class="pre_wrapper"><pre class="programlisting">{
  "input" : {
    "chain" : {
      "inputs" : [ <a id="CO22-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
        {
          "first" : {
            "simple" : { "path" : "/_search" }
          }
        },
        {
          "second" : {
            "http" : {
              "request" : {
                "host" : "localhost",
                "port" : 9200,
                "path" : "{{ctx.payload.first.path}}" <a id="CO22-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
              }
            }
          }
        }
      ]
    }
  }
  ...
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO22-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p class="para">
The inputs in a chain are specified as an array to guarantee the order in which the inputs are processed. (JSON does not guarantee the order of arbitrary objects.)
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO22-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p class="para">
Loads the <code class="literal">path</code> set by the <code class="literal">first</code> input.
</p></td></tr></table></div></div></div><div class="navfooter"><span class="prev"><a href="reference.html">
              « 
              Reference</a>
           
        </span><span class="next">
           
          <a href="trigger.html">Trigger
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
					<div id="rtpcontainer" style="display: block;">
						<h3>Top Videos</h3>
						<ul>
							<li><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Elasticsearch Demo</a></li>
							<li><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Kibana 101</a></li>
							<li><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Primer</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</section>

        </div>
      	


<div id="footer-subscribe" class="home-footer-subscribe">
  <div class="subscribe-wrapper">
    <div class="container">
      <div class="subscribe-form-container">
        <div class="subscribe-title col-md-12 col-lg-6">
            <h5>Be in the know with the latest and greatest from Elastic.</h5>
        </div>
        <div class="subscribe-form col-md-12 col-lg-6">
          <form id="mktoForm_1398" class="mktoForm sb-form"></form>
        </div>
      </div>
      <div class="form_thanks hide">
        
          <p>Thanks for subscribing! We'll keep you updated with new releases.</p>
        
      </div>
    </div>
  </div>
</div>
<!--subscribe newsletter end-->

<!-- Footer Section -->
<footer class="footer-wrapper">
  <div class="container">
    <div class="row footer-content">
        
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/products">Products ></a></h3>
              
              <ul>
              
                
                  
                    <li><a href="/products/elasticsearch">Elasticsearch</a></li>
                  
                
              
                
                  
                    <li><a href="/products/kibana">Kibana</a></li>
                  
                
              
                
                  
                    <li><a href="/products/beats">Beats</a></li>
                  
                
              
                
                  
                    <li><a href="/products/logstash">Logstash</a></li>
                  
                
              
                
                  
                    <li><a href="/products/x-pack">X-Pack</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud">Elastic Cloud</a></li>
                  
                
              
                
                  
                    <li><a href="/products/x-pack/security">Security (formerly Shield)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/x-pack/alerting">Alerting (via Watcher)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/x-pack/monitoring">Monitoring (formerly Marvel)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/x-pack/graph">Graph</a></li>
                  
                
              
                
                  
                    <li><a href="/products/x-pack/reporting">Reporting</a></li>
                  
                
              
                
                  
                    <li><a href="/products/x-pack/machine-learning">Machine Learning</a></li>
                  
                
              
                
                  
                    <li><a href="/products/hadoop">ES-Hadoop</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3>Resources</h3>
              
              <ul>
              
                
                  
                    <li><a href="/blog">Blog</a></li>
                  
                
              
                
                  
                    <li><a href="https://cloud-status.elastic.co">Cloud Status</a></li>
                  
                
              
                
                  
                    <li><a href="/community">Community</a></li>
                  
                
              
                
                  
                    <li><a href="/use-cases">Customers & Use Cases</a></li>
                  
                
              
                
                  
                    <li><a href="/guide">Documentation</a></li>
                  
                
              
                
                  
                    <li><a href="/elasticon">Elastic{ON} Events</a></li>
                  
                
              
                
                  
                    <li><a href="https://discuss.elastic.co/">Forums</a></li>
                  
                
              
                
                  
                    <li><a href="/community/meetups">Meetups</a></li>
                  
                
              
                
                  
                    <li><a href="/subscriptions">Subscriptions</a></li>
                  
                
              
                
                  
                    <li><a href="https://support.elastic.co">Support Portal</a></li>
                  
                
              
                
                  
                    <li><a href="/videos">Videos & Webinars</a></li>
                  
                
              
                
                  
                    <li><a href="/training">Training</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/about">About ></a></h3>
              
              <ul>
              
                
                  
                    <li><a href="/about/careers">Careers/Jobs</a></li>
                  
                
              
                
                  
                    <li><a href="/contact">Contact</a></li>
                  
                
              
                
                  
                    <li><a href="/about/leadership">Leadership</a></li>
                  
                
              
                
                  
                    <li><a href="/about/partners">Partners</a></li>
                  
                
              
                
                  
                    <li><a href="/about/press">Press</a></li>
                  
                
              
                
                  
                    <li><a href="https://www.elastic.shop">Elastic Store</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3>Language</h3>
              
              <ul>
              
                
                  <li><a href="/" data-value="/">English</a></li>
                
              
                
                  <li><a href="/fr/" data-value="/fr/">Français</a></li>
                
              
                
                  <li><a href="/de/" data-value="/de/">Deutsch</a></li>
                
              
                
                  <li><a href="/jp/" data-value="/jp/">日本語</a></li>
                
              
                
                  <li><a href="/kr/" data-value="/kr/">한국어</a></li>
                
              
                
                  <li><a href="/cn/" data-value="/cn/">简体中文</a></li>
                
              
              </ul>
          </div>    
       
    </div>
     <!-- Social Media Section -->
    <div class="row social-icon">
      <div class="col-xs-12 col-sm-12 col-md-12">
        <p class="text-center font-size-10 m-0">FOLLOW US</p>
        <ul>
          
          <li class="facebook"><a id="footer_facebook" href="http://www.facebook.com/elastic.co"></a></li>
          
          <li class="twitter"><a id="footer_twitter" href="https://www.twitter.com/elastic"></a></li>
          
          <li class="linkedin"><a id="footer_linkedin" href="https://www.linkedin.com/company/elastic-co"></a></li>
          
          <li class="xing"><a id="footer_xing" href="https://www.xing.com/companies/elastic.co"></a></li>
          
          <li class="youtube"><a id="footer_youtube" href="https://www.youtube.com/user/elasticsearch"></a></li>
          
        </ul>
      </div>
    </div>
    <!-- Social Media Section end-->
    <div class="row">
	<div class="col-xs-12 col-sm-12 col-md-12">
		<div class="copyright">
			<ul>
				<li><a href="/legal/trademarks">Trademarks</a></li>
				<li><a href="/legal/terms-of-use">Terms of Use</a></li>
				<li><a href="/legal/privacy-policy">Privacy</a></li>
				<li><a href="/legal/privacy-and-cookie-policy">Cookie Policy</a></li>
				<li><a href="/brand">Brand</a></li>
			</ul>
			<div class="copyright-content">
				<div class="footer-logo"><a href="/"><img src="/static/images/svg/logo-elastic-footer.svg" class="img-responsive"></a>
				</div>
				<div class="footer-text">
					<p>© 2017. All Rights Reserved - Elasticsearch
					</p>
					<p>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries
					</p>
					<p>Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other countries.
					</p>
				</div>
			</div>
		</div>
	</div>
</div>
  </div>
</footer>
<!-- Footer Section end-->

<style type="text/css">
	
    
		.facebook{background:url("https://static-www.elastic.co/assets/bltf546ff2e0a8f2de5/facebook.svg?q=756") no-repeat;}
    
    
      .facebook:hover {background:url("https://static-www.elastic.co/assets/bltc24cf11c714ecfc4/facebook-hover.svg?q=756")}		
    
	
    
		.twitter{background:url("https://static-www.elastic.co/assets/bltdd9556d6b24e2b85/twitter.svg?q=756") no-repeat;}
    
    
      .twitter:hover {background:url("https://static-www.elastic.co/assets/blt90b0372cc07a54d3/twitter-hover.svg?q=756")}		
    
	
    
		.linkedin{background:url("https://static-www.elastic.co/assets/bltc4a77e0f52ce07f1/linkedin.svg?q=756") no-repeat;}
    
    
      .linkedin:hover {background:url("https://static-www.elastic.co/assets/blt01ce654380e4ea6c/linkedin-hover.svg?q=756")}		
    
	
    
		.xing{background:url("https://static-www.elastic.co/assets/bltc6347078dcc9ec76/xing.svg?q=756") no-repeat;}
    
    
      .xing:hover {background:url("https://static-www.elastic.co/assets/bltededebe5f7521a39/xing-hover.svg?q=756")}		
    
	
    
		.youtube{background:url("https://static-www.elastic.co/assets/blt4982061ce1aebc7f/youtube.svg?q=756") no-repeat;}
    
    
      .youtube:hover {background:url("https://static-www.elastic.co/assets/bltddeb6c6404ae81a5/youtube-hover.svg?q=756")}		
    
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
  MktoForms2.whenReady(function (form) {
  //    // Put your code that uses the form object here
  //   $('#Email').attr("placeholder","Email Address");
  //   $('#FirstName').attr("placeholder","First Name");
  //   $('#LastName').attr("placeholder","Last Name");
  //   $('#Form_Message').attr("placeholder","Tell us in your words");
  // // ========================End Mktoform placeholder==================
  });

  MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", 1398,function(form){
    form.onSuccess(function(form){
      $('#mktoForm_1398').css('display','none');
      $('.subscribe-wrapper .subscribe-form-container').hide();
      $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
      dataLayer.push({'event': 'mktoFormSubmit'});
        return false;
      });
  });
</script>
      </section>
    </div>
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";	
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","url":"/guide_template"}';
</script>
<script src="https://static-www.elastic.co/static/js/jquery.autocomplete.js?q=756"></script>
<script type="text/javascript" src="https://static-www.elastic.co/static/js/slick.min.js?q=756"></script>
<script src="https://static-www.elastic.co/static/js/nav-v5.js?q=756"></script>
<script src="https://static-www.elastic.co/static/js/script.js?q=756"></script> 
     
     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>