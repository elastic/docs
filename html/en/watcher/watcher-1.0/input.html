
<!DOCTYPE HTML>
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Input</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Watcher [watcher-1.0]" /><link rel="up" href="reference.html" title="Reference" /><link rel="prev" href="reference.html" title="Reference" /><link rel="next" href="trigger.html" title="Trigger" />
  
 	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	
 	<link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png?change=123">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png?change=123">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png?change=123">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png?change=123">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png?change=123">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png?change=123">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png?change=123">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png?change=123">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png?change=123">
<link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png?change=123">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?change=123">
<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png?change=123">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?change=123">
<link rel="manifest" href="/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">
<script type="text/javascript">visitor_count = ""</script>
<script type="text/javascript">mod_value = ""</script>


	<meta name="description" content="" />

	<link rel="canonical" href="" />

	<meta property="og:image" content="https://www.elastic.co/static/img/elastic-logo-200.png" />

	<!-- <link rel="shortcut icon" href="/favicon.ico?change=550" type="image/x-icon">
	<link rel="icon" href="/favicon.ico?change=550" type="image/x-icon"> -->
	<!-- For third-generation iPad with high-resolution Retina display: -->
	<!-- <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png?change=550"> -->

	<!-- For iPhone with high-resolution Retina display: -->

	<!-- <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png?change=550"> -->

	<!-- For first- and second-generation iPad: -->

	<!-- <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png?change=550"> -->
	<!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'> -->
	
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/skel.css" />	
	<link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/style.css" />	
	<script src="https://static-www.elastic.co/static/js/skel.min.js"></script>
	
		<script type="text/javascript">form_name = "" ; cdn_url="https://static-www.elastic.co"</script>
		

	<script src="https://static-www.elastic.co/static/js/init.js?clr=145"></script>
	<script src="https://static-www.elastic.co/static/js/jquery.min.js"></script>
	<!--<script type="text/javascript">
	    (function() {
	        var path = '//easy.myfonts.net/v2/js?sid=10336(font-family=Avenir+35+Light)&sid=10338(font-family=Avenir+55+Roman)&sid=10340(font-family=Avenir+85+Heavy)&sid=10344(font-family=Avenir+65+Medium)&key=nAD6PCOPrX',
	            protocol = ('https:' == document.location.protocol ? 'https:' : 'http:'),
	            trial = document.createElement('script');
	        trial.type = 'text/javascript';
	        trial.async = true;
	        trial.src = protocol + path;
	        var head = document.getElementsByTagName("head")[0];
	        head.appendChild(trial);
	    })();
	</script>-->

	
	<link type="text/css" rel="stylesheet" href="/static/css/prettify.css" />
	<script type="text/javascript" src="/static/js/prettify.js"></script>

	

<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
<body >
	<!-- RTP tag --> 
	<script type='text/javascript' async>
	(function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
	 c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";
	 g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);
	 })(window,document,"rtp","//sjrtp2-cdn.marketo.com/rtp-api/v1/rtp.js","elasticco");
	 
	rtp('send','view');
	rtp('get', 'campaign',true);
	</script>
	<!-- End of RTP tag -->
	<!-- Google Tag Manager -->
	<script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
													  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-58RLH5');</script>
	<!-- End Google Tag Manager -->
	
	<div class="header-cont">
		<div id="header-wrapper">
			


<div class="container w100">
	<div class="row">
		<div class="12u">
			

<section class="first-container">
	<div class="row">
		<div class="8u 6u(small) 6u(xsmall)">
			<div id="elastic">
				<h1>
					<a href="/">
						<div id="elastic-logo">
						<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 400 130" preserveAspectRatio="xMinYMin meet" enable-background="new 0 0 400 130" xml:space="preserve">
    <g>
    	<g>
    		<path fill="#FFFFFF" d="M122.5,67.8c0-10.3-6.4-19.2-15.9-22.7c0.4-2.2,0.6-4.3,0.6-6.6c0-19.1-15.5-34.6-34.6-34.6
    			c-11.1,0-21.5,5.3-28,14.4c-3.2-2.5-7.1-3.8-11.2-3.8c-10.1,0-18.4,8.2-18.4,18.4c0,2.2,0.4,4.4,1.1,6.4C6.5,42.6,0,51.8,0,62
    			c0,10.3,6.4,19.3,16,22.8c-0.4,2.1-0.6,4.3-0.6,6.6c0,19,15.5,34.5,34.5,34.5c11.2,0,21.5-5.4,28-14.4c3.2,2.5,7.2,3.9,11.3,3.9
    			c10.1,0,18.4-8.2,18.4-18.4c0-2.2-0.4-4.4-1.1-6.4C115.9,87.2,122.5,78,122.5,67.8z"/>
    		<g>
    			<path fill="#F4BD19" d="M47.9,56.3l27.3,12.5l27.6-24.2c0.4-2,0.6-4,0.6-6.1c0-17-13.8-30.8-30.8-30.8c-10.2,0-19.7,5-25.4,13.4
    				l-4.6,23.8L47.9,56.3z"/>
    		</g>
    		<g>
    			<path fill="#3CBEB1" d="M19.6,85.2c-0.4,2-0.6,4.1-0.6,6.2c0,17,13.9,30.9,30.9,30.9c10.3,0,19.8-5.1,25.6-13.5L80,85l-6.1-11.6
    				L46.5,60.9L19.6,85.2z"/>
    		</g>
    		<g>
    			<path fill="#E9478C" d="M19.4,37.9l18.7,4.4L42.3,21c-2.6-2-5.7-3-9-3c-8.1,0-14.8,6.6-14.8,14.8C18.5,34.5,18.8,36.3,19.4,37.9z
    				"/>
    		</g>
    		<g>
    			<path fill="#2C458F" d="M17.8,42.4C9.4,45.1,3.6,53.2,3.6,62c0,8.6,5.3,16.3,13.3,19.3l26.3-23.8l-4.8-10.3L17.8,42.4z"/>
    		</g>
    		<g>
    			<path fill="#95C63D" d="M80.3,108.7c2.6,2,5.7,3.1,8.9,3.1c8.1,0,14.8-6.6,14.8-14.8c0-1.8-0.3-3.5-0.9-5.1l-18.7-4.4L80.3,108.7
    				z"/>
    		</g>
    		<g>
    			<path fill="#176655" d="M84.1,82.6l20.6,4.8c8.4-2.8,14.2-10.8,14.2-19.6c0-8.6-5.3-16.2-13.3-19.3l-27,23.6L84.1,82.6z"/>
    		</g>
    	</g>
    	<path d="M162.8,76.3c0,0.1,0,0.6,0.1,1.4c0.1,0.8,0.3,1.8,0.6,3c0.3,1.1,0.8,2.4,1.4,3.7c0.6,1.3,1.4,2.5,2.5,3.6
    		c1,1.1,2.3,2,3.8,2.7c1.5,0.7,3.4,1.1,5.6,1.1c1.8,0,3.3-0.1,4.6-0.4c1.3-0.3,2.4-0.7,3.4-1.3c1-0.6,1.9-1.3,2.7-2.2
    		c0.8-0.9,1.6-1.9,2.4-3.1c0.5-0.7,1-1.2,1.6-1.5c0.6-0.3,1.2-0.4,1.8-0.4c1,0,2,0.4,2.8,1.1c0.9,0.7,1.3,1.7,1.3,2.8
    		c0,0.7-0.4,1.7-1.1,3.1c-0.7,1.4-1.9,2.8-3.6,4.1c-1.6,1.4-3.7,2.6-6.3,3.6c-2.6,1-5.7,1.5-9.5,1.5c-3.8,0-7.2-0.7-10.2-2.1
    		c-3-1.4-5.5-3.2-7.5-5.6c-2-2.3-3.6-5-4.7-8.1c-1.1-3.1-1.6-6.3-1.6-9.7c0-3.5,0.5-6.8,1.6-9.9c1.1-3.1,2.7-5.8,4.7-8.1
    		c2-2.3,4.5-4.1,7.4-5.5c2.9-1.3,6.1-2,9.6-2c3.3,0,6.3,0.5,9.2,1.5c2.8,1,5.3,2.4,7.4,4.3c2.1,1.9,3.7,4.1,5,6.8
    		c1.2,2.7,1.8,5.8,1.8,9.2c0,2.1-0.5,3.7-1.6,4.8c-1,1.1-2.2,1.6-3.6,1.6H162.8z M170.9,56.4c-1.5,0.6-2.7,1.4-3.7,2.4
    		c-1,0.9-1.8,2-2.4,3.1c-0.6,1.1-1,2.2-1.3,3.2c-0.3,1-0.5,1.8-0.5,2.5c-0.1,0.7-0.1,1.1-0.1,1.2h27.9c0-1.8-0.3-3.5-0.9-5.1
    		c-0.6-1.6-1.5-3-2.6-4.3c-1.2-1.2-2.7-2.2-4.5-3c-1.8-0.7-4-1.1-6.5-1.1C174.2,55.5,172.4,55.8,170.9,56.4z"/>
    	<path d="M214.3,94.6c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V35.1
    		c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,1.9,1.3,3.2V94.6z"/>
    	<path d="M229.8,63.5c-0.6,0.3-1.2,0.5-1.9,0.5c-1.2,0-2.2-0.4-3.2-1.1c-1-0.7-1.5-1.8-1.5-3.1c0-0.5,0.1-1.1,0.4-1.9
    		c0.5-1.2,1.2-2.4,2.1-3.6c0.9-1.2,2-2.2,3.5-3.1s3.3-1.7,5.4-2.2c2.2-0.5,4.8-0.8,7.9-0.8c5.9,0,10.5,1.2,14,3.5
    		c3.5,2.3,5.2,5.8,5.2,10.3v32.8c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2v-2
    		c-1.2,2-4.7,4.5-7.5,5.3c-2.8,0.8-5.7,1.2-8.8,1.2c-2,0-3.9-0.3-5.9-0.8c-2-0.5-3.8-1.4-5.3-2.5c-1.6-1.1-2.9-2.6-3.8-4.3
    		c-1-1.7-1.5-3.8-1.5-6.2c0-2.8,0.5-5.7,1.6-7.5c1.1-1.9,2.6-3.4,4.4-4.6c1.8-1.2,3.9-2.1,6.3-2.8c2.4-0.6,4.9-1.1,7.5-1.4
    		c3-0.3,5.4-0.7,7.2-1.2c1.7-0.4,3-0.9,3.9-1.5c0.9-0.6,1.4-1.2,1.6-2c0.2-0.7,0.3-1.6,0.3-2.5c0-1.1-0.3-2-0.9-2.8
    		c-0.6-0.8-1.4-1.5-2.4-2c-1-0.5-2.1-0.9-3.3-1.2s-2.4-0.4-3.5-0.4c-2.1,0-3.7,0.2-5,0.5c-1.3,0.3-2.3,0.8-3.1,1.4
    		c-0.8,0.6-1.5,1.3-1.9,2.1c-0.5,0.8-0.9,1.6-1.3,2.5C230.9,62.6,230.4,63.1,229.8,63.5z M250.6,74.4c-1.1,0.3-2.4,0.6-3.8,0.8
    		c-1.5,0.2-3,0.4-4.6,0.6c-1.6,0.2-3.1,0.5-4.6,0.9c-1.5,0.3-2.8,0.8-4,1.5c-1.2,0.7-2.2,1.5-2.9,2.5c-0.7,1-1.1,3-1.1,4.6
    		c0,1.3,0.3,2.3,0.8,3.1c0.5,0.8,1.2,1.5,2.1,2c0.9,0.5,1.8,0.8,2.9,1c1.1,0.2,2.2,0.3,3.3,0.3c1.7,0,3.3-0.2,5-0.6
    		c1.7-0.4,3.2-1,4.5-1.9s2.4-2,3.3-3.5c0.8-1.4,1.2-3.8,1.2-5.9v-6.1L250.6,74.4z"/>
    	<path d="M307.6,90.9c-1.1,2-2.7,3.6-4.6,4.8s-4.1,2.1-6.6,2.7c-2.5,0.5-5.2,0.8-7.9,0.8c-3.9,0-7.2-0.6-9.9-1.8
    		c-2.7-1.2-4.9-2.6-6.5-4.1c-1.7-1.6-2.9-3.1-3.7-4.7c-0.7-1.6-1.1-2.7-1.1-3.5c0-1.3,0.5-2.4,1.4-3.2c0.9-0.8,2-1.2,3.1-1.2
    		c0.7,0,1.3,0.2,2,0.6c0.6,0.4,1.1,1,1.5,1.9c1,2.5,2.5,4.5,4.7,6.2c2.2,1.7,5.2,2.5,9.3,2.5c1.8,0,3.4-0.2,4.7-0.6
    		c1.3-0.4,2.4-1,3.2-1.7c0.8-0.7,1.4-1.5,1.9-2.4c0.4-0.9,0.6-1.8,0.6-2.8c0-2-0.8-3.4-2.3-4.4c-1.5-1-3.5-1.7-5.8-2.3
    		c-2.3-0.6-4.8-1.1-7.5-1.6c-2.7-0.5-5.2-1.2-7.5-2.2c-2.3-0.9-4.2-2.3-5.8-4c-1.6-1.8-2.3-4.2-2.3-7.3c0-4.5,1.6-8,4.9-10.5
    		c3.3-2.5,7.8-3.8,13.7-3.8c3.3,0,6,0.3,8.3,1c2.2,0.7,4.1,1.6,5.5,2.7c0.6,0.5,1.2,1,1.8,1.7c0.6,0.7,1.2,1.4,1.8,2.2
    		c0.6,0.8,1,1.5,1.4,2.3c0.4,0.7,0.6,1.4,0.6,2c0,1.3-0.5,2.4-1.6,3.1c-1,0.8-2.2,1.2-3.4,1.2c-0.7,0-1.5-0.1-2.1-0.6
    		c-0.6-0.6-1-1.3-1.3-1.8c-0.5-1.1-1.1-2-1.7-2.8c-0.5-0.8-1.2-1.5-2-2c-0.8-0.5-1.8-0.9-3-1.2c-1.2-0.3-2.7-0.4-4.4-0.4
    		c-3.5,0-6,0.6-7.6,1.7c-1.6,1.1-2.4,2.5-2.4,4.2c0,1.3,0.5,2.3,1.4,3.1c0.9,0.8,2.1,1.4,3.7,2c1.5,0.5,3.3,1,5.2,1.4
    		c2,0.4,3.9,0.8,5.9,1.3c2,0.5,4,1.1,5.9,1.7c1.9,0.7,3.7,1.6,5.2,2.7c1.5,1.1,2.7,2.5,3.7,4.1c0.9,1.6,1.4,3.6,1.4,6
    		C309.4,86.4,308.8,88.9,307.6,90.9z"/>
    	<path d="M327.4,48.8h4.7c1.1,0,2,0.4,2.8,1.2c0.8,0.8,1.2,1.7,1.2,2.8c0,1.1-0.4,2.1-1.2,2.8s-1.7,1.1-2.8,1.1h-4.7v37.9
    		c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-2,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V56.7h-4.6c-1.1,0-2-0.4-2.8-1.1
    		c-0.8-0.7-1.2-1.7-1.2-2.8c0-1.1,0.4-2,1.2-2.8c0.8-0.8,1.7-1.2,2.8-1.2h4.6V39c0-1.3,0.4-2.3,1.3-3.2s1.9-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3s1.3,1.9,1.3,3.2V48.8z"/>
    	<path d="M341.5,32.1c1-1,2.2-1.5,3.7-1.5c1.4,0,2.6,0.5,3.6,1.5c1,1,1.5,2.2,1.5,3.6c0,1.4-0.5,2.6-1.5,3.6c-1,1-2.2,1.5-3.6,1.5
    		c-1.4,0-2.7-0.5-3.7-1.5c-1-1-1.5-2.2-1.5-3.6C340,34.2,340.5,33,341.5,32.1z M349.6,94.6c0,1.3-0.4,2.3-1.3,3.2
    		c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V53.3c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,2,1.3,3.2V94.6z"/>
    	<path d="M369.1,97.3c-2.9-1.2-5.4-3-7.5-5.2c-2.1-2.2-3.8-4.9-5-8.1c-1.2-3.1-1.8-6.6-1.8-10.4c0-3.8,0.6-7.3,1.8-10.5
    		c1.2-3.1,2.9-5.8,5-8.1c2.1-2.2,4.6-4,7.5-5.2c2.9-1.2,6-1.9,9.4-1.9c3.4,0,6.4,0.5,9,1.5c2.5,1,4.6,2.2,6.2,3.6
    		c1.6,1.4,3.2,2.9,4,4.4c0.5,0.9,0.9,1.5,0.9,2.6c0,1.3-0.5,2.3-1.4,3.1c-0.9,0.7-2,1.1-3.1,1.1c-0.8,0-1.6-0.2-2.2-0.6
    		c-0.7-0.4-1.2-1.3-1.8-2.1c-1-1.4-0.5-0.6-1.1-1.5c-0.7-0.9-1.5-1.6-2.5-2.3c-1-0.7-2.2-1.2-3.5-1.6c-1.4-0.4-2.8-0.6-4.4-0.6
    		c-1.8,0-3.5,0.3-5.3,1c-1.8,0.7-3.3,1.7-4.7,3.1c-1.4,1.4-2.5,3.3-3.4,5.6s-1.3,5.1-1.3,8.4c0,3.3,0.4,6.1,1.3,8.4s2,4.2,3.4,5.6
    		c1.4,1.4,3,2.5,4.7,3.1c1.8,0.7,3.5,1,5.3,1c1.6,0,3.1-0.2,4.4-0.6c1.3-0.4,2.5-0.9,3.5-1.6c1-0.7,1.8-1.5,2.5-2.3
    		c0.7-0.9,1.1-1.8,1.4-2.7c0.3-1,0.8-1.7,1.5-2.1c0.7-0.4,1.4-0.6,2.2-0.6c1.1,0,2.2,0.4,3.1,1.1c0.9,0.7,1.4,1.7,1.4,3
    		c0,0.6-0.3,1.7-0.9,3.1c-0.6,1.5-1.6,2.9-3.1,4.4c-1.5,1.5-3.5,2.8-6.2,4c-2.6,1.1-6,1.7-10,1.7C375.1,99.2,372,98.5,369.1,97.3z"
    		/>
    </g>
</svg>
						</div>
					</a>
				</h1>
			</div>
			<!-- Searchbar Input box -->
			<form method="get" action="/search" name="searchForm" class="header-search-form" id="searchMobileFrm">
			   <input type="text" id="search-header-autocomplete" name="q" class="form-control global-input" placeholder="elastic{search}">
			</form>
			<div class="mobile-auto-complete"></div> 
		</div>
		<div class="4u 6u(small) 6u(xsmall)">
			<!-- Mobile Menu -->
			<div class="mobile-menu-wrapper">
				<ul class="m-shortcuts">
					
					<li><a href="#" class="m-search" id="header-search"></a></li>
					
					<li><a href="/guide" class="m-docs" id="mobile-docs"></a></li>
					
					<li><a href="/contact" class="m-contact" id="mobile-contact"></a></li>
					
				</ul>											
				<nav class="nav-menu">
					<div class="menu-button">
						<span></span>
					</div>
					<div class="nav-menu-list-wrap">
						<div class="nav-menu-list">
							
								<h3><a href="/products" id="nav_products" >Products</a></h3>

								
								<ul>
									
									<li><a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a></li>
									
									<li><a href="/found" id="nav_hosted-elasticsearch" >elasticsearch as a service</a></li>
									
									<li><a href="/products/logstash" id="nav_logstash" >logstash</a></li>
									
									<li><a href="/products/kibana" id="nav_kibana" >kibana</a></li>
									
									<li><a href="/products/beats" id="nav_beats" >beats</a></li>
									
									<li><a href="/products/watcher" id="nav_watcher" >watcher</a></li>
									
									<li><a href="/products/shield" id="nav_shield" >shield</a></li>
									
									<li><a href="/products/marvel" id="nav_marvel" >marvel</a></li>
									
									<li><a href="/products/hadoop" id="nav_hadoop" >hadoop</a></li>
									
									<li><a href="/downloads" id="nav_downloads" >downloads</a></li>
									
								</ul>
								
							
								<h3><a href="/subscriptions" id="nav_subscriptions" >Subscriptions</a></h3>

								
							
								<h3><a href="/learn" id="nav_learn" >Learn</a></h3>

								
								<ul>
									
									<li><a href="/guide" id="nav_guide" >docs</a></li>
									
									<li><a href="/videos" id="nav_videos" >videos</a></li>
									
									<li><a href="/training" id="nav_training" >training</a></li>
									
									<li><a href="/blog" id="nav_learn_blog" >blog</a></li>
									
									<li><a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a></li>
									
								</ul>
								
							
								<h3><a href="/community" id="nav_community" >Community</a></h3>

								
								<ul>
									
									<li><a href="/community/meetups" id="nav_meetups" >meetups</a></li>
									
									<li><a href="https://discuss.elastic.co" id="nav_discuss" target="_blank">discuss</a></li>
									
								</ul>
								
							
								<h3><a href="/use-cases" id="nav_usecases" >Use Cases</a></h3>

								
							
								<h3><a href="/blog" id="nav_blog" >Blog</a></h3>

								
							
								<h3><a href="/about" id="nav_about" >About</a></h3>

								
								<ul>
									
									<li><a href="/about/leadership" id="nav_leadership" >leadership</a></li>
									
									<li><a href="/about/board" id="nav_board" >board of directors</a></li>
									
									<li><a href="/about/careers" id="nav_careers" >careers</a></li>
									
									<li><a href="/about/partners" id="nav_partners" >partners</a></li>
									
									<li><a href="/about/press" id="nav_press" >press</a></li>
									
								</ul>
								
							
						</div>
					</div>
				</nav>
			</div>
			<!-- Shortcuts -->
			<nav id="shortcuts">
				<ul class="links">
					
						<li class="shortcut-1 grayscale">
							<a href="/downloads" id="header_downloads" >
								<span class="img"></span>
								<span class="txt">downloads</span>	
							</a>
						</li>
					
						<li class="shortcut-2 grayscale">
							<a href="/guide" id="header_guide" >
								<span class="img"></span>
								<span class="txt">docs</span>	
							</a>
						</li>
					
						<li class="shortcut-3 grayscale">
							<a href="/subscriptions" id="header_subscriptions" >
								<span class="img"></span>
								<span class="txt">support</span>	
							</a>
						</li>
					
						<li class="shortcut-4 grayscale">
							<a href="https://discuss.elastic.co" id="header_discuss" target="_blank">
								<span class="img"></span>
								<span class="txt">discuss</span>	
							</a>
						</li>
					
						<li class="shortcut-5 grayscale">
							<a href="/contact" id="header_contact" >
								<span class="img"></span>
								<span class="txt">contact</span>	
							</a>
						</li>
					
				</ul>
			</nav>
		</div>
	</div>
</section>


<section class="desktop-main-nav">
	<div class="row">
		<div class="9u">
			<!-- Nav -->
			<nav id="nav">
				<ul>
					
					<li>
						
							
						
						<a href="/products" id="nav_products"   >Products</a>
						
						<ul class="dropdown">
							
								<li><a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a></li>								
							
								<li><a href="/found" id="nav_hosted-elasticsearch" >elasticsearch as a service</a></li>								
							
								<li><a href="/products/logstash" id="nav_logstash" >logstash</a></li>								
							
								<li><a href="/products/kibana" id="nav_kibana" >kibana</a></li>								
							
								<li><a href="/products/beats" id="nav_beats" >beats</a></li>								
							
								<li><a href="/products/watcher" id="nav_watcher" >watcher</a></li>								
							
								<li><a href="/products/shield" id="nav_shield" >shield</a></li>								
							
								<li><a href="/products/marvel" id="nav_marvel" >marvel</a></li>								
							
								<li><a href="/products/hadoop" id="nav_hadoop" >hadoop</a></li>								
							
								<li><a href="/downloads" id="nav_downloads" >downloads</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/subscriptions" id="nav_subscriptions"   >Subscriptions</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/learn" id="nav_learn"   >Learn</a>
						
						<ul class="dropdown">
							
								<li><a href="/guide" id="nav_guide" >docs</a></li>								
							
								<li><a href="/videos" id="nav_videos" >videos</a></li>								
							
								<li><a href="/training" id="nav_training" >training</a></li>								
							
								<li><a href="/blog" id="nav_learn_blog" >blog</a></li>								
							
								<li><a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/community" id="nav_community"   >Community</a>
						
						<ul class="dropdown">
							
								<li><a href="/community/meetups" id="nav_meetups" >meetups</a></li>								
							
								<li><a href="https://discuss.elastic.co" id="nav_discuss" target="_blank">discuss</a></li>								
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/use-cases" id="nav_usecases"   >Use Cases</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/blog" id="nav_blog"   >Blog</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						
							
						
						<a href="/about" id="nav_about"   >About</a>
						
						<ul class="dropdown">
							
								<li><a href="/about/leadership" id="nav_leadership" >leadership</a></li>								
							
								<li><a href="/about/board" id="nav_board" >board of directors</a></li>								
							
								<li><a href="/about/careers" id="nav_careers" >careers</a></li>								
							
								<li><a href="/about/partners" id="nav_partners" >partners</a></li>								
							
								<li><a href="/about/press" id="nav_press" >press</a></li>								
								
						</ul>							
					</li>
					
				</ul>
			</nav>
		</div>
		<!-- Search -->
		<div class="3u">
			<div class="languages-wrapper">
				<div class="global-language">
					<img src="https://static-www.elastic.co/static/img/icon-globe.png"/>
					<ul class="all-languages">
						
							<li><a href="/">English</a></li>
						
							<li><a href="/fr/">French</a></li>
						
							<li><a href="/de/">German</a></li>
						
							<li><a href="/jp/">Japanese</a></li>
						
					</ul>
				</div>
				<div id="searchbar">
					<form method="get" action="/search" name="searchForm" id="searchfrm">
						<input type="text" value="" name="q" placeholder="elastic{search}" id="autocomplete">
						<button class="button icon" onclick="searchForm.submit()">GO</button>
					</form>
				</div>
				<div class="nav-auto-complete"></div>
			</div>
		</div>
	</div>
</section>

		</div>
	</div>
</div>

<style>	
	
		#shortcuts ul.links li.shortcut-1 span.img{
			background-image: url("/assets/blt406dbf0c61aa5579/shortcuts.png");
    		background-repeat: no-repeat;
			display:inline-block;}
	
		#shortcuts ul.links li.shortcut-2 span.img{
			background-image: url("/assets/blt406dbf0c61aa5579/shortcuts.png");
    		background-repeat: no-repeat;
			display:inline-block;}
	
		#shortcuts ul.links li.shortcut-3 span.img{
			background-image: url("/assets/blt406dbf0c61aa5579/shortcuts.png");
    		background-repeat: no-repeat;
			display:inline-block;}
	
		#shortcuts ul.links li.shortcut-4 span.img{
			background-image: url("/assets/blt406dbf0c61aa5579/shortcuts.png");
    		background-repeat: no-repeat;
			display:inline-block;}
	
		#shortcuts ul.links li.shortcut-5 span.img{
			background-image: url("/assets/blt406dbf0c61aa5579/shortcuts.png");
    		background-repeat: no-repeat;
			display:inline-block;}
	
	
	
		.m-shortcuts li a.m-search {
			background: url("/assets/blt174b13be89ff803c/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
	
		.m-shortcuts li a.m-docs {
			background: url("/assets/blt5ba03f594a7d610a/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
	
		.m-shortcuts li a.m-contact {
			background: url("/assets/blt38c3e853c4b1174d/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
		
</style>
		</div>
	</div>
  	<div id="content">
  		
  			
            <div id="pageheader">
    <div class="container">
        <header>
            <h1><a href="/learn" title="Learn">Learn</a> |</h1>
            <h2><a href="/guide" title="Docs">Docs</a></h2>
        </header>
    </div>
</div>
<section id="guide">

            <!-- start body -->
<div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Watcher
      [watcher-1.0]
    </a></span> » <span class="breadcrumb-link"><a href="reference.html">Reference</a></span> » <span class="breadcrumb-node">Input</span></div><div class="navheader"><span class="prev"><a href="reference.html">
              « 
              Reference</a>
           
        </span><span class="next">
           
          <a href="trigger.html">Trigger
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="input"></a>Input</h2></div></div></div><p>A watch <span class="emphasis"><em>input</em></span> loads data into a watch’s execution context as the initial payload.
Watcher supports three input types: <a class="link" href="input.html#input-simple" title="Simple Input"><code class="literal">simple</code></a> , <a class="link" href="input.html#input-search" title="Search Input"><code class="literal">search</code></a>,
and <a class="link" href="input.html#input-http" title="HTTP Input"><code class="literal">http</code></a></p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>If you don’t define an input for a watch, an empty payload is loaded into the
        execution context.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="input-simple"></a>Simple Input</h3></div></div></div><p>An <a class="link" href="input.html" title="Input">input</a> that enables you to load static data into a watch’s execution context as the initial payload.
The <code class="literal">simple</code> input is useful when the data you want to work with doesn’t need to be loaded dynamically, but for
maintainability you want to store the data centrally and reference it with templates.</p><p>You can define the static data as a string (<code class="literal">str</code>), numeric value (<code class="literal">num</code>), or an object (<code class="literal">obj</code>):</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">{
  "input" : {
    "simple" : {
      "str" : "val1",
      "num" : 23,
      "obj" : {
        "str" : "val2"
      }
    }
  }
  ...
}</pre></div><p>For example, the following watch uses the <code class="literal">simple</code> input to set the recipient name
for a reminder email that’s sent every day at noon.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">{
  "trigger" : {
    "schedule" : {
      "daily" : { "at" : "noon" }
    }
  },
  "input" : {
    "simple" : {
      "name" : "John"
    }
  },
  "actions" : {
    "reminder_email" : {
      "email" : {
        "to" : "to@host.domain",
        "subject" : "Reminder",
        "body" : "Dear {{ctx.payload.name}}, by the time you read these lines, I'll be gone"
      }
    }
  }
}</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="input-search"></a>Search Input</h3></div></div></div><p>An <a class="link" href="input.html" title="Input">input</a> that enables you to search the Elasticsearch cluster that Watcher is running on and load the
response into a watch’s execution context as the initial payload. See <a class="xref" href="input.html#search-input-attributes" title="Table 2. Search Input Attributes">Table 2, “Search Input Attributes”</a> for the supported attributes.</p><p>Conditions, transforms, and actions can access the search results through the watch execution context. For example:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
To load all of the search hits into an email body, use <code class="literal">ctx.payload.hits</code>.
</li><li class="listitem">
To reference the total number of hits, use <code class="literal">ctx.payload.hits.total</code>.
</li><li class="listitem">
To access a particular hit, use its zero-based array index. For example, to
get the third hit, use <code class="literal">ctx.payload.hits.hits.2</code>.
</li><li class="listitem">
To get a field value from a particular hit, use <code class="literal">ctx.payload.hits.hits.&lt;index&gt;.fields.&lt;fieldname&gt;</code>. For
example, to get the message field from the first hit, use <code class="literal">ctx.payload.hits.hits.0.fields.message</code>.
</li></ul></div><div class="table"><a id="search-input-attributes"></a><p class="title"><strong>Table 2. Search Input Attributes</strong></p><div class="table-contents"><table summary="Search Input Attributes" cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="left" valign="top"> Name                                          </th><th align="left" valign="top">Required   </th><th align="left" valign="top"> Default     </th><th align="left" valign="top"> Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">request.search_type</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>count</p></td><td align="left" valign="top"><p>The <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.7/search-request-search-type.html#search-request-search-type" target="_top">type</a> of search request to perform. Valid values are: <code class="literal">count</code>, <code class="literal">dfs_query_and_fetch</code>, <code class="literal">dfs_query_then_fetch</code>, <code class="literal">query_and_fetch</code>, <code class="literal">query_then_fetch</code>, and <code class="literal">scan</code>. The Elasticsearch default is <code class="literal">query_then_fetch</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">request.indices</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>The indices to search. If omitted, all indices are searched, which is the default behaviour in Elasticsearch. <a class="link" href="dynamic-index-names.html" title="Dynamic Index Names">Dynamic index names</a> are supported.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">request.types</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>The document types to search for. If omitted, all document types are are searched, which is the default behaviour in Elasticsearch.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">request.body</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>The body of the request. The <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.7/search-request-body.html" target="_top">request body</a> follows the same structure you normally send in the body of a REST <code class="literal">_search</code> request. The body can be static text or include <code class="literal">mustache</code> <a class="link" href="scripts-templates.html#templates" title="Using Templates">templates</a>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">request.template</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>The body of the search template. See <a class="link" href="scripts-templates.html#templates" title="Using Templates">configure templates</a> for more information.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">request.indices_options.expand_wildcards</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p><code class="literal">open</code></p></td><td align="left" valign="top"><p>How to expand wildcards. Valid values are: <code class="literal">all</code>, <code class="literal">open</code>, <code class="literal">closed</code>, and <code class="literal">none</code> See <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.7/multi-index.html#multi-index" target="_top"><code class="literal">expand_wildcards</code></a> for more information.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">request.indices_options.ignore_unavailable</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p><code class="literal">true</code></p></td><td align="left" valign="top"><p>Whether the search should ignore unavailable indices. See <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.7/multi-index.html#multi-index" target="_top"><code class="literal">ignore_unavailable</code></a> for more information.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">request.indices_options.allow_no_indices</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p><code class="literal">true</code></p></td><td align="left" valign="top"><p>Whether to allow a search where a wildcard indices expression results in no concrete indices. See <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.7/multi-index.html#multi-index" target="_top">allow_no_indices</a> for more information.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">extract</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>A array of JSON keys to extract from the search response and load as the payload. When a search generates a large response, you can use <code class="literal">extract</code> to select the relevant fields instead of loading the entire response.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">timeout</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>30s</p></td><td align="left" valign="top"><p>The timeout for waiting for the search api call to return. If no response is returned within this time, the search input times out and fails.
                                                                            This setting overrides the default internal search operations <a class="link" href="configuring-default-internal-ops-timeouts.html#default-internal-ops-timeouts">timeouts</a>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">dynamic_name_timezone</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>The time zone to use for resolving the index name based on <a class="link" href="dynamic-index-names.html" title="Dynamic Index Names">Dynamic Index Names</a>. The default time zone also can be <a class="link" href="dynamic-index-names.html#dynamic-index-name-timezone">configured</a> globally.</p></td></tr></tbody></table></div></div><br class="table-break" /><p>You can reference the following variables in the execution context when specifying the request <code class="literal">body</code>:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top"> Name                                  </th><th align="left" valign="top"> Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ctx.watch_id</code></p></td><td align="left" valign="top"><p>The id of the watch that is currently executing.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ctx.execution_time</code></p></td><td align="left" valign="top"><p>The time execution of this watch started.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ctx.trigger.triggered_time</code></p></td><td align="left" valign="top"><p>The time this watch was triggered.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ctx.trigger.scheduled_time</code></p></td><td align="left" valign="top"><p>The time this watch was supposed to be triggered.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ctx.metadata.*</code></p></td><td align="left" valign="top"><p>Any metadata associated with the watch.</p></td></tr></tbody></table></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_submitting_searches"></a>Submitting Searches</h4></div></div></div><p>You can use the search input to submit any valid search request to your Elasticsearch cluster.
For example, the following snippet returns all <code class="literal">event</code> documents in the <code class="literal">logs</code> index.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">"input" : {
  "search" : {
    "request" : {
      "indices" : [ "logs" ],
      "types" : [ "event" ],
      "body" : {
        "query" : { "match_all" : {}}
      }
    }
  }
}</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_extracting_specific_fields"></a>Extracting Specific Fields</h4></div></div></div><p>You can specify which fields in the search response you want to load into the watch payload with
the <code class="literal">extract</code> attribute. This is useful when a search generates a large response and you are only
interested in particular fields.</p><p>For example, the following input loads only the total number of hits into the watch payload:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">"input": {
    "search": {
      "request": {
        "indices": [".watch_history*"]
      },
      "extract": ["hits.total"]
    }
  },</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_using_templates"></a>Using Templates</h4></div></div></div><p>The <code class="literal">search</code> input supports <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.7/search-template.html" target="_top">search templates</a>. For example, the following snippet
references the indexed template called <code class="literal">my_template</code> and passes a value of 23 to fill in the template’s
<code class="literal">value</code> parameter.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">{
  "input" : {
    "search" : {
      "request" : {
        "indices" : [ "logs" ],
        "template" : {
          "id" : "my_template",
          "params" : {
            "value" : 23
          }
        }
      }
    }
  }
  ...
}</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_applying_conditions"></a>Applying Conditions</h4></div></div></div><p>The <code class="literal">search</code> input is often used in conjunction with the <a class="link" href="condition.html#condition-script" title="Script Condition"><code class="literal">script</code></a> condition. For example,
the following snippet adds a condition to check if the search returned more than five hits</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">{
  "input" : {
    "search" : {
      "request" : {
        "indices" : [ "logs" ],
        "body" : {
          "query" : { "match_all" : {} }
        }
      }
    }
  },
  "condition" : {
    "script" : "return ctx.payload.hits.total &gt; 5"
  }
  ...
}</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="input-http"></a>HTTP Input</h3></div></div></div><p>An <a class="link" href="input.html" title="Input">input</a> that enables you to query an HTTP endpoint and load theresponse into a watch’s execution context as the initial payload. See <a class="xref" href="input.html#http-input-attributes" title="Table 3. HTTP Input Attributes">Table 3, “HTTP Input Attributes”</a> for the supported attributes.</p><p>For example, you can use the <code class="literal">http</code> input to:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Query an external Elasticsearch cluster. The query that one can define in the <a class="link" href="input.html#input-search" title="Search Input"><code class="literal">search</code></a> input can also defined
  in the <code class="literal">http</code> input. This in particular interesting as one can query clusters that are version wise incompatible with the
  cluster where <span class="emphasis"><em>Watcher</em></span> is running on. With the <code class="literal">search</code> input these cluster would otherwise not be accessible. Also with
  the <code class="literal">http</code> input it is straight forward to run a dedicated <span class="emphasis"><em>Watcher</em></span> cluster that queries other clusters.
</li><li class="listitem">
Query Elasticsearch APIs other than the search API. For example, the <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.7/cluster-nodes-stats.html" target="_top">Nodes Stats</a>,
  <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.7/cluster-health.html" target="_top">Cluster Health</a> or <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.7/cluster-state.html" target="_top">Cluster State</a> APIs.
</li><li class="listitem">
Query an external webservice. Any service that exposes an HTTP endpoint can be queried by the <code class="literal">http</code> input. This can be very useful when you need to bridge between an Elasticsearch cluster and other systems.
</li></ul></div><p>Conditions, transforms, and actions can access the JSON response through the watch execution context. For example, if
the response contains a <code class="literal">message</code> object, you could use <code class="literal">ctx.payload.message</code> to get the message from the payload.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>If the body of the response from the HTTP endpoint is in the JSON or YAML format it will be parsed and used as the initial payload. Any
        other value that is returned will be assigned and accessible to/via the <code class="literal">_value</code> variable of the payload.</p></div></div><div class="table"><a id="http-input-attributes"></a><p class="title"><strong>Table 3. HTTP Input Attributes</strong></p><div class="table-contents"><table summary="HTTP Input Attributes" cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="left" valign="top"> Name                                          </th><th align="left" valign="top">Required   </th><th align="left" valign="top"> Default     </th><th align="left" valign="top"> Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">request.scheme</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>http</p></td><td align="left" valign="top"><p>Url scheme. Valid values are: <code class="literal">http</code> or <code class="literal">https</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">request.host</code></p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>The host to connect to.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">request.port</code></p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>The port the http service is listening on.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">request.path</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>The URL path. The path can be static text or contain <code class="literal">mustache</code> <a class="link" href="scripts-templates.html#templates" title="Using Templates">templates</a>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">request.method</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>get</p></td><td align="left" valign="top"><p>The HTTP method. Supported values are: <code class="literal">head</code>, <code class="literal">get</code>, <code class="literal">post</code>, <code class="literal">put</code> and <code class="literal">delete</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">request.headers</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>The HTTP request headers. The header values can be static text or include <code class="literal">mustache</code> <a class="link" href="scripts-templates.html#templates" title="Using Templates">templates</a>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">request.params</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>The URL query string parameters. The parameter values can be static text or contain <code class="literal">mustache</code> <a class="link" href="scripts-templates.html#templates" title="Using Templates">templates</a>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">request.auth</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>Authentication related HTTP headers. Currently, only basic authentication is supported.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">request.connection_timeout</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>10s</p></td><td align="left" valign="top"><p>The timeout for setting up the http connection. If the connection could not be set up within this time, the input will timeout and fail. It is
                                                                            also possible to <a class="link" href="configuring-default-http-timeouts.html" title="Configuring the Default HTTP Timeouts">configure</a> the default connection timeout for all http connection timeouts.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">request.read_timeout</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>10s</p></td><td align="left" valign="top"><p>The timeout for reading data from http connection. If no response was received within this time, the input will timeout and fail. It is
                                                                            also possible to <a class="link" href="configuring-default-http-timeouts.html" title="Configuring the Default HTTP Timeouts">configure</a> the default read timeout for all http connection timeouts.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">request.body</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>The HTTP request body. The body can be static text or include <code class="literal">mustache</code> <a class="link" href="scripts-templates.html#templates" title="Using Templates">templates</a>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">extract</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>A array of JSON keys to extract from the input response and use as payload. In cases when an input generates a large response this can be used to filter the relevant piece of the response to be used as payload.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">response_content_type</code></p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>json</p></td><td align="left" valign="top"><p>The expected content type the response body will contain. Supported values are <code class="literal">json</code>, <code class="literal">yaml</code> and <code class="literal">text</code>. If the format is <code class="literal">text</code> the <code class="literal">extract</code> attribute cannot exist. Note that any content type set by the http headers in the response will override this setting. If this is set to <code class="literal">text</code> the body of the response will be assigned and accessible to/via the <code class="literal">_value</code> variable of the payload.</p></td></tr></tbody></table></div></div><br class="table-break" /><p>You can reference the following variables in the execution context when specifying the <code class="literal">path</code>, <code class="literal">params</code>, <code class="literal">headers</code> and <code class="literal">body</code> values:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top"> Name                                  </th><th align="left" valign="top"> Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ctx.watch_id</code></p></td><td align="left" valign="top"><p>The id of the watch that is currently executing.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ctx.execution_time</code></p></td><td align="left" valign="top"><p>The time execution of this watch started.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ctx.trigger.triggered_time</code></p></td><td align="left" valign="top"><p>The time this watch was triggered.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ctx.trigger.scheduled_time</code></p></td><td align="left" valign="top"><p>The time this watch was supposed to be triggered.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ctx.metadata.*</code></p></td><td align="left" valign="top"><p>Any metadata associated with the watch.</p></td></tr></tbody></table></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_querying_external_elasticsearch_clusters"></a>Querying External Elasticsearch Clusters</h4></div></div></div><p>The following snippet shows a basic <code class="literal">http</code> input that searches for all documents in the <code class="literal">idx</code> index in
an external cluster:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">"input" : {
  "http" : {
    "request" : {
      "host" : "example.com",
      "port" : 9200,
      "path" : "/idx/_search"
    }
  }
}</pre></div><p>You can use the full Elasticsearch <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.7/query-dsl.html" target="_top">Query DSL</a> to perform more sophisticated searches. For example, the following snippet retrieves all documents that contain <code class="literal">event</code> in the <code class="literal">category</code> field.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">"input" : {
  "http" : {
    "request" : {
      "host" : "host.domain",
      "port" : 9200,
      "path" : "/idx/_search",
      "body" :  "{\"query\" :  {  \"match\" : { \"category\" : \"event\"}}}"
    }
  }
}</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_using_templates_2"></a>Using Templates</h4></div></div></div><p>The <code class="literal">http</code> input supports templating. You can use <a class="link" href="scripts-templates.html#templates" title="Using Templates">templates</a> when specifying
the <code class="literal">path</code>, <code class="literal">body</code>, header values, and parameter values.</p><p>For example, the following snippet uses templates to specify what
index to query and restrict the results to documents added
within the last five minutes.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">"input" : {
  "http" : {
    "request" : {
      "host" : "host.domain",
      "port" : 9200,
      "path" : "/{{ctx.watch_id}}/_search",
      "body" : "{\"query\" : {\"range\": {\"@timestamp\" : {\"from\": \"{{ctx.trigger.triggered_time}}||-5m\",\"to\": \"{{ctx.trigger.triggered_time}}\"}}}}"
      }
    }
  }</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_calling_elasticsearch_apis"></a>Calling Elasticsearch APIs</h4></div></div></div><p>You can use <code class="literal">http</code> input load the data returned by any Elasticsearch API. For example, the following snippet calls the
 <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/1.7/cluster-stats.html" target="_top">Cluster Stats</a> API and passes in the <code class="literal">human</code> query string argument.</p><p><strong>Http Input. </strong>
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">"input" : {
  "http" : {
    "request" : {
      "host" : "host.domain",
      "port" : "9200",
      "path" : "/_cluster/stats",
      "params" : {
        "human" : "true" <a id="CO22-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
      }
    }
  }
}</pre></div><p>
</p><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO22-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Enabling this attribute returns the <code class="literal">bytes</code> values in the response in human readable format.
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_calling_external_webservices"></a>Calling External Webservices</h4></div></div></div><p>You can use <code class="literal">http</code> input to get data from any external webservice. The <code class="literal">http</code> input
supports basic authentication. For example, the following snippet calls <code class="literal">myservice</code> and uses basic authentication:</p><p><a id="input-http-auth-basic-example"></a><strong>Http Input. </strong>
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">"input" : {
  "http" : {
    "request" : {
      "host" : "host.domain",
      "port" : "9200",
      "path" : "/myservice",
      "auth" : {
        "basic" : {
          "username" : "user",
          "password" : "pass"
        }
      }
    }
  }
}</pre></div><p>
</p></div></div></div><div class="navfooter"><span class="prev"><a href="reference.html">
              « 
              Reference</a>
           
        </span><span class="next">
           
          <a href="trigger.html">Trigger
               »
            </a></span></div>
<!-- end body -->

            </section>

            <div id="rtpcontainer"
        >
	<h3>Top Videos</h3>
	<ul class="lists">
		<li><a href="http://www.elastic.co/webinars/getting-started-with-elasticsearch/?elektra=docs">Getting Started</a></li>
		<li><a href="http://www.elastic.co/webinars/elasticsearch-performance-optimization-tale-two-tickets/?elektra=docs">Scaling</a></li>
		<li><a href="http://www.elastic.co/webinars/shield-securing-your-data-in-elasticsearch/?elektra=docs">Security</a></li>
	</ul>
</div>


	  	

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
	<!-- subscribe-newsletter -->
	<div id="subscribe-newsletter">
		<div class="container">
			<div class="row">
				<div class="12u">
					<div class="subscribe-wrapper" id="rtp-newsletter">
						<header>
							<h3>Subscribe to Our Newsletter</h3>
						</header>
						<div class="subscribe-form">
							<form id="mktoForm_1398" class="container"></form>
							<div class="form_thanks hide">
								
									<p>Thanks for subscribing! We'll keep you updated with new releases.</p>
								
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

  	<!-- Footer -->
	<div id="footer-wrapper">
		<section id="footer" class="container">
			<div class="row">
				<div class="12u">
					<!-- Copyright -->
					<div id="copyright">
	<p>
		© 2015. All Rights Reserved - Elasticsearch
	</p>
	<ul class="links">
		<li>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries</li>
		<li><a href="/legal/trademarks" id="footer_trademarks">Trademarks</a></li>
		<li><a href="/legal/terms-of-use" id="footer_terms">Terms</a></li>
		<li><a href="/legal/privacy-policy" id="footer_privacy">Privacy</a></li>
	</ul>
	<p>
		Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other&nbsp;countries.
	</p>
</div><!--<div class="row">
{replace4}
</div>-->
				</div>
			</div>					
		</section>
	</div>
			
	<!-- Social Media -->
	<div id="socialmedia-wrapper">
		<section id="socialmedia" class="container">
			<!-- social icons -->
			<div id="social">
				<ul class="links">
					
						<li class="facebook grayscale"><a href="http://www.facebook.com/elastic.co" target="_blank" id="footer_facebook"></a></li>
					
						<li class="twitter grayscale"><a href="https://www.twitter.com/elastic" target="_blank" id="footer_twitter"></a></li>
					
						<li class="linkedin grayscale"><a href="https://www.linkedin.com/company/elastic-co" target="_blank" id="footer_linkedin"></a></li>
					
						<li class="xing grayscale"><a href="https://www.xing.com/companies/elastic.co" target="_blank" id="footer_xing"></a></li>
					
						<li class="youtube grayscale"><a href="https://www.youtube.com/user/elasticsearch" target="_blank" id="footer_youtube"></a></li>
					
				</ul>
			</div>
		</section>
	</div>


<style type="text/css">
	
		.facebook{background:url("/assets/bltda40eebd7c7cae9a/facebook.svg") no-repeat;}		
	
		.twitter{background:url("/assets/bltfd3b1511512f4632/twitter.svg") no-repeat;}		
	
		.linkedin{background:url("/assets/blt6b4f6f8d6b96f814/linkedin.svg") no-repeat;}		
	
		.xing{background:url("/assets/blta76b2ae2b2f10a98/xing.svg") no-repeat;}		
	
		.youtube{background:url("/assets/blt5761648c9581fb53/youtube.svg") no-repeat;}		
	
</style>

<script>
MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", 1398,function(form){
	form.onSuccess(function(form){
		$('#mktoForm_1398').css('display','none');
		$('#subscribe-newsletter header').hide();
		$('#mktoForm_1398').siblings('.form_thanks').removeClass('hide')
		dataLayer.push({'event': 'mktoFormSubmit'});
	    return false;
  	});
});
</script>	

  	</div>
  	<!-- <div class="preloader">
    	<div class="status"></div>
	</div> -->
  	<style></style>
   	<script src="https://static-www.elastic.co/static/js/jquery.autocomplete.js"></script>
<script src="https://static-www.elastic.co/static/js/script.js?clr=144"></script>

   	
   	
   	
   	<script type="application/ld+json">
	
		
	
	{
	  	"@context": "http://schema.org",
	  	"@type": "Organization",
	  	"name" : "Elastic",
	  	"url": "https://www.elastic.co/",
	  	"logo": "https://www.elastic.co/static/img/logo-elastic-xsmall.png",
		"sameAs" : [ "https://www.facebook.com/elastic.co",
			"https://twitter.com/elastic",
			"https://plus.google.com/105178019064686397293",
			"https://www.youtube.com/user/elasticsearch",
			"https://www.linkedin.com/company/elasticsearch"
		],
	  	"potentialAction": {
	    	"@type": "SearchAction",
	    	"target": "https://www.elastic.co/search?q={query_string}",
	    	"query-input": "required name=query_string"
	  	}
	}
</script>	

            <script type="text/javascript" src="docs.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script type='text/javascript' src='https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js'></script>

            </body>
        