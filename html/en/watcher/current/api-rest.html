
<!DOCTYPE HTML>
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>REST API</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Watcher" /><link rel="up" href="api-ref.html" title="API Reference" /><link rel="prev" href="api-ref.html" title="API Reference" /><link rel="next" href="api-java.html" title="Java API" />
  
 
 	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<link type="text/css" rel="stylesheet" href="/static/css/en-us.css" />
 	
	<meta name="description" content="" />
	<meta name="keywords" content="" />





	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<link rel="icon" href="/favicon.ico" type="image/x-icon">
	<!-- For third-generation iPad with high-resolution Retina display: -->
	<link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">

	<!-- For iPhone with high-resolution Retina display: -->

	<link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">

	<!-- For first- and second-generation iPad: -->

	<link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
	<!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'> -->
	
	<link type="text/css" rel="stylesheet" href="/static/css/skel.css" />	
	<link type="text/css" rel="stylesheet" href="/static/css/style.css?clr=123" />	
	<script src="/static/js/skel.min.js"></script>
	<script type="text/javascript">form_name = "guide_template"</script>
	<script src="/static/js/init.js?clr=123"></script>
	<script src="/static/js/classie.js"></script>
	<!--<script type="text/javascript">
	    (function() {
	        var path = '//easy.myfonts.net/v2/js?sid=10336(font-family=Avenir+35+Light)&sid=10338(font-family=Avenir+55+Roman)&sid=10340(font-family=Avenir+85+Heavy)&sid=10344(font-family=Avenir+65+Medium)&key=nAD6PCOPrX',
	            protocol = ('https:' == document.location.protocol ? 'https:' : 'http:'),
	            trial = document.createElement('script');
	        trial.type = 'text/javascript';
	        trial.async = true;
	        trial.src = protocol + path;
	        var head = document.getElementsByTagName("head")[0];
	        head.appendChild(trial);
	    })();
	</script>-->

	
	<link type="text/css" rel="stylesheet" href="/static/css/prettify.css" />
	<script type="text/javascript" src="/static/js/prettify.js"></script>

	

<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
<body >
	<!-- Google Tag Manager -->
	<script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
													  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-58RLH5');</script>
	<!-- End Google Tag Manager -->
	
	<div class="header-cont">
		<div id="header-wrapper">
			


<div class="container w100">
	<div class="row">
		<div class="12u">
			

<section class="first-container">
	<div class="row">
		<div class="8u 6u(small) 6u(xsmall)">
			<div id="elastic">
				<h1>
					<a href="/">
						<div id="elastic-logo">
						<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 400 130" preserveAspectRatio="xMinYMin meet" enable-background="new 0 0 400 130" xml:space="preserve">
    <g>
    	<g>
    		<path fill="#FFFFFF" d="M122.5,67.8c0-10.3-6.4-19.2-15.9-22.7c0.4-2.2,0.6-4.3,0.6-6.6c0-19.1-15.5-34.6-34.6-34.6
    			c-11.1,0-21.5,5.3-28,14.4c-3.2-2.5-7.1-3.8-11.2-3.8c-10.1,0-18.4,8.2-18.4,18.4c0,2.2,0.4,4.4,1.1,6.4C6.5,42.6,0,51.8,0,62
    			c0,10.3,6.4,19.3,16,22.8c-0.4,2.1-0.6,4.3-0.6,6.6c0,19,15.5,34.5,34.5,34.5c11.2,0,21.5-5.4,28-14.4c3.2,2.5,7.2,3.9,11.3,3.9
    			c10.1,0,18.4-8.2,18.4-18.4c0-2.2-0.4-4.4-1.1-6.4C115.9,87.2,122.5,78,122.5,67.8z"/>
    		<g>
    			<path fill="#F4BD19" d="M47.9,56.3l27.3,12.5l27.6-24.2c0.4-2,0.6-4,0.6-6.1c0-17-13.8-30.8-30.8-30.8c-10.2,0-19.7,5-25.4,13.4
    				l-4.6,23.8L47.9,56.3z"/>
    		</g>
    		<g>
    			<path fill="#3CBEB1" d="M19.6,85.2c-0.4,2-0.6,4.1-0.6,6.2c0,17,13.9,30.9,30.9,30.9c10.3,0,19.8-5.1,25.6-13.5L80,85l-6.1-11.6
    				L46.5,60.9L19.6,85.2z"/>
    		</g>
    		<g>
    			<path fill="#E9478C" d="M19.4,37.9l18.7,4.4L42.3,21c-2.6-2-5.7-3-9-3c-8.1,0-14.8,6.6-14.8,14.8C18.5,34.5,18.8,36.3,19.4,37.9z
    				"/>
    		</g>
    		<g>
    			<path fill="#2C458F" d="M17.8,42.4C9.4,45.1,3.6,53.2,3.6,62c0,8.6,5.3,16.3,13.3,19.3l26.3-23.8l-4.8-10.3L17.8,42.4z"/>
    		</g>
    		<g>
    			<path fill="#95C63D" d="M80.3,108.7c2.6,2,5.7,3.1,8.9,3.1c8.1,0,14.8-6.6,14.8-14.8c0-1.8-0.3-3.5-0.9-5.1l-18.7-4.4L80.3,108.7
    				z"/>
    		</g>
    		<g>
    			<path fill="#176655" d="M84.1,82.6l20.6,4.8c8.4-2.8,14.2-10.8,14.2-19.6c0-8.6-5.3-16.2-13.3-19.3l-27,23.6L84.1,82.6z"/>
    		</g>
    	</g>
    	<path d="M162.8,76.3c0,0.1,0,0.6,0.1,1.4c0.1,0.8,0.3,1.8,0.6,3c0.3,1.1,0.8,2.4,1.4,3.7c0.6,1.3,1.4,2.5,2.5,3.6
    		c1,1.1,2.3,2,3.8,2.7c1.5,0.7,3.4,1.1,5.6,1.1c1.8,0,3.3-0.1,4.6-0.4c1.3-0.3,2.4-0.7,3.4-1.3c1-0.6,1.9-1.3,2.7-2.2
    		c0.8-0.9,1.6-1.9,2.4-3.1c0.5-0.7,1-1.2,1.6-1.5c0.6-0.3,1.2-0.4,1.8-0.4c1,0,2,0.4,2.8,1.1c0.9,0.7,1.3,1.7,1.3,2.8
    		c0,0.7-0.4,1.7-1.1,3.1c-0.7,1.4-1.9,2.8-3.6,4.1c-1.6,1.4-3.7,2.6-6.3,3.6c-2.6,1-5.7,1.5-9.5,1.5c-3.8,0-7.2-0.7-10.2-2.1
    		c-3-1.4-5.5-3.2-7.5-5.6c-2-2.3-3.6-5-4.7-8.1c-1.1-3.1-1.6-6.3-1.6-9.7c0-3.5,0.5-6.8,1.6-9.9c1.1-3.1,2.7-5.8,4.7-8.1
    		c2-2.3,4.5-4.1,7.4-5.5c2.9-1.3,6.1-2,9.6-2c3.3,0,6.3,0.5,9.2,1.5c2.8,1,5.3,2.4,7.4,4.3c2.1,1.9,3.7,4.1,5,6.8
    		c1.2,2.7,1.8,5.8,1.8,9.2c0,2.1-0.5,3.7-1.6,4.8c-1,1.1-2.2,1.6-3.6,1.6H162.8z M170.9,56.4c-1.5,0.6-2.7,1.4-3.7,2.4
    		c-1,0.9-1.8,2-2.4,3.1c-0.6,1.1-1,2.2-1.3,3.2c-0.3,1-0.5,1.8-0.5,2.5c-0.1,0.7-0.1,1.1-0.1,1.2h27.9c0-1.8-0.3-3.5-0.9-5.1
    		c-0.6-1.6-1.5-3-2.6-4.3c-1.2-1.2-2.7-2.2-4.5-3c-1.8-0.7-4-1.1-6.5-1.1C174.2,55.5,172.4,55.8,170.9,56.4z"/>
    	<path d="M214.3,94.6c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V35.1
    		c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,1.9,1.3,3.2V94.6z"/>
    	<path d="M229.8,63.5c-0.6,0.3-1.2,0.5-1.9,0.5c-1.2,0-2.2-0.4-3.2-1.1c-1-0.7-1.5-1.8-1.5-3.1c0-0.5,0.1-1.1,0.4-1.9
    		c0.5-1.2,1.2-2.4,2.1-3.6c0.9-1.2,2-2.2,3.5-3.1s3.3-1.7,5.4-2.2c2.2-0.5,4.8-0.8,7.9-0.8c5.9,0,10.5,1.2,14,3.5
    		c3.5,2.3,5.2,5.8,5.2,10.3v32.8c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2v-2
    		c-1.2,2-4.7,4.5-7.5,5.3c-2.8,0.8-5.7,1.2-8.8,1.2c-2,0-3.9-0.3-5.9-0.8c-2-0.5-3.8-1.4-5.3-2.5c-1.6-1.1-2.9-2.6-3.8-4.3
    		c-1-1.7-1.5-3.8-1.5-6.2c0-2.8,0.5-5.7,1.6-7.5c1.1-1.9,2.6-3.4,4.4-4.6c1.8-1.2,3.9-2.1,6.3-2.8c2.4-0.6,4.9-1.1,7.5-1.4
    		c3-0.3,5.4-0.7,7.2-1.2c1.7-0.4,3-0.9,3.9-1.5c0.9-0.6,1.4-1.2,1.6-2c0.2-0.7,0.3-1.6,0.3-2.5c0-1.1-0.3-2-0.9-2.8
    		c-0.6-0.8-1.4-1.5-2.4-2c-1-0.5-2.1-0.9-3.3-1.2s-2.4-0.4-3.5-0.4c-2.1,0-3.7,0.2-5,0.5c-1.3,0.3-2.3,0.8-3.1,1.4
    		c-0.8,0.6-1.5,1.3-1.9,2.1c-0.5,0.8-0.9,1.6-1.3,2.5C230.9,62.6,230.4,63.1,229.8,63.5z M250.6,74.4c-1.1,0.3-2.4,0.6-3.8,0.8
    		c-1.5,0.2-3,0.4-4.6,0.6c-1.6,0.2-3.1,0.5-4.6,0.9c-1.5,0.3-2.8,0.8-4,1.5c-1.2,0.7-2.2,1.5-2.9,2.5c-0.7,1-1.1,3-1.1,4.6
    		c0,1.3,0.3,2.3,0.8,3.1c0.5,0.8,1.2,1.5,2.1,2c0.9,0.5,1.8,0.8,2.9,1c1.1,0.2,2.2,0.3,3.3,0.3c1.7,0,3.3-0.2,5-0.6
    		c1.7-0.4,3.2-1,4.5-1.9s2.4-2,3.3-3.5c0.8-1.4,1.2-3.8,1.2-5.9v-6.1L250.6,74.4z"/>
    	<path d="M307.6,90.9c-1.1,2-2.7,3.6-4.6,4.8s-4.1,2.1-6.6,2.7c-2.5,0.5-5.2,0.8-7.9,0.8c-3.9,0-7.2-0.6-9.9-1.8
    		c-2.7-1.2-4.9-2.6-6.5-4.1c-1.7-1.6-2.9-3.1-3.7-4.7c-0.7-1.6-1.1-2.7-1.1-3.5c0-1.3,0.5-2.4,1.4-3.2c0.9-0.8,2-1.2,3.1-1.2
    		c0.7,0,1.3,0.2,2,0.6c0.6,0.4,1.1,1,1.5,1.9c1,2.5,2.5,4.5,4.7,6.2c2.2,1.7,5.2,2.5,9.3,2.5c1.8,0,3.4-0.2,4.7-0.6
    		c1.3-0.4,2.4-1,3.2-1.7c0.8-0.7,1.4-1.5,1.9-2.4c0.4-0.9,0.6-1.8,0.6-2.8c0-2-0.8-3.4-2.3-4.4c-1.5-1-3.5-1.7-5.8-2.3
    		c-2.3-0.6-4.8-1.1-7.5-1.6c-2.7-0.5-5.2-1.2-7.5-2.2c-2.3-0.9-4.2-2.3-5.8-4c-1.6-1.8-2.3-4.2-2.3-7.3c0-4.5,1.6-8,4.9-10.5
    		c3.3-2.5,7.8-3.8,13.7-3.8c3.3,0,6,0.3,8.3,1c2.2,0.7,4.1,1.6,5.5,2.7c0.6,0.5,1.2,1,1.8,1.7c0.6,0.7,1.2,1.4,1.8,2.2
    		c0.6,0.8,1,1.5,1.4,2.3c0.4,0.7,0.6,1.4,0.6,2c0,1.3-0.5,2.4-1.6,3.1c-1,0.8-2.2,1.2-3.4,1.2c-0.7,0-1.5-0.1-2.1-0.6
    		c-0.6-0.6-1-1.3-1.3-1.8c-0.5-1.1-1.1-2-1.7-2.8c-0.5-0.8-1.2-1.5-2-2c-0.8-0.5-1.8-0.9-3-1.2c-1.2-0.3-2.7-0.4-4.4-0.4
    		c-3.5,0-6,0.6-7.6,1.7c-1.6,1.1-2.4,2.5-2.4,4.2c0,1.3,0.5,2.3,1.4,3.1c0.9,0.8,2.1,1.4,3.7,2c1.5,0.5,3.3,1,5.2,1.4
    		c2,0.4,3.9,0.8,5.9,1.3c2,0.5,4,1.1,5.9,1.7c1.9,0.7,3.7,1.6,5.2,2.7c1.5,1.1,2.7,2.5,3.7,4.1c0.9,1.6,1.4,3.6,1.4,6
    		C309.4,86.4,308.8,88.9,307.6,90.9z"/>
    	<path d="M327.4,48.8h4.7c1.1,0,2,0.4,2.8,1.2c0.8,0.8,1.2,1.7,1.2,2.8c0,1.1-0.4,2.1-1.2,2.8s-1.7,1.1-2.8,1.1h-4.7v37.9
    		c0,1.3-0.4,2.3-1.3,3.2c-0.9,0.9-2,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V56.7h-4.6c-1.1,0-2-0.4-2.8-1.1
    		c-0.8-0.7-1.2-1.7-1.2-2.8c0-1.1,0.4-2,1.2-2.8c0.8-0.8,1.7-1.2,2.8-1.2h4.6V39c0-1.3,0.4-2.3,1.3-3.2s1.9-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3s1.3,1.9,1.3,3.2V48.8z"/>
    	<path d="M341.5,32.1c1-1,2.2-1.5,3.7-1.5c1.4,0,2.6,0.5,3.6,1.5c1,1,1.5,2.2,1.5,3.6c0,1.4-0.5,2.6-1.5,3.6c-1,1-2.2,1.5-3.6,1.5
    		c-1.4,0-2.7-0.5-3.7-1.5c-1-1-1.5-2.2-1.5-3.6C340,34.2,340.5,33,341.5,32.1z M349.6,94.6c0,1.3-0.4,2.3-1.3,3.2
    		c-0.9,0.9-1.9,1.3-3.2,1.3c-1.3,0-2.3-0.4-3.2-1.3c-0.9-0.9-1.3-2-1.3-3.2V53.3c0-1.3,0.4-2.3,1.3-3.2c0.9-0.9,2-1.3,3.2-1.3
    		c1.3,0,2.3,0.4,3.2,1.3c0.9,0.9,1.3,2,1.3,3.2V94.6z"/>
    	<path d="M369.1,97.3c-2.9-1.2-5.4-3-7.5-5.2c-2.1-2.2-3.8-4.9-5-8.1c-1.2-3.1-1.8-6.6-1.8-10.4c0-3.8,0.6-7.3,1.8-10.5
    		c1.2-3.1,2.9-5.8,5-8.1c2.1-2.2,4.6-4,7.5-5.2c2.9-1.2,6-1.9,9.4-1.9c3.4,0,6.4,0.5,9,1.5c2.5,1,4.6,2.2,6.2,3.6
    		c1.6,1.4,3.2,2.9,4,4.4c0.5,0.9,0.9,1.5,0.9,2.6c0,1.3-0.5,2.3-1.4,3.1c-0.9,0.7-2,1.1-3.1,1.1c-0.8,0-1.6-0.2-2.2-0.6
    		c-0.7-0.4-1.2-1.3-1.8-2.1c-1-1.4-0.5-0.6-1.1-1.5c-0.7-0.9-1.5-1.6-2.5-2.3c-1-0.7-2.2-1.2-3.5-1.6c-1.4-0.4-2.8-0.6-4.4-0.6
    		c-1.8,0-3.5,0.3-5.3,1c-1.8,0.7-3.3,1.7-4.7,3.1c-1.4,1.4-2.5,3.3-3.4,5.6s-1.3,5.1-1.3,8.4c0,3.3,0.4,6.1,1.3,8.4s2,4.2,3.4,5.6
    		c1.4,1.4,3,2.5,4.7,3.1c1.8,0.7,3.5,1,5.3,1c1.6,0,3.1-0.2,4.4-0.6c1.3-0.4,2.5-0.9,3.5-1.6c1-0.7,1.8-1.5,2.5-2.3
    		c0.7-0.9,1.1-1.8,1.4-2.7c0.3-1,0.8-1.7,1.5-2.1c0.7-0.4,1.4-0.6,2.2-0.6c1.1,0,2.2,0.4,3.1,1.1c0.9,0.7,1.4,1.7,1.4,3
    		c0,0.6-0.3,1.7-0.9,3.1c-0.6,1.5-1.6,2.9-3.1,4.4c-1.5,1.5-3.5,2.8-6.2,4c-2.6,1.1-6,1.7-10,1.7C375.1,99.2,372,98.5,369.1,97.3z"
    		/>
    </g>
</svg>
						</div>
					</a>
				</h1>
			</div>
			<!-- Searchbar Input box -->
			<form method="get" action="/search" name="searchForm" class="header-search-form" id="searchMobileFrm">
			   <input type="text" id="search-header-autocomplete" name="q" class="form-control global-input" placeholder="elastic{search}">
			</form>
			<div class="mobile-auto-complete"></div> 
		</div>
		<div class="4u 6u(small) 6u(xsmall)">
			<!-- Mobile Menu -->
			<div class="mobile-menu-wrapper">
				<ul class="m-shortcuts">
					
					<li><a href="#" class="m-search" id="header-search"></a></li>
					
					<li><a href="/guide" class="m-guide" id=""></a></li>
					
					<li><a href="/contact" class="m-contact" id=""></a></li>
					
				</ul>											
				<nav class="nav-menu">
					<div class="menu-button">
						<span></span>
					</div>
					<div class="nav-menu-list-wrap">
						<div class="nav-menu-list">
							
								<h3><a href="/products" id="nav_products" >PRODUCTS</a></h3>

								
								<ul>
									
									<li><a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a></li>
									
									<li><a href="/products/logstash" id="nav_logstash" >logstash</a></li>
									
									<li><a href="/products/kibana" id="nav_kibana" >kibana</a></li>
									
									<li><a href="/products/watcher" id="nav_watcher" >watcher</a></li>
									
									<li><a href="/products/shield" id="nav_shield" >shield</a></li>
									
									<li><a href="https://www.found.no/" id="nav_found" >found</a></li>
									
									<li><a href="/products/marvel" id="nav_marvel" >marvel</a></li>
									
									<li><a href="/products/hadoop" id="nav_hadoop" >hadoop</a></li>
									
									<li><a href="/subscriptions" id="nav_support" >support</a></li>
									
									<li><a href="/downloads" id="nav_downloads" >downloads</a></li>
									
								</ul>
								
							
								<h3><a href="/subscriptions" id="nav_subscriptions" >SUBSCRIPTIONS</a></h3>

								
							
								<h3><a href="/learn" id="nav_learn" >LEARN</a></h3>

								
								<ul>
									
									<li><a href="/guide" id="nav_guide" >docs</a></li>
									
									<li><a href="/videos" id="nav_videos" >videos</a></li>
									
									<li><a href="http://purchases.elastic.co" id="nav_training" >training</a></li>
									
									<li><a href="/blog" id="nav_learn_blog" >blog</a></li>
									
									<li><a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a></li>
									
								</ul>
								
							
								<h3><a href="/community" id="nav_community" >COMMUNITY</a></h3>

								
								<ul>
									
									<li><a href="/community/meetups" id="nav_meetups" >meetups</a></li>
									
									<li><a href="https://discuss.elastic.co" id="nav_discuss" >discuss</a></li>
									
								</ul>
								
							
								<h3><a href="/use-cases" id="nav_usecases" >USE CASES</a></h3>

								
							
								<h3><a href="/blog" id="nav_blog" >BLOG</a></h3>

								
							
								<h3><a href="/about" id="nav_about" >ABOUT</a></h3>

								
								<ul>
									
									<li><a href="/about/leadership" id="nav_leadership" >leadership</a></li>
									
									<li><a href="/about/board" id="nav_board" >board of directors</a></li>
									
									<li><a href="/about/careers" id="nav_careers" >careers</a></li>
									
									<li><a href="/about/partners" id="nav_partners" >partners</a></li>
									
									<li><a href="/about/press" id="nav_press" >press</a></li>
									
								</ul>
								
							
						</div>
					</div>
				</nav>
			</div>
			<!-- Shortcuts -->
			<nav id="shortcuts">
				<ul class="links">
					
						<li class="shortcut-1 grayscale">
							<a href="/downloads" id="header_downloads" >
								<span class="img"></span>
								<span class="txt">downloads</span>	
							</a>
						</li>
					
						<li class="shortcut-2 grayscale">
							<a href="/guide" id="header_guide" >
								<span class="img"></span>
								<span class="txt">docs</span>	
							</a>
						</li>
					
						<li class="shortcut-3 grayscale">
							<a href="/subscriptions" id="header_subscriptions" >
								<span class="img"></span>
								<span class="txt">support</span>	
							</a>
						</li>
					
						<li class="shortcut-4 grayscale">
							<a href="https://discuss.elastic.co" id="header_discuss" target="_blank">
								<span class="img"></span>
								<span class="txt">discuss</span>	
							</a>
						</li>
					
						<li class="shortcut-5 grayscale">
							<a href="/contact" id="header_contact" >
								<span class="img"></span>
								<span class="txt">contact</span>	
							</a>
						</li>
					
				</ul>
			</nav>
		</div>
	</div>
</section>


<section class="desktop-main-nav">
	<div class="row">
		<div class="9u">
			<!-- Nav -->
			<nav id="nav">
				<ul>
					
					<li>
						<a href="/products" id="nav_products" >PRODUCTS</a>
						
						<ul class="dropdown">
							
								<li><a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a></li>								
							
								<li><a href="/products/logstash" id="nav_logstash" >logstash</a></li>								
							
								<li><a href="/products/kibana" id="nav_kibana" >kibana</a></li>								
							
								<li><a href="/products/watcher" id="nav_watcher" >watcher</a></li>								
							
								<li><a href="/products/shield" id="nav_shield" >shield</a></li>								
							
								<li><a href="https://www.found.no/" id="nav_found" >found</a></li>								
							
								<li><a href="/products/marvel" id="nav_marvel" >marvel</a></li>								
							
								<li><a href="/products/hadoop" id="nav_hadoop" >hadoop</a></li>								
							
								<li><a href="/subscriptions" id="nav_support" >support</a></li>								
							
								<li><a href="/downloads" id="nav_downloads" >downloads</a></li>								
								
						</ul>							
					</li>
					
					<li>
						<a href="/subscriptions" id="nav_subscriptions" >SUBSCRIPTIONS</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						<a href="/learn" id="nav_learn" >LEARN</a>
						
						<ul class="dropdown">
							
								<li><a href="/guide" id="nav_guide" >docs</a></li>								
							
								<li><a href="/videos" id="nav_videos" >videos</a></li>								
							
								<li><a href="http://purchases.elastic.co" id="nav_training" >training</a></li>								
							
								<li><a href="/blog" id="nav_learn_blog" >blog</a></li>								
							
								<li><a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a></li>								
								
						</ul>							
					</li>
					
					<li>
						<a href="/community" id="nav_community" >COMMUNITY</a>
						
						<ul class="dropdown">
							
								<li><a href="/community/meetups" id="nav_meetups" >meetups</a></li>								
							
								<li><a href="https://discuss.elastic.co" id="nav_discuss" >discuss</a></li>								
								
						</ul>							
					</li>
					
					<li>
						<a href="/use-cases" id="nav_usecases" >USE CASES</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						<a href="/blog" id="nav_blog" >BLOG</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						<a href="/about" id="nav_about" >ABOUT</a>
						
						<ul class="dropdown">
							
								<li><a href="/about/leadership" id="nav_leadership" >leadership</a></li>								
							
								<li><a href="/about/board" id="nav_board" >board of directors</a></li>								
							
								<li><a href="/about/careers" id="nav_careers" >careers</a></li>								
							
								<li><a href="/about/partners" id="nav_partners" >partners</a></li>								
							
								<li><a href="/about/press" id="nav_press" >press</a></li>								
								
						</ul>							
					</li>
					
				</ul>
			</nav>
		</div>
		<!-- Search -->
		<div class="3u">
			<div class="languages-wrapper">
				<div class="global-language">
					<img src="/static/img/icon-globe.png"/>
					<ul class="all-languages">
						<li><a href="/">English</a></li>
						<li><a href="/fr/">French</a></li>
						<li><a href="/de/">German</a></li>
					</ul>
				</div>
				<div id="searchbar">
					<form method="get" action="/search" name="searchForm" id="searchfrm">
						<input type="text" value="" name="q" placeholder="elastic{search}" id="autocomplete">
						<button class="button icon" onclick="searchForm.submit()">GO</button>
					</form>
				</div>
				<div class="nav-auto-complete"></div>
			</div>
		</div>
	</div>
</section>

		</div>
	</div>
</div>

<style>	
	
		#shortcuts ul.links li.shortcut-1 span.img{
			background-image: url("/assets/blt406dbf0c61aa5579/shortcuts.png");
    		background-repeat: no-repeat;
			display:inline-block;}
	
		#shortcuts ul.links li.shortcut-2 span.img{
			background-image: url("/assets/blt406dbf0c61aa5579/shortcuts.png");
    		background-repeat: no-repeat;
			display:inline-block;}
	
		#shortcuts ul.links li.shortcut-3 span.img{
			background-image: url("/assets/blt406dbf0c61aa5579/shortcuts.png");
    		background-repeat: no-repeat;
			display:inline-block;}
	
		#shortcuts ul.links li.shortcut-4 span.img{
			background-image: url("/assets/blt406dbf0c61aa5579/shortcuts.png");
    		background-repeat: no-repeat;
			display:inline-block;}
	
		#shortcuts ul.links li.shortcut-5 span.img{
			background-image: url("/assets/blt406dbf0c61aa5579/shortcuts.png");
    		background-repeat: no-repeat;
			display:inline-block;}
	
	
	
		.m-shortcuts li a.m-search {
			background: url("/assets/blt174b13be89ff803c/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
	
		.m-shortcuts li a.m-guide {
			background: url("/assets/blt5ba03f594a7d610a/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
	
		.m-shortcuts li a.m-contact {
			background: url("/assets/blt38c3e853c4b1174d/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
			background-size: contain;}
		
</style>
		</div>
	</div>
  	<div id="content">
  		
  			
            <div id="pageheader">
    <div class="container">
        <header>
            <h1>Learn |</h1>
            <h2>Docs</h2>
        </header>
    </div>
</div>
<section id="guide">

            <!-- start body -->
<div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Watcher</a></span> » <span class="breadcrumb-link"><a href="api-ref.html">API Reference</a></span> » <span class="breadcrumb-node">REST API</span></div><div class="navheader"><span class="prev"><a href="api-ref.html">
              « 
              API Reference</a>
           
        </span><span class="next">
           
          <a href="api-java.html">Java API
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="api-rest"></a>REST API</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="api-rest.html">REST API</a></span></dt><dt><span class="section"><a href="api-java.html">Java API</a></span></dt></dl></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<a class="link" href="api-rest.html#api-rest-put-watch" title="PUT Watch API">Put Watch</a>
</li><li class="listitem">
<a class="link" href="api-rest.html#api-rest-get-watch" title="Get Watch API">Get Watch</a>
</li><li class="listitem">
<a class="link" href="api-rest.html#api-rest-delete-watch" title="Delete Watch API">Delete Watch</a>
</li><li class="listitem">
<a class="link" href="api-rest.html#api-rest-execute-watch" title="Execute Watch API">Execute Watch</a>
</li><li class="listitem">
<a class="link" href="api-rest.html#api-rest-ack-watch" title="Ack Watch API">Ack Watch</a>
</li><li class="listitem">
<a class="link" href="api-rest.html#api-rest-info" title="Info API">Info</a>
</li><li class="listitem">
<a class="link" href="api-rest.html#api-rest-stats" title="Stats API">Stats</a>
</li><li class="listitem">
<a class="link" href="api-rest.html#api-rest-stop" title="Stop API">Stop</a>
</li><li class="listitem">
<a class="link" href="api-rest.html#api-rest-start" title="Start API">Start</a>
</li><li class="listitem">
<a class="link" href="api-rest.html#api-rest-restart" title="Restart API">Restart</a>
</li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api-rest-put-watch"></a>PUT Watch API</h3></div></div></div><p>The PUT watch API either registers a new watch in watcher or update an existing one. Once registered, a new document
will be added to the <code class="literal">.watches</code> index, representing the watch, and the watch’s trigger will immediately be registered
with the relevant trigger engine (typically the scheduler, for the <code class="literal">schedule</code> trigger).</p><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>Putting a watch must be done via this API only. Do not put a watch directly to the <code class="literal">.watches</code> index
            using Elasticsearch’s Index API. When integrating with Shield, a best practice is to make sure
            no <code class="literal">write</code> privileges are granted to anyone over the <code class="literal">.watches</code> API.</p></div></div><p>The following example adds a watch with the <code class="literal">my-watch</code> id that has the following qualities:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
The watch schedule triggers every minute.
</li><li class="listitem">
The watch search input finds any 404 HTTP responses that occurred in the past five minutes.
</li><li class="listitem">
The watch condition checks the search results for 404s.
</li><li class="listitem">
The watch action sends an email if there are any 404s.
</li></ul></div><pre class="programlisting prettyprint lang-js">$ curl -XPUT 'http://localhost:9200/_watcher/watch/my-watch' -d '{
  "trigger" : {
    "schedule" : { "cron" : "0 0/1 * * * ?" }
  },
  "input" : {
    "search" : {
      "request" : {
        "indices" : [
          "logstash*"
        ],
        "body" : {
          "query" : {
            "filtered": {
              "query": {
                "match": { "response": 404 }
              },
              "filter": {
                "range": {
                  "@timestamp" : {
                    "from": "{{ctx.trigger.scheduled_time}}||-5m",
                    "to": "{{ctx.trigger.triggered_time}}"
                 }
                }
              }
            }
          }
        }
      }
    }
  },
  "condition" : {
    "script" : "ctx.payload.hits.total &gt; 1"
  },
  "actions" : {
    "email_admin" : {
        "email" : {
          "to" : "admin@domain.host.com",
          "subject" : "404 recently encountered"
        }
      }
    }
}'</pre><p>A watch has the following fields:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top"> Name              </th><th align="left" valign="top"> Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">trigger</code></p></td><td align="left" valign="top"><p>The <a class="link" href="anatomy-trigger.html" title="Trigger">trigger</a> that defines when the watch should run</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">input</code></p></td><td align="left" valign="top"><p>The <a class="link" href="anatomy-input.html" title="Input">input</a> that defines the input that loads the data for the watch</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">condition</code></p></td><td align="left" valign="top"><p>The <a class="link" href="anatomy-condition.html" title="Condition">condition</a> that defines if the actions should be run</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">actions</code></p></td><td align="left" valign="top"><p>The list of <a class="link" href="anatomy-actions.html" title="Actions">actions</a> that will be run if the condition matches</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">meta</code></p></td><td align="left" valign="top"><p>Metadata json that will be copied into the history entries.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">throttle_period</code></p></td><td align="left" valign="top"><p>The minimum time between actions being run, the default for this is 5 seconds. This default can be changed in the config file with the setting <code class="literal">watcher.throttle.period.default_period</code>.</p></td></tr></tbody></table></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_timeouts"></a>Timeouts</h4></div></div></div><p>When updating a watch while it is executing, the put action will block and wait for the watch execution
to finish. Depending on the nature of the watch, in some situations this can take a while. For this reason,
the put watch action is associated with a timeout that is set to 10 seconds by default. You can control this
timeout by passing in the <code class="literal">master_timeout</code> parameter.</p><p>The following snippet shows how to change the default timeout of the put action to 30 seconds:</p><pre class="programlisting prettyprint lang-js">PUT 'http://localhost:9200/_watcher/watch/my-watch?master_timeout=30s'</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api-rest-get-watch"></a>Get Watch API</h3></div></div></div><p>This API retrieves a watch by its id.</p><p>The following example gets a watch with <code class="literal">my-watch</code> id:</p><pre class="programlisting prettyprint lang-js">$ curl -XGET 'http://localhost:9200/_watcher/watch/my-watch'</pre><p>This is an example of the output:</p><pre class="programlisting prettyprint lang-js">{
  "found": true,
  "_id": "my_watch",
  "_version": 5,
  "watch": {
    "input": {
      "search": {
        "request": {
          "search_type": "query_then_fetch",
          "indices": [
            "logstash*"
          ],
          "types": [],
          "body": {
            "query": {
              "filtered": {
                "filter": {
                  "range": {
                    "@timestamp": {
                      "from": "{{ctx.trigger.scheduled_time}}||-5m",
                      "to": "{{ctx.trigger.triggered_time}}"
                    }
                  }
                },
                "query": {
                  "match": {
                    "response": 404
                  }
                }
              }
            }
          }
        }
      }
    },
    "condition": {
      "script": {
        "type": "inline",
        "lang": "groovy",
        "params": {},
        "script": "ctx.payload.hits.total &gt; 1"
      }
    },
    "trigger": {
      "schedule": {
        "cron": "0 0/1 * * * ?"
      }
    },
    "actions": {
      "email_admin": {
        "email": {
          "subject": {
            "type": "inline",
            "lang": "mustache",
            "params": {},
            "script": "404 recently encountered"
          },
          "attach_data": false,
          "to": [
            "someone@domain.host.com"
          ]
        }
      }
    },
    "status": { <a id="CO32-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
      "ack": {
        "state": "awaits_execution",
        "timestamp": "2015-04-07T13:47:37.963Z"
      }
    }
  }
}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO32-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The retrieved watch will return with its current status
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api-rest-delete-watch"></a>Delete Watch API</h3></div></div></div><p>The DELETE watch API removes a specific watch (identified by its <code class="literal">id</code>) from watcher. Once removed, the document
representing the watch in the <code class="literal">.watches</code> index will be gone and it will never be executed again.</p><p>Please not that deleting a watch <span class="strong"><strong>does not</strong></span> delete any watch execution records related to this watch from
the <a class="link" href="watch-history.html" title="Accessing the Watch History">Watch History</a>.</p><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>Deleting a watch must be done via this API only. Do not delete the watch directly from the <code class="literal">.watches</code> index
            using Elasticsearch’s DELETE Document API. When integrating with Shield, a best practice is to make sure
            no <code class="literal">write</code> privileges are granted to anyone over the <code class="literal">.watches</code> API.</p></div></div><p>The following example deletes a watch with the <code class="literal">my-watch</code> id:</p><pre class="programlisting prettyprint lang-js">DELETE 'http://localhost:9200/_watcher/watch/my-watch'</pre><p>This is a sample output</p><pre class="programlisting prettyprint lang-js">{
   "found": true,
   "_id": "my_watch",
   "_version": 10
}</pre><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_timeouts_2"></a>Timeouts</h4></div></div></div><p>When deleting a watch while it is executing, the delete action will block and wait for the watch execution
to finish. Depending on the nature of the watch, in some situations this can take a while. For this reason,
the delete watch action is associated with a timeout that is set to 10 seconds by default. You can control this
timeout by passing in the <code class="literal">master_timeout</code> parameter.</p><p>The following snippet shows how to change the default timeout of the delete action to 30 seconds:</p><pre class="programlisting prettyprint lang-js">DELETE 'http://localhost:9200/_watcher/watch/my-watch?master_timeout=30s'</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api-rest-execute-watch"></a>Execute Watch API</h3></div></div></div><p>This API forces the execution of a watch stored in the <code class="literal">.watches</code> index.
It can be used to test a watch without executing all the actions or by ignoring the condition.
The returned data is the record that would be written to the <code class="literal">.watch_history</code> index.</p><p>The following example executes a watch with the name <code class="literal">my-watch</code></p><pre class="programlisting prettyprint lang-js">POST _watcher/watch/my-watch/_execute
{
  "ignore_condition" : true,
  "ignore_throttle" : true,
  "simulated_actions" : "_all",
  "alternative_input" : {
    "foo" : "bar"
  },
  "trigger_event" : {
    "schedule" : {
       "triggered_time" : "2015-05-06T15:46:35.138Z",
       "scheduled_time" : "2015-05-06T15:46:35.138Z"
    }
  },
  "record_execution" : true
}</pre><a class="sense_widget" href="sense_widget.html?snippets/api-rest/1.json" target="sense">View in Sense</a><p>This API supports the following fields</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="left" valign="top"> Name               </th><th align="left" valign="top"> Required </th><th align="left" valign="top"> Default </th><th align="left" valign="top"> Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p>trigger_event</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"><p></p></td><td align="left" valign="top"><p>This structure will be parsed as a trigger event and used for the watch execution.</p></td></tr><tr><td align="left" valign="top"><p>ignore_condition</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>false</p></td><td align="left" valign="top"><p>If this is set to true the watch execution will use the <a class="link" href="anatomy-condition.html#anatomy-condition-always" title="Always Condition">Always</a> Condition.</p></td></tr><tr><td align="left" valign="top"><p>record_execution</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>false</p></td><td align="left" valign="top"><p>If this is set to true the <code class="literal">WatchRecord</code> generated by executing the watch will be persisted to the <code class="literal">.watch_history</code> index for the current time. Also the <code class="literal">Watch.Status</code> will be updated, possbily throttling subsequent executions.</p></td></tr><tr><td align="left" valign="top"><p>ignore_throttle</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>false</p></td><td align="left" valign="top"><p>If this is set to true the watch execution will ignore throttling.</p></td></tr><tr><td align="left" valign="top"><p>alternative_input</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>null</p></td><td align="left" valign="top"><p>If this structure is present, the watch will not execute it’s own input but will use these fields as a payload instead.</p></td></tr><tr><td align="left" valign="top"><p>simulated_actions</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>null</p></td><td align="left" valign="top"><p>This field can either be a list of action ids or the string <code class="literal">_all</code>. If <code class="literal">_all</code> is set or an action that is executed by the watch appears in this list it will be executed in simulated mode.</p></td></tr></tbody></table></div><p>This is an example of the output:</p><pre class="programlisting prettyprint lang-js">{
  "watch_id": "my_watch",
  "trigger_event": {
    "schedule" : {
       "triggered_time" : "2015-05-06T15:46:35.138Z",
       "scheduled_time" : "2015-05-06T15:46:35.138Z"
    }
  },
  "condition": {
    "script": {
      "script": "ctx.payload.hits.total &gt; 1",
      "type": "inline",
      "lang": "groovy",
      "params": {}
    }
  },
  "state": "executed",
  "watch_execution": {
    "input_result": {
      "simple": {
        "payload": {
          "foo": "bar"
        }
      }
    },
    "condition_result": {
      "always_true": {}
    },
    "actions_results": {
      "Email Admin": {
        "email": {
          "success": true,
          "simulated_email": {
            "id": "my_watch#2015-04-10T11:35:11.767-04:00",
            "sent_date": "2015-04-10T14:57:35.654Z",
            "to": [
              "someone@domain.host.com"
            ],
            "subject": "404 Error",
            "body": "A 404 error was recently encountered."
          }
        }
      }
    }
  }
}</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api-rest-ack-watch"></a>Ack Watch API</h3></div></div></div><p><a class="link" href="watch-anatomy.html#watch-anatomy-throttling" title="Watch Acknowledgement and Throttling">Watch Acknowledgement</a> enables to manually throttle the execution of a watch. The <span class="emphasis"><em>acknowledgement state</em></span>
of a watch is stored in the <code class="literal">status.ack</code> structure . Use the ACK watch API to acknowledge a watch.</p><p>A newly created watch has an <code class="literal">status.ack</code> field set to:</p><pre class="programlisting prettyprint lang-js">"status": {
   "ack": {
      "state": "awaits_execution",
      "timestamp": "2015-04-07T13:54:01.889Z"
   }
}</pre><p>When the watch runs and the condition matches, the value of the <code class="literal">status.ack</code> structure changes to:</p><pre class="programlisting prettyprint lang-js">{
  "status": {
    "ack": {
      "state": "ackable",
      "timestamp": "2015-04-07T13:58:01.889Z"
    }
  }
}</pre><p>To acknowledge the watch use the ACK API, this will set the value of the <code class="literal">status.ack</code> structure to :</p><pre class="programlisting prettyprint lang-js">{
  "status": {
    "ack": {
      "state": "acked",
      "timestamp": "2015-04-07T13:59:01.889Z"
    }
  }
}</pre><p>Acknowledging a watch throttles further actions by that watch until the watch’s <code class="literal">status.ack.state</code> is reset to
<code class="literal">awaits_execution</code>. This will happen when the watch executes but the trigger is not met.</p><p>The following snippet shows how to ack a watch identified by its id (in this example - <code class="literal">my-watch</code>):</p><pre class="programlisting prettyprint lang-js">$ curl -XPUT 'http://localhost:9200/_watcher/watch/my-watch/_ack'</pre><p>As a response to this request, the ack state of the watch will be returned:</p><pre class="programlisting prettyprint lang-js">{
  "status": {
    "ack": {
      "state": "awaits_execution",
      "timestamp": "2015-04-07T13:54:01.889Z"
    }
  }
}</pre><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_timeouts_3"></a>Timeouts</h4></div></div></div><p>When acking a watch while it is executing, the ack action will block and wait for the watch execution
to finish. Depending on the nature of the watch, in some situations this can take a while. For this reason,
the ack watch action is associated with a timeout that is set to 10 seconds by default. You can control this
timeout by passing in the <code class="literal">master_timeout</code> parameter.</p><p>The following snippet shows how to change the default timeout of the ack action to 30 seconds:</p><pre class="programlisting prettyprint lang-js">$ curl -XPUT 'http://localhost:9200/_watcher/watch/my-watch/_ack?master_timeout=30s'</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api-rest-info"></a>Info API</h3></div></div></div><p>The watcher info API gives basic version information on the watcher plugin that is installed.</p><p>The following example queries the <code class="literal">info</code> API.</p><pre class="programlisting prettyprint lang-js">$ curl -XGET 'http://localhost:9200/_watcher/'</pre><p>A successful call returns a JSON structure similar to the following example:</p><pre class="programlisting prettyprint lang-js">{
   "version": {
      "number": "1.0.0.Beta2", <a id="CO33-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
      "build_hash": "41f64213d2d370bf66f0e9b839a30a19", <a id="CO33-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
      "build_timestamp": "2015-04-07T13:34:42Z", <a id="CO33-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
      "build_snapshot": true <a id="CO33-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
   }
}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO33-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The build number of the plugin
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO33-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The build hash of the plugin
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO33-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The time the plugin was built
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO33-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Whether or not this plugin was a development snapshot build
</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api-rest-stats"></a>Stats API</h3></div></div></div><p>The watcher <code class="literal">stats</code> API returns information on the aspects of watcher on your cluster.</p><p>The watcher <code class="literal">stats</code> API supports the following request options</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="left" valign="top"> Name               </th><th align="left" valign="top"> Required </th><th align="left" valign="top"> Default </th><th align="left" valign="top"> Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p>metric</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>null</p></td><td align="left" valign="top"><p>What metric should be returned.</p></td></tr></tbody></table></div><p>The supported metric values:</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top"> Metric             </th><th align="left" valign="top"> Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p>executing_watches</p></td><td align="left" valign="top"><p>Include the current executing watches in the response.</p></td></tr><tr><td align="left" valign="top"><p>_all</p></td><td align="left" valign="top"><p>Include all metrics in the response.</p></td></tr></tbody></table></div><p>The watcher <code class="literal">stats</code> API always returns basic metrics regardless of the <code class="literal">metric</code> option.</p><p>The following example queries the <code class="literal">stats</code> API including the basic metrics:</p><pre class="programlisting prettyprint lang-js">$ curl -XGET 'http://localhost:9200/_watcher/stats'</pre><p>A successful call returns a JSON structure similar to the following example:</p><pre class="programlisting prettyprint lang-js">{
   "watcher_state": "started",  <a id="CO34-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
   "watch_count": 1, <a id="CO34-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
   "execution_queue": {
      "size": 1000, <a id="CO34-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
      "max_size": 1 <a id="CO34-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
   }
}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO34-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The current state of watcher. May be either <code class="literal">started</code>, <code class="literal">starting</code> or <code class="literal">stopped</code>.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO34-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The number of watches currently registered in watcher.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO34-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The number of watches that were triggere and currently pending execution.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO34-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The largest size of the of the execution queue during this instance of the watcher service. This statistic is reset when the cluster restarts or when the master changes.
</p></td></tr></table></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_current_executing_watches_metric"></a>Current executing watches metric</h4></div></div></div><p>The current executing watches metric gives insight into the watches that are currently being executed by Watcher.
Per watch that is executing information is shared, like the <code class="literal">watch_id</code>, when execution started and at what phase the
execution is.</p><p>To include this metric, the <code class="literal">metric</code> option should be set to <code class="literal">executing_watches</code> or <code class="literal">_all</code>.</p><p>The following example specifies the <code class="literal">metric</code> option as a query string argument and will include the basic metrics and
metrics about the current watches being executed:</p><pre class="programlisting prettyprint lang-js">$ curl -XGET 'http://localhost:9200/_watcher/stats?metric=executing_watches'</pre><p>The following example specifies the <code class="literal">metric</code> option as part of the url path:</p><pre class="programlisting prettyprint lang-js">$ curl -XGET 'http://localhost:9200/_watcher/stats/current_watches'</pre><p>An example of a successful json response that captures a watch in execution:</p><pre class="programlisting prettyprint lang-js">{
   "watcher_state": "started",
   "watch_count": 2,
   "execution_queue": {
      "size": 1000,
      "max_size": 20
   },
   "current_watches": [ <a id="CO35-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
      {
         "watch_id": "slow_condition", <a id="CO35-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
         "watch_record_id": "slow_condition_3-2015-05-13T07:42:32.179Z", <a id="CO35-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
         "triggered_time": "2015-05-12T11:53:51.800Z", <a id="CO35-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
         "execution_time": "2015-05-13T07:42:32.179Z", <a id="CO35-5"></a><span><img src="images/icons/callouts/5.png" alt="" /></span>
         "execution_phase": "condition" <a id="CO35-6"></a><span><img src="images/icons/callouts/6.png" alt="" /></span>
      }
   ]
}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO35-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
A list of all the Watches that are currently being executed by Watcher. In case of an empty array no executing watches
    had been captured. The captured watches are sorted by execution time in descending order. So the longest running watch
    is always on top.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO35-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The id of the watch being executed.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO35-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The id of the watch record.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO35-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The time the watch was triggered by the trigger engine.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO35-5"><span><img src="images/icons/callouts/5.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The time the watch was executed. This is just before the input is being executed.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO35-6"><span><img src="images/icons/callouts/6.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The current execution phase the watch is in. Can be <code class="literal">input</code>, <code class="literal">condition</code> or <code class="literal">action</code>.
</p></td></tr></table></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api-rest-stop"></a>Stop API</h3></div></div></div><p>The <code class="literal">stop</code> watcher API stops the watcher service if the service is running, as in the following example:</p><pre class="programlisting prettyprint lang-js">$ curl -XPUT 'http://localhost:9200/_watcher/_stop'</pre><p>Watcher returns the following response if the request is successful:</p><pre class="programlisting prettyprint lang-js">{
   "acknowledged": true
}</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api-rest-start"></a>Start API</h3></div></div></div><p>The <code class="literal">start</code> watcher API starts the watcher service if the service is not already running, as in the following example:</p><pre class="programlisting prettyprint lang-js">$ curl -XPUT 'http://localhost:9200/_watcher/_start'</pre><p>Watcher returns the following response if the request is successful:</p><pre class="programlisting prettyprint lang-js">{
   "acknowledged": true
}</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="api-rest-restart"></a>Restart API</h3></div></div></div><p>The <code class="literal">restart</code> watcher API stops, then starts the watcher service, as in the following example:</p><pre class="programlisting prettyprint lang-js">$ curl -XPUT 'http://localhost:9200/_watcher/_restart'</pre><p>Watcher returns the following response if the request is successful:</p><pre class="programlisting prettyprint lang-js">{
   "acknowledged": true
}</pre></div></div><div class="navfooter"><span class="prev"><a href="api-ref.html">
              « 
              API Reference</a>
           
        </span><span class="next">
           
          <a href="api-java.html">Java API
               »
            </a></span></div>
<!-- end body -->

            </section>

            <div id="rtpcontainer"
        >
	<h3>Top Videos</h3>
	<ul class="lists">
		<li><a href="http://www.elastic.co/webinars/getting-started-with-elasticsearch/?elektra=docs">Getting Started</a></li>
		<li><a href="http://www.elastic.co/webinars/elasticsearch-performance-optimization-tale-two-tickets/?elektra=docs">Scaling</a></li>
		<li><a href="http://www.elastic.co/webinars/shield-securing-your-data-in-elasticsearch/?elektra=docs">Security</a></li>
	</ul>
</div>


	  	

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
	<!-- subscribe-newsletter -->
	<div id="subscribe-newsletter">
		<div class="container">
			<div class="row">
				<div class="12u">
					<div class="subscribe-wrapper" id="rtp-newsletter">
						<header>
							<h3>Subscribe to Our Newsletter</h3>
						</header>
						<div class="subscribe-form">
							<form id="mktoForm_1398" class="container"></form>
							<div class="form_thanks hide">
								
									<p>Thanks for Subscribing! We'll keep you updated with new releases.</p>
								
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

  	<!-- Footer -->
	<div id="footer-wrapper">
		<section id="footer" class="container">
			<div class="row">
				<div class="12u">
					<!-- Copyright -->
					<div id="copyright">
	<p>
		© 2015. All Rights Reserved - Elasticsearch
	</p>
	<ul class="links">
		<li>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries</li>
		<li><a href="/legal/trademarks" id="footer_trademarks">Trademarks</a></li>
		<li><a href="/legal/terms-of-use" id="footer_terms">Terms</a></li>
		<li><a href="/legal/privacy-policy" id="footer_privacy">Privacy</a></li>
	</ul>
	<p>
		Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other&nbsp;countries.
	</p>
</div><!--<div class="row">
{replace4}
</div>-->
				</div>
			</div>					
		</section>
	</div>
			
	<!-- Social Media -->
	<div id="socialmedia-wrapper">
		<section id="socialmedia" class="container">
			<!-- social icons -->
			<div id="social">
				<ul class="links">
					
						<li class="facebook grayscale"><a href="http://www.facebook.com/elastic.co" target="_blank" id="footer_facebook"></a></li>
					
						<li class="twitter grayscale"><a href="https://www.twitter.com/elastic" target="_blank" id="footer_twitter"></a></li>
					
						<li class="linkedin grayscale"><a href="https://www.linkedin.com/company/elastic.co" target="_blank" id="footer_linkedin"></a></li>
					
						<li class="xing grayscale"><a href="https://www.xing.com/companies/elastic.co" target="_blank" id="footer_xing"></a></li>
					
				</ul>
			</div>
		</section>
	</div>


<style type="text/css">
	
		.facebook{background:url("/assets/blte0d4d10ae3bd8337/social-media.png") no-repeat;}		
	
		.twitter{background:url("/assets/blte0d4d10ae3bd8337/social-media.png") no-repeat;}		
	
		.linkedin{background:url("/assets/blte0d4d10ae3bd8337/social-media.png") no-repeat;}		
	
		.xing{background:url("/assets/blte0d4d10ae3bd8337/social-media.png") no-repeat;}		
	
</style>

<script>
MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", 1398,function(form){
	form.onSuccess(function(form){
		$('#mktoForm_1398').css('display','none');
		$('#subscribe-newsletter header').hide();
		$('#mktoForm_1398').siblings('.form_thanks').removeClass('hide')
		dataLayer.push({'event': 'mktoFormSubmit'});
	    return false;
  	});
});
</script>	

  	</div>
  	<!-- <div class="preloader">
    	<div class="status"></div>
	</div> -->
  	<style></style>
   	<script src="/static/js/jquery.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script src="/static/js/script.js"></script>
   	
   	
   	
   	<script type="application/ld+json">
	
		
	
	{
	  	"@context": "http://schema.org",
	  	"@type": "Organization",
	  	"name" : "Elastic",
	  	"url": "https://www.elastic.co/",
	  	"logo": "https://www.elastic.co/static/img/logo-elastic.png",
		"sameAs" : [ "https://www.facebook.com/elastic.co",
			"https://twitter.com/elastic",
			"https://plus.google.com/105178019064686397293",
			"https://www.youtube.com/user/elasticsearch",
			"https://www.linkedin.com/company/elasticsearch"
		],
	  	"potentialAction": {
	    	"@type": "SearchAction",
	    	"target": "https://www.elastic.co/search?q={query_string}",
	    	"query-input": "required name=query_string"
	  	}
	}
</script>	

            <script type="text/javascript">
  jQuery(function() {
    jQuery('#rtpcontainer').prependTo('#guide');
    jQuery('#guide a[id]').each(function() { this.href='#'+this.id });
    jQuery('pre.prettyprint').each(function() {
      var pre = jQuery(this);
      pre.css('position','absolute');
      pre.css('width','auto');
      var height = pre.innerHeight();
      pre.wrap('<div class="pre_wrapper" style="height:' + (10 + height) + 'px"></div>');
    })
  });
</script>
<script type='text/javascript' src='https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js'></script>
<script type="text/javascript" >
  (function ($, $a, $title, $list) {
    $a = $('[id^="js-api-method-index"]');
    if (!$a.size()) return;
    $('#guide').addClass('js-client-docs');
    $list = $a.siblings('.itemizedlist').detach();
    $title = $(document.createElement('h2')).text('api methods')
    $a.parent().remove();
    $('.toc').first().append($(document.createElement('div')).addClass('js-api-method-index').append($title).append($list));
  }(jQuery));
</script>

            </body>
        