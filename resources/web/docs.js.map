{"version":3,"sources":["../../../../node_modules/dedent/dist/dedent.js","../../../../node_modules/js-cookie/src/js.cookie.js","deps.js","utils.js","localization.js","components/settings_modal.js","events.js","index.js"],"names":["jQuery","window","$","dedent","_dedent","Cookies","_Cookies","get_base_url","href","replace","console_regex","method","body","nonComment","RegExp","lang_spec","lang_strings","lang","phrase_key","phrase","Error","translation","settings_modal","opts","label_text","url_value","button_text","install_text","default_url","cookie_key","update_value","length","div","prepend","find","click","e","new_url","val","set","expires","remove","stopPropagation","copy_as_curl","match","regex","consoleText","parent","prev","text","host","data","curlText","exec","comment","path","includes","start","indexOf","startOfNormal","end","substring","quoteBody","leadingWhitespace","search","leadingString","i","temp","append","select","success","document","execCommand","console","error","kibana_url","console_url","sense_url","default_kibana_url","default_console_url","default_sense_url","init_headers","right_col","this_page","prependTo","ul","appendTo","items","each","id","title_container","clone","html","init_console_widgets","base_url","location","snippet","attr","_","on","events","init_sense_widgets","init_kibana_widgets","get_current_page_in_version","version","url","get","done","init_toc","title","li","addClass","children","hasClass","add","removeClass","parents","first","v_selected","change","fail","alert","open_current","pathname","page","current","parentsUntil","LangStrings","always"],"mappings":"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","file":"docs.js","sourceRoot":"docs_js","sourcesContent":["\"use strict\";\n\nfunction dedent(strings) {\n\n  var raw = void 0;\n  if (typeof strings === \"string\") {\n    // dedent can be used as a plain function\n    raw = [strings];\n  } else {\n    raw = strings.raw;\n  }\n\n  // first, perform interpolation\n  var result = \"\";\n  for (var i = 0; i < raw.length; i++) {\n    result += raw[i].\n    // join lines when there is a suppressed newline\n    replace(/\\\\\\n[ \\t]*/g, \"\").\n\n    // handle escaped backticks\n    replace(/\\\\`/g, \"`\");\n\n    if (i < (arguments.length <= 1 ? 0 : arguments.length - 1)) {\n      result += arguments.length <= i + 1 ? undefined : arguments[i + 1];\n    }\n  }\n\n  // now strip indentation\n  var lines = result.split(\"\\n\");\n  var mindent = null;\n  lines.forEach(function (l) {\n    var m = l.match(/^(\\s+)\\S+/);\n    if (m) {\n      var indent = m[1].length;\n      if (!mindent) {\n        // this is the first indented line\n        mindent = indent;\n      } else {\n        mindent = Math.min(mindent, indent);\n      }\n    }\n  });\n\n  if (mindent !== null) {\n    result = lines.map(function (l) {\n      return l[0] === \" \" ? l.slice(mindent) : l;\n    }).join(\"\\n\");\n  }\n\n  // dedent eats leading and trailing whitespace too\n  result = result.trim();\n\n  // handle escaped newlines at the end to ensure they don't get stripped too\n  return result.replace(/\\\\n/g, \"\\n\");\n}\n\nif (typeof module !== \"undefined\") {\n  module.exports = dedent;\n}\n","/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!this.json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n","import _dedent from \"../../../../node_modules/dedent\";\nimport _Cookies from \"../../../../node_modules/js-cookie\";\n\nexport const jQuery = window.jQuery;\nexport const $ = window.jQuery;\nexport const dedent = _dedent;\nexport const Cookies = _Cookies;\n","export function get_base_url(href) {\n  return href.replace(/\\/[^/?]+(?:\\?.*)?$/, '/')\n             .replace(/^http:/, 'https:');\n}\n\nexport function console_regex() {\n  // Port of\n  // https://github.com/elastic/elasticsearch/blob/master/buildSrc/src/main/groovy/org/elasticsearch/gradle/doc/RestTestsFromSnippetsTask.groovy#L71-L79\n  var method = '(GET|PUT|POST|HEAD|OPTIONS|DELETE)';\n  var pathAndQuery = '([^\\\\n]+)';\n  var badBody = 'GET|PUT|POST|HEAD|OPTIONS|DELETE|#';\n  var body = '((?:\\\\n(?!$badBody)[^\\\\n]+)+)'.replace('$badBody', badBody);\n  var nonComment = '$method\\\\s+$pathAndQuery$body?'.replace(\n    '$method',\n    method).replace('$pathAndQuery', pathAndQuery).replace('$body', body);\n  var comment = '(#.+)';\n  return new RegExp('(?:$comment|$nonComment)\\\\n+'.replace(\n    '$comment',\n    comment).replace('$nonComment', nonComment), 'g');\n}\n","export const lang_spec = {\n  \"Configure Console URL\": {\n    \"zh_cn\": \"配置 Console URL\"\n  },\n  \"Configure Sense URL\": {\n    \"zh_cn\": \"配置 Sense URL\"\n  },\n  \"Configure Kibana URL\": {\n    \"zh_cn\": \"配置 Kibana URL\"\n  },\n  \"Copy as cURL\": {\n    \"zh_cn\": \"拷贝为 cURL\"\n  },\n  \"Couldn't automatically copy!\": {\n    \"zh_cn\": \"无法自动拷贝!\"\n  },\n  \"Default Console URL\": {\n    \"zh_cn\": \"默认 Console URL\"\n  },\n  \"Default Sense URL\": {\n    \"zh_cn\": \"默认 Sense URL\"\n  },\n  \"Default Kibana URL\": {\n    \"zh_cn\": \"默认 Kibana URL\"\n  },\n  \"Enter the URL of the Console editor\": {\n    \"zh_cn\": \"输入 Console 编辑器的 URL\"\n  },\n  \"Enter the URL of the Sense editor\": {\n    \"zh_cn\": \"输入 Sense 编辑器的 URL\"\n  },\n  \"Enter the URL of Kibana\": {\n    \"zh_cn\": \"输入 Kibana 的 URL\"\n  },\n  \"On this page\": {\n    \"zh_cn\": \"本页导航\"\n  },\n  \"Open snippet in Console\": {\n    \"zh_cn\": \"在 Console 中打开代码片段\"\n  },\n  \"Open snippet in Sense\": {\n    \"zh_cn\": \"在 Sense 中打开代码片段\"\n  },\n  \"Or install Kibana\": {\n    \"en\": 'Or install <a href=\"https://www.elastic.co/guide/en/kibana/master/setup.html\">Kibana</a>.',\n    \"zh_cn\": '或安装 <a href=\"https://www.elastic.co/guide/en/kibana/master/setup.html\">Kibana</a>。'\n  },\n  \"Or install Sense2\": {\n    \"en\": 'Or install <a href=\"https://www.elastic.co/guide/en/sense/current/installing.html\">the Sense 2 editor</a>.',\n    \"zh_cn\": '或安装 <a href=\"https://www.elastic.co/guide/en/sense/current/installing.html\">Sense 2 编辑器</a>。'\n  },\n  \"Save\": {\n    \"zh_cn\": \"保存\"\n  },\n  \"This page is not available in the docs for version:\": {\n    \"zh_cn\": \"当前页在这些版本的文档中不可用：\"\n  },\n  \"View in Sense\": {\n    \"zh_cn\": \"在 Sense 中查看\"\n  },\n  \"View in Console\": {\n    \"zh_cn\": \"在 Console 中查看\"\n  }\n}\n\nexport const lang_strings = lang => phrase_key => {\n  const phrase = lang_spec[phrase_key];\n  if (!phrase) {\n    throw new Error(`Unable to find '${phrase_key}' in the language spec`);\n  }\n\n  const translation = phrase[lang];\n\n  if (lang === \"en\" && !translation) {\n    return phrase_key;\n  } else if (!!translation) {\n    return translation;\n  }\n\n  throw new Error(`Unable to find translation entry in '${phrase_key}' for language '${lang}'`);\n}\n","import {$, Cookies} from \"../deps\";\n\nexport function settings_modal({label_text,\n                                url_value,\n                                button_text,\n                                install_text,\n                                default_url,\n                                cookie_key,\n                                update_value,\n                                lang_strings} = opts) {\n  if ($('#settings_modal').length > 0) {\n    return;\n  }\n\n  var div = $('<div id=\"settings_modal\">'\n    + '<form>'\n    + '<label for=\"url\">'\n    + label_text\n    + '</label>'\n    + '<input id=\"url\" type=\"text\" value=\"'\n    + url_value\n    + '\" />'\n    + '<button id=\"save_url\" type=\"button\">'\n    + lang_strings('Save')\n    + '</button>'\n    + '<button id=\"reset_url\" type=\"button\">'\n    + button_text\n    + '</button>'\n    + '<p>'\n    + install_text\n    + '</p>'\n    + '</form></div>');\n\n  $('body').prepend(div);\n\n  div.find('#save_url').click(function(e) {\n    var new_url = $('#url').val() || default_url;\n    if (new_url === default_url) {\n      Cookies.set(cookie_key, '');\n    } else {\n      Cookies.set(cookie_key, new_url, {\n        expires : 365\n      });\n    }\n    update_value(new_url);\n    div.remove();\n    e.stopPropagation();\n  });\n\n  div.find('#reset_url').click(function(e) {\n    $('#url').val(default_url);\n    e.stopPropagation();\n  });\n}\n","import {console_regex} from \"./utils.js\";\nimport {$} from \"./deps\";\n\n// Returns a thunk to preserve jQuery's `this` value but\n// we need access to the lang_strings\n// Used like:\n// $('#guide').on('click', 'a.copy_as_curl', events.copy_as_curl(lang_strings));\nexport function copy_as_curl(lang_strings) {\n  return function() {\n    var regex = console_regex();\n    var div = $(this);\n    var consoleText = div.parent().prev().text() + '\\n';\n    var host = div.data('curl-host');\n    var curlText = '';\n    var match;\n\n    while (match = regex.exec(consoleText)) {\n      var comment = match[1];\n      var method = match[2];\n      var path = match[3];\n      var body = match[4];\n      if (comment) {\n        curlText += comment + '\\n';\n      } else {\n        path = path.replace(/^\\//, '').replace(/\\s+$/,'');\n        if (method === \"HEAD\") {\n          curlText += 'curl -I ';\n        } else {\n          curlText += 'curl -X ' + method + ' ';\n        }\n        curlText += '\"' + host + '/' + path + '\"';\n\n        if (div.data('kibana')) {\n          curlText += \" -H 'kbn-xsrf: true'\";\n        } else {\n          path += path.includes('?') ? '&pretty' : '?pretty';\n        }\n\n        if (body) {\n          body = body.replace(/\\'/g, '\\\\u0027');\n          body = body.replace(/\\s*$/,\"\\n\");\n          curlText += \" -H 'Content-Type: application/json'\";\n          curlText += \" -d'\";\n          var start = body.indexOf('\"\"\"');\n          if (start < 0) {\n            curlText += body;\n          } else {\n            var startOfNormal = 0;\n            while (start >= 0) {\n              var end = body.indexOf('\"\"\"', start + 3);\n              if (end < 0) {\n                end = body.length();\n              }\n              curlText += body.substring(startOfNormal, start);\n              curlText += '\"';\n              var quoteBody = body.substring(start + 3, end);\n              // Trim leading newline if there is one\n              quoteBody = quoteBody.replace(/^\\n+/, '');\n              // Trim leading whitespace off of each line\n              // But not more whitespace than is on the first line\n              var leadingWhitespace = quoteBody.search(/\\S/);\n              if (leadingWhitespace > 0) {\n                var leadingString = '^';\n                for (var i = 0; i < leadingWhitespace; i++) {\n                  leadingString += ' ';\n                }\n                quoteBody = quoteBody.replace(new RegExp(leadingString, 'gm'), '');\n              }\n              // Trim trailing whitespace\n              quoteBody = quoteBody.replace(/\\s+$/, '');\n              // Escape for json\n              quoteBody = quoteBody\n                  .replace(/\"/g, '\\\\\"')\n                  .replace(/\\n/g, '\\\\n');\n              curlText += quoteBody;\n              curlText += '\"';\n              startOfNormal = end + 3;\n              start = body.indexOf('\"\"\"', startOfNormal);\n            }\n            curlText += body.substring(startOfNormal);\n          }\n          curlText += \"'\";\n        }\n        curlText += '\\n';\n      }\n    }\n    var temp = $('<textarea>');\n    $('body').append(temp);\n    temp.val(curlText).select();\n    var success = document.execCommand('copy');\n    temp.remove();\n    if (false == success) {\n      console.error(lang_strings(\"Couldn't automatically copy!\"));\n      console.error(curlText);\n    }\n  };\n}\n","import {Cookies, $} from \"./deps\";\nimport {get_base_url} from \"./utils.js\";\nimport {lang_strings} from \"./localization.js\";\nimport {settings_modal} from \"./components/settings_modal\";\nimport * as events from \"./events.js\";\n\nconst default_kibana_url = 'http://localhost:5601',\n      default_console_url = default_kibana_url + '/app/kibana#/dev_tools/console',\n      default_sense_url = default_kibana_url + '/app/sense/';\n\n// Global variables -- TODO improve\nvar kibana_url;\nvar console_url;\nvar sense_url;\n\nexport function init_headers(right_col, lang_strings) {\n  // Add on-this-page block\n  var this_page = $('<div id=\"this_page\"></div>').prependTo(right_col);\n  this_page.append('<h2>' + lang_strings('On this page') + '</h2>');\n  var ul = $('<ul></ul>').appendTo(this_page);\n  var items = 0;\n\n  $('#guide a[id]').each(\n    function() {\n      // Make headers into real links for permalinks\n      this.href = '#' + this.id;\n\n      // Extract on-this-page headers, without embedded links\n      var title_container = $(this).parent('h1,h2,h3').clone();\n      if (title_container.length > 0) {\n        // Exclude page title\n        if (0 < items++) {\n          title_container.find('a,.added,.coming,.deprecated,.experimental')\n            .remove();\n          var text = title_container.html();\n          ul.append('<li><a href=\"#' + this.id + '\">' + text + '</a></li>');\n        }\n      }\n    });\n  if (items < 2) {\n    this_page.remove();\n  }\n}\n\nexport function init_console_widgets(console_url, lang_strings) {\n  var base_url = get_base_url(window.location.href);\n\n  $('div.console_widget').each(function() {\n    var div = $(this);\n    var snippet = div.attr('data-snippet');\n    div.html('<a class=\"sense_widget copy_as_curl\" data-curl-host=\"localhost:9200\">'\n      + lang_strings('Copy as cURL')\n      + '</a>'\n      + '<a class=\"console_widget\" target=\"console\" '\n      + 'title=\"'\n      + lang_strings('Open snippet in Console')\n      + '\" '\n      + 'href=\"'\n      + console_url\n      + '?load_from='\n      + base_url\n      + snippet\n      + '\">'\n      + lang_strings('View in Console')\n      + '</a>'\n      + '<a class=\"console_settings\" title=\"'\n      + lang_strings('Configure Console URL')\n      + '\">&nbsp;</a>');\n    div.find('a.console_settings').click(function(_) {\n      settings_modal({label_text: lang_strings('Enter the URL of the Console editor'),\n                      url_value: console_url,\n                      button_text: lang_strings('Default Console URL'),\n                      install_text: lang_strings('Or install Kibana'),\n                      default_url: default_console_url,\n                      cookie_key: \"console_url\",\n                      update_value: new_url => {\n                        console_url = new_url;\n                        init_console_widgets(console_url, lang_strings);},\n                      lang_strings: lang_strings});\n    });\n  });\n\n  $('#guide').on('click', 'a.copy_as_curl', events.copy_as_curl(lang_strings));\n}\n\nexport function init_sense_widgets(sense_url, lang_strings) {\n  var base_url = get_base_url(window.location.href);\n\n  $('div.sense_widget').each(function() {\n    var div = $(this);\n    var snippet = div.attr('data-snippet');\n    div.html('<a class=\"sense_widget copy_as_curl\" data-curl-host=\"localhost:9200\">'\n      + lang_strings('Copy as cURL')\n      + '</a>'\n      + '<a class=\"sense_widget\" target=\"sense\" '\n      + 'title=\"'\n      + lang_strings('Open snippet in Sense')\n      + '\" '\n      + 'href=\"'\n      + sense_url\n      + '?load_from='\n      + base_url\n      + snippet\n      + '\">'\n      + lang_strings('View in Sense')\n      + '</a>'\n      + '<a class=\"sense_settings\" title=\"'\n      + lang_strings('Configure Sense URL')\n      + '\">&nbsp;</a>');\n\n    div.find('a.sense_settings').click(function(_) {\n      settings_modal({label_text: lang_strings('Enter the URL of the Sense editor'),\n                      url_value: sense_url,\n                      button_text: lang_strings('Default Sense URL'),\n                      install_text: lang_strings('Or install Sense2'),\n                      default_url: default_sense_url,\n                      cookie_key: \"sense_url\",\n                      update_value: new_url => {\n                        sense_url = new_url;\n                        init_sense_widgets(sense_url, lang_strings);},\n                      lang_strings: lang_strings});\n    });\n  });\n}\n\nfunction init_kibana_widgets(kibana_url, lang_strings) {\n  var base_url = get_base_url(window.location.href);\n\n  $('div.kibana_widget').each(function() {\n    var div = $(this);\n    var snippet = div.attr('data-snippet');\n    div.html('<a class=\"kibana_widget copy_as_curl\" data-curl-host=\"'\n      + kibana_url\n      + '\" data-kibana=\"true\">'\n      + lang_strings('Copy as cURL')\n      + '</a>'\n      + '<a class=\"kibana_settings\" title=\"'\n      + lang_strings('Configure Kibana URL')\n      + '\">&nbsp</a>'\n    );\n\n    div.find('a.kibana_settings').click(function(_) {\n      settings_modal({label_text: lang_strings('Enter the URL of Kibana'),\n                      url_value: kibana_url,\n                      button_text: lang_strings('Default Kibana URL'),\n                      install_text: lang_strings('Or install Kibana'),\n                      default_url: default_kibana_url,\n                      cookie_key: \"kibana_url\",\n                      update_value: new_url => {\n                        kibana_url = new_url;\n                        init_kibana_widgets(kibana_url, lang_strings);},\n                      lang_strings: lang_strings});\n    });\n  });\n}\n\nfunction get_current_page_in_version(version) {\n  var url = location.href;\n  var url = location.href.replace(/[^\\/]+\\/+([^\\/]+\\.html)/, version + \"/$1\");\n  return $.get(url).done(function() {\n    location.href = url\n  });\n}\n\nfunction init_toc(lang_strings) {\n  var title = $('#book_title');\n\n  // Make li elements in toc collapsible\n  $('div.toc li ul').each(function() {\n    var li = $(this).parent();\n    li.addClass('collapsible').children('span').click(function() {\n      if (li.hasClass('show')) {\n        li.add(li.find('li.show')).removeClass('show');\n        if (title.hasClass('show')) {\n          title.removeClass('show');\n        }\n      } else {\n        li.parents('div.toc,li').first().find('li.show').removeClass('show');\n        li.addClass('show');\n      }\n    });\n  });\n\n  // Make book title in toc collapsible\n  if ($('.collapsible').length > 0) {\n    title.addClass('collapsible').click(function() {\n      if (title.hasClass('show')) {\n        title.removeClass('show');\n        title.parent().find('.show').removeClass('show');\n      } else {\n        title.addClass('show');\n        title.parent().find('.collapsible').addClass('show');\n      }\n    });\n  }\n\n  // Clicking links or the version selector shouldn't fold/expand\n  $('div.toc a, #book_title select').click(function(e) {\n    e.stopPropagation();\n  });\n\n  // Setup version selector\n  var v_selected = title.find('select option:selected');\n  title\n    .find('select')\n    .change(function() {\n       var version = title.find('option:selected').val();\n       get_current_page_in_version(version).fail(function() {\n         v_selected.attr('selected', 'selected');\n         alert(lang_strings('This page is not available in the docs for version:')\n               + version);\n       });\n     });\n}\n\n// Expand ToC to current page (without #)\nexport function open_current(pathname) {\n  var page = pathname.match(/[^\\/]+$/)[0];\n  var current = $('div.toc a[href=\"' + page + '\"]');\n  current.addClass('current_page');\n  current.parentsUntil('ul.toc', 'li.collapsible').addClass('show');\n}\n\n// Main function, runs on DOM ready\n$(function() {\n  var lang = $('section#guide[lang]').attr('lang') || 'en';\n  var LangStrings = lang_strings(lang);\n  var right_col = $('#right_col'); // Move rtp container to top right and make visible\n\n  // Set global variables - TODO improve\n  kibana_url  = Cookies.get('kibana_url') || default_kibana_url;\n  console_url = Cookies.get('console_url') || default_console_url;\n  sense_url   = Cookies.get('sense_url') || default_sense_url;\n\n  $('.page_header > a[href=\"../current/index.html\"]').click(function() {\n    get_current_page_in_version('current');\n  });\n\n  // Enable Sense widget\n  init_sense_widgets(sense_url, LangStrings);\n  init_console_widgets(console_url, LangStrings);\n  init_kibana_widgets(kibana_url, LangStrings);\n\n  var div = $('div.toc');\n\n  // Fetch toc.html unless there is already a .toc on the page\n  if (div.length == 0 && $('#guide').find('div.article,div.book').length == 0) {\n    var url = location.href.replace(/[^\\/]+$/, 'toc.html');\n    var toc = $.get(url, {}, function(data) {\n      right_col.append(data);\n      init_toc(LangStrings);\n      open_current(location.pathname);\n    }).always(function() {\n      init_headers(right_col, LangStrings);\n    });\n  } else {\n    init_toc(LangStrings);\n  }\n});\n"]}